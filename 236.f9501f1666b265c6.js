"use strict";(self.webpackChunkdip=self.webpackChunkdip||[]).push([[236],{22236:(Zo,_t,l)=>{l.r(_t),l.d(_t,{OrderIntakeHistoryModule:()=>ko});var s=l(36362),p=l(85861),gt=l(30676),B=l(43717),nt=l(63564),M=l(28299),A=l(24147),h=l(65843),t=l(3184);let Rt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[s.ez,p.Bz,gt.m,nt.a4,M.$l.forFeature([A.f,h.n])]]}),n})();var T=l(32714),Qt=l(43299);const zt=["o"];let Ht=(()=>{class n{constructor(e,r,i){this.data=e,this._store=r,this._router=i,e.lastTap=null,e.lastTap2=null}ngOnInit(){switch(this._router.snapshot.data.title){case"order_intake_history":default:this._store.dispatch(new h.X.Get);break;case"order_backlog":this._store.dispatch(new A.P.Get)}}getLevel(){return this.data.currentLevel=+this.outlet.activatedRouteData.level,this.outlet.activatedRouteData.level}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(T.D),t.Y36(M.yh),t.Y36(p.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["order-backlog-wrapper"]],viewQuery:function(e,r){if(1&e&&t.Gf(zt,7),2&e){let i;t.iGM(i=t.CRH())&&(r.outlet=i.first)}},hostVars:1,hostBindings:function(e,r){2&e&&t.d8E("@routerTransition",r.getLevel())},decls:2,vars:0,consts:[["o","outlet"]],template:function(e,r){1&e&&t._UZ(0,"router-outlet",null,0)},directives:[p.lC],styles:["[_nghost-%COMP%]{position:relative;display:block}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{display:block}  .plant-select-panel{min-width:calc(100% + 60px)!important}  .plant-select-panel .zone{color:#ffffffb3}  .plant-select-panel .zone .mat-option-text{text-transform:uppercase}  .plant-select-panel .plant{padding-left:40px}  .plant-select-panel .mat-optgroup-label{color:#f8b03be6}[_nghost-%COMP%]  .header-row{position:relative}[_nghost-%COMP%]  .header-row .title.with-selector{flex:initial;padding-left:20px!important}@media (min-width: 800px){[_nghost-%COMP%]  .header-row .title.with-selector{padding-left:30px!important}}[_nghost-%COMP%]  .header-row .title.with-selector .mat-form-field-infix{border-top:0}[_nghost-%COMP%]  .header-row .title.with-selector .mat-form-field-wrapper{padding-bottom:0}[_nghost-%COMP%]  .header-row .title.with-selector .mat-form-field .mat-select-value{padding-right:5px}[_nghost-%COMP%]  .header-row .title.with-selector .mat-form-field{max-width:90px!important}[_nghost-%COMP%]  .header-row i.arrow{position:absolute;height:100%;width:35px;top:0;bottom:0;left:0;z-index:99;transform:rotate(180deg);margin:auto;display:block;background-image:url(assets/arrow.svg);background-size:7px;background-repeat:no-repeat;background-position-y:center;background-position-x:15px;transition:background-position-x .2s ease-in-out}[_nghost-%COMP%]  .header-row i.arrow:hover{background-position-x:25px}@media (min-width: 800px){[_nghost-%COMP%]  .header-row i.arrow{width:60px}}[_nghost-%COMP%]  dip-month-selector, [_nghost-%COMP%]  dip-product-region-selector, [_nghost-%COMP%]  dip-plant-selector{display:block}  order-backlog-sub-lvl2,   order-backlog-main,   order-backlog-sub-lvl3,   order-intake-history-sub-lvl2,   order-intake-history-main,   order-intake-history-sub-lvl3{position:fixed;top:0;bottom:0;height:calc(100% - 32px);padding-top:70px;box-sizing:border-box;width:100%;left:0;overflow-y:auto;transform:translate(0);touch-action:pan-y!important}  .mat-form-field-appearance-legacy .mat-form-field-infix{padding:0}  .mat-form-field-appearance-legacy .mat-form-field-underline{display:none}  .mat-select-value-text{color:#fff}  .mat-select-arrow{color:#fff!important;opacity:.7}  .mat-select-content{background-color:#29293199}  .mat-option:not(.mat-selected){color:#fff}  .mat-option.mat-selected{color:#f8b03b!important}"],data:{animation:[Qt.j]}}),n})(),Y=(()=>{class n{constructor(e){this._router=e}goToMainView(){this._router.navigate(["/ecommerce evolution"])}goToPlantZoneView(e,r,i){this._router.navigate(["/ecommerce evolution",r=r||e.snapshot.params.plant,i=i||e.snapshot.params.id])}goToMonthView(e,r,i,a){this._router.navigate(["/ecommerce evolution",r=r||e.snapshot.params.plant,i=i||e.snapshot.params.id,"month",a=a||e.snapshot.params.month])}goToProductRegionView(e,r,i,a,c,_){this._router.navigate(["/ecommerce evolution",r=r||e.snapshot.params.plant,i=i||e.snapshot.params.id,"month",a=a||e.snapshot.params.month,c=c||e.snapshot.params.type,_=_||e.snapshot.params.value])}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(p.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var D=l(70946),f=l(31631),R=l(29590),lt=l(55901),G=l(50318),st=l(68491),It=l(33935);class w{constructor(o){this._store=o}valueChanged(o){let e="total"==o;this._store.dispatch(new h.X.SetShowTotal(e)),localStorage.setItem("intake_history_show_total",e.toString())}}w.\u0275fac=function(o){return new(o||w)(t.Y36(M.yh))},w.\u0275cmp=t.Xpm({type:w,selectors:[["dip-total-selector"]],decls:9,vars:9,consts:[["appearance","legacy",3,"value","change"],["group","matButtonToggleGroup"],["value","avg"],["value","total"]],template:function(o,e){if(1&o){const r=t.EpF();t.TgZ(0,"mat-button-toggle-group",0,1),t.NdJ("change",function(){t.CHM(r);const a=t.MAs(1);return e.valueChanged(a.value)}),t.ALo(2,"async"),t.TgZ(3,"mat-button-toggle",2),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"mat-button-toggle",3),t._uU(7),t.ALo(8,"translate"),t.qZA()()}2&o&&(t.Q6J("value",t.lcZ(2,3,e.showTotal$)?"total":"avg"),t.xp6(4),t.Oqu(t.lcZ(5,5,"total_selector.avg_view")),t.xp6(3),t.Oqu(t.lcZ(8,7,"total_selector.total_view")))},directives:[st.A9,st.Yi],pipes:[s.Ov,It.X$],styles:[".mat-button-toggle-label-content{line-height:30px!important;padding:0 35px!important;letter-spacing:1px;font-family:CorpoSDem;text-transform:uppercase;text-underline-offset:3px}  .mat-button-toggle-checked .mat-button-toggle-label-content{text-decoration:underline}.mat-button-toggle-group[_ngcontent-%COMP%]{margin-left:35px;box-shadow:none;line-height:0;font-size:10px}body[theme=light]   [_nghost-%COMP%]   .mat-button-toggle-group[_ngcontent-%COMP%]{margin-top:20px}@media (max-width: 800px){body[theme=light]   [_nghost-%COMP%]   .mat-button-toggle-group[_ngcontent-%COMP%]{margin-bottom:0}}.mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]{line-height:30px!important;background-color:#333!important;color:gray;transition:all .2s ease-in-out}body[theme=light]   [_nghost-%COMP%]   .mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]{background-color:#0000000d!important;color:#101010}body[theme=light]   [_nghost-%COMP%]   .mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]:hover{background-color:#0003!important;color:#e59123!important}body[theme=light]   [_nghost-%COMP%]   .mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#0000001a!important;color:#e59123!important}.mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]:active, .mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]:focus{outline:none}.mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]:hover{color:#f8b03b;background-color:#5d5d5d!important}.mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle.mat-button-toggle-checked[_ngcontent-%COMP%]{color:#f8b03b;background-color:#4d4d4d!important}@media (max-width: 800px){.mat-button-toggle-group[_ngcontent-%COMP%]   .mat-button-toggle[_ngcontent-%COMP%]{width:50vw}}@media (max-width: 800px){.mat-button-toggle-group[_ngcontent-%COMP%]{margin-top:0!important;margin-left:0}}"],changeDetection:0}),function(n,o,e,r){var c,i=arguments.length,a=i<3?o:null===r?r=Object.getOwnPropertyDescriptor(o,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,o,e,r);else for(var _=n.length-1;_>=0;_--)(c=n[_])&&(a=(i<3?c(a):i>3?c(o,e,a):c(o,e))||a);i>3&&a&&Object.defineProperty(o,e,a)}([(0,M.Ph)(h.n.GetShowTotal),function(n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",o)}(0,lt.y)],w.prototype,"showTotal$",void 0);var d=l(93295),P=l(56908);let q=(()=>{class n{constructor(e){this._ac=e,this.transform=r=>pt(r,this.report),this.report=this._ac.snapshot.data.title}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.gz,16))},n.\u0275pipe=t.Yjl({name:"distinctMonths",type:n,pure:!0}),n})();function pt(n,o=null){let r,e="YYYY-MM-DD";return"order_intake_history"===o?(e="YYYYMM",r=d.g9.Date):(e="YYYY-MM-DD",r=d.C7.Date),n.reduce((i,a)=>{const c=P(a[r],e).format("YYYY-MM");return i[c]=i[c]||[],i[c].push(a),i},{})}var m=l(86942);let dt=(()=>{class n{constructor(e,r){let i;this._ac=e,this._store=r,this.report=this._ac.snapshot.data.title,i="order_intake_history"===this.report?h.n.GetDateRanges:A.f.GetDateRanges,this.ranges$=this._store.select(i)}transform(e,r){return this.ranges$.pipe((0,m.U)(i=>ut(e,r,i,this.report)))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.gz,16),t.Y36(M.yh,16))},n.\u0275pipe=t.Yjl({name:"filterYear",type:n,pure:!0}),n})();function ut(n,o,e,r=null){let i="",a=0;return"order_intake_history"===r?(i=d.g9.Date,a=6):(i=d.C7.Date,a=7),n.filter("current"===o?c=>e.actual.includes(c[i].toString().substr(0,a)):c=>e.previous.includes(c[i].toString().substr(0,a)))}var y=l(46584),b=l(59095),Jt=l(59151),Dt=l(79128);let Ft=(()=>{class n{constructor(e){this._ac=e,this.report=this._ac.snapshot.data.title}transform(e){return"order_intake_history"!=this.report?"":e?"\u03a3":"\xd8"}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.gz,16))},n.\u0275pipe=t.Yjl({name:"valueSign",type:n,pure:!0}),n})(),$t=(()=>{class n{constructor(e){this._ac=e}transform(e,r=null){let a="",c="";if("order_intake_history"===this._ac.snapshot.data.title){if(a="YYYYMM",c="MM/YYYY","today"==r)return P().subtract(1,"days").format("DD/MM/YYYY")}else a="YYYY-MM-DD",c="DD/MM/YYYY","monthOnly"==r&&(c="MM/YYYY");return P(e,a).format(c)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.gz,16))},n.\u0275pipe=t.Yjl({name:"formatLatestDay",type:n,pure:!0}),n})();function Ut(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",9)(2,"div",10),t._uU(3),t.ALo(4,"valueSign"),t.ALo(5,"async"),t.ALo(6,"formatLatestDay"),t.ALo(7,"async"),t.qZA(),t._UZ(8,"div",11),t.qZA(),t.TgZ(9,"div",9)(10,"div",10),t._uU(11),t.ALo(12,"valueSign"),t.ALo(13,"async"),t.qZA(),t.TgZ(14,"div",11),t._uU(15,"Year"),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(3),t.AsE("",t.lcZ(4,3,t.lcZ(5,5,e.totalOrAverageSign))," ",t.lcZ(6,7,t.lcZ(7,9,e.days$).latestDay),""),t.xp6(8),t.hij("",t.lcZ(12,11,t.lcZ(13,13,e.totalOrAverageSign))," Prev.")}}function Bt(n,o){if(1&n&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"valueSign"),t.ALo(3,"async"),t.ALo(4,"formatLatestDay"),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"div",9),t._uU(7),t.ALo(8,"valueSign"),t.ALo(9,"async"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.AsE("",t.lcZ(2,3,t.lcZ(3,5,e.totalOrAverageSign))," ",t.lcZ(4,7,t.lcZ(5,9,e.days$).latestDay),""),t.xp6(6),t.hij("",t.lcZ(8,11,t.lcZ(9,13,e.totalOrAverageSign))," Prev. Year")}}function jt(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Ut,16,15,"ng-container",7),t.ALo(2,"async"),t.YNc(3,Bt,10,15,"ng-template",null,8,t.W1O),t.BQk()),2&n){const e=t.MAs(4),r=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,r._data.mobile$))("ngIfElse",e)}}function Et(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",9)(2,"div",10),t._uU(3),t.ALo(4,"valueSign"),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"div",11),t._uU(7,"12 Month"),t.qZA()(),t.TgZ(8,"div",9)(9,"div",10),t._uU(10),t.ALo(11,"valueSign"),t.ALo(12,"async"),t.qZA(),t.TgZ(13,"div",11),t._uU(14,"Year"),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(3),t.hij("",t.lcZ(4,2,t.lcZ(5,4,e.totalOrAverageSign))," Last"),t.xp6(7),t.hij("",t.lcZ(11,6,t.lcZ(12,8,e.totalOrAverageSign))," Prev.")}}function Gt(n,o){if(1&n&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"valueSign"),t.ALo(3,"async"),t.qZA(),t.TgZ(4,"div",9),t._uU(5),t.ALo(6,"valueSign"),t.ALo(7,"async"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij("",t.lcZ(2,2,t.lcZ(3,4,e.totalOrAverageSign))," Last 12 month"),t.xp6(4),t.hij("",t.lcZ(6,6,t.lcZ(7,8,e.totalOrAverageSign))," Prev. Year")}}function qt(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Et,15,10,"ng-container",7),t.ALo(2,"async"),t.YNc(3,Gt,8,10,"ng-template",null,8,t.W1O),t.BQk()),2&n){const e=t.MAs(4),r=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,r._data.mobile$))("ngIfElse",e)}}function Vt(n,o){1&n&&t.GkF(0)}function Wt(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Vt,1,0,"ng-container",12),t.ALo(2,"async"),t.TgZ(3,"div",9)(4,"div",10),t._uU(5),t.ALo(6,"valueSign"),t.ALo(7,"async"),t.qZA(),t.TgZ(8,"div",11),t._uU(9,"Year"),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2),r=t.MAs(7),i=t.MAs(9);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,4,e.currentMonthDate$)===e.currentMonth)("ngIfThen",r)("ngIfElse",i),t.xp6(4),t.hij("",t.lcZ(6,6,t.lcZ(7,8,e.totalOrAverageSign))," Prev.")}}function Xt(n,o){1&n&&t.GkF(0)}function Kt(n,o){if(1&n&&(t.YNc(0,Xt,1,0,"ng-container",12),t.ALo(1,"async"),t.TgZ(2,"div",9),t._uU(3),t.ALo(4,"valueSign"),t.ALo(5,"async"),t.qZA()),2&n){const e=t.oxw(2),r=t.MAs(7),i=t.MAs(11);t.Q6J("ngIf",t.lcZ(1,4,e.currentMonthDate$)==e.currentMonth)("ngIfThen",r)("ngIfElse",i),t.xp6(3),t.hij("",t.lcZ(4,6,t.lcZ(5,8,e.totalOrAverageSign))," Prev. Year")}}function tn(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Wt,10,10,"ng-container",7),t.ALo(2,"async"),t.YNc(3,Kt,6,10,"ng-template",null,8,t.W1O),t.BQk()),2&n){const e=t.MAs(4),r=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,r._data.mobile$))("ngIfElse",e)}}function nn(n,o){1&n&&t.GkF(0)}function en(n,o){if(1&n&&(t.ynx(0),t.YNc(1,nn,1,0,"ng-container",12),t.ALo(2,"async"),t.TgZ(3,"div",9)(4,"div",10),t._uU(5),t.ALo(6,"valueSign"),t.ALo(7,"async"),t.qZA(),t.TgZ(8,"div",11),t._uU(9,"Year"),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2),r=t.MAs(7),i=t.MAs(9);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,4,e.currentMonthDate$)===e.currentMonth)("ngIfThen",r)("ngIfElse",i),t.xp6(4),t.hij("",t.lcZ(6,6,t.lcZ(7,8,e.totalOrAverageSign))," Prev.")}}function on(n,o){1&n&&t.GkF(0)}function rn(n,o){if(1&n&&(t.YNc(0,on,1,0,"ng-container",12),t.ALo(1,"async"),t.TgZ(2,"div",9),t._uU(3),t.ALo(4,"valueSign"),t.ALo(5,"async"),t.qZA()),2&n){const e=t.oxw(2),r=t.MAs(7),i=t.MAs(11);t.Q6J("ngIf",t.lcZ(1,4,e.currentMonthDate$)==e.currentMonth)("ngIfThen",r)("ngIfElse",i),t.xp6(3),t.hij("",t.lcZ(4,6,t.lcZ(5,8,e.totalOrAverageSign))," Prev. Year")}}function an(n,o){if(1&n&&(t.ynx(0),t.YNc(1,en,10,10,"ng-container",7),t.ALo(2,"async"),t.YNc(3,rn,6,10,"ng-template",null,8,t.W1O),t.BQk()),2&n){const e=t.MAs(4),r=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,r._data.mobile$))("ngIfElse",e)}}function cn(n,o){if(1&n&&(t.TgZ(0,"div",9)(1,"div",10),t._uU(2),t.ALo(3,"valueSign"),t.ALo(4,"async"),t.ALo(5,"formatLatestDay"),t.ALo(6,"async"),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.AsE("",t.lcZ(3,2,t.lcZ(4,4,e.totalOrAverageSign))," ",t.xi3(5,6,t.lcZ(6,9,e.currentMonthDate$),"today"),"")}}function _n(n,o){if(1&n&&(t.TgZ(0,"div",9)(1,"div",10),t._uU(2),t.ALo(3,"valueSign"),t.ALo(4,"async"),t.ALo(5,"formatLatestDay"),t.ALo(6,"async"),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.AsE("",t.lcZ(3,2,t.lcZ(4,4,e.totalOrAverageSign))," ",t.xi3(5,6,t.lcZ(6,9,e.currentMonthDate$),"monthOnly"),"")}}function gn(n,o){if(1&n&&(t.TgZ(0,"div",9)(1,"div",10),t._uU(2),t.ALo(3,"valueSign"),t.ALo(4,"async"),t.ALo(5,"formatLatestDay"),t.ALo(6,"async"),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.AsE("",t.lcZ(3,2,t.lcZ(4,4,e.totalOrAverageSign))," ",t.xi3(5,6,t.lcZ(6,9,e.currentMonthDate$),"monthOnly"),"")}}let V=(()=>{class n{constructor(e,r,i){this._data=e,this._ac=r,this._store=i,this.level=this._ac.snapshot.data.level;const a=this._ac.snapshot.data.title;let c,_,g,O="YYYY-MM";"order_intake_history"===a?(c=h.n.GetLatestAndPreviousDay,_=h.n.GetDateRanges,g=d.g9.Date,O="YYYYMM",this.totalOrAverageSign=this._store.select(h.n.GetShowTotal)):(c=A.f.GetLatestAndPreviousDay,_=A.f.GetDateRanges,g=d.C7.Date),this.currentMonth=P().format(O),this.days$=this._store.select(c),this._store.select(_).subscribe(v=>{this.ranges=v}),this.params$=this._ac.paramMap.pipe((0,m.U)(v=>v.keys.reduce((u,tt)=>(u[tt]=v.get(tt),u),{}))),this.currentMonthDate$=this.params$.pipe((0,b.w)(v=>this._store.select(y.i.GetZoneOrPlantRows(v.plant,v.id,a)).pipe((0,Jt.h)(u=>!!u),(0,m.U)(u=>[v,u]))),(0,m.U)(([v,u])=>(u=(u=pt(u=ut(u,"current",this.ranges,a),a))[v.month])[0][g]),(0,Dt.d)({bufferSize:1,refCount:!0}))}get themeClass(){return`level${this.level}`}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(T.D),t.Y36(p.gz),t.Y36(M.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["report-header"]],hostVars:2,hostBindings:function(e,r){2&e&&t.Tol(r.themeClass)},decls:14,vars:5,consts:[[1,"empty"],[3,"ngSwitch"],[4,"ngSwitchCase"],["today",""],["last12MonthMobile",""],["last12MonthDesktop",""],[1,"glyph"],[4,"ngIf","ngIfElse"],["desktopHeaders",""],[1,"report-date"],[1,"upper"],[1,"lower"],[4,"ngIf","ngIfThen","ngIfElse"]],template:function(e,r){1&e&&(t._UZ(0,"div",0),t.ynx(1,1),t.YNc(2,jt,5,4,"ng-container",2),t.YNc(3,qt,5,4,"ng-container",2),t.YNc(4,tn,5,4,"ng-container",2),t.YNc(5,an,5,4,"ng-container",2),t.BQk(),t.YNc(6,cn,7,11,"ng-template",null,3,t.W1O),t.YNc(8,_n,7,11,"ng-template",null,4,t.W1O),t.YNc(10,gn,7,11,"ng-template",null,5,t.W1O),t.TgZ(12,"div",6),t._uU(13,"\u0394"),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngSwitch",r.level),t.xp6(1),t.Q6J("ngSwitchCase",1),t.xp6(1),t.Q6J("ngSwitchCase",2),t.xp6(1),t.Q6J("ngSwitchCase",3),t.xp6(1),t.Q6J("ngSwitchCase",4))},directives:[s.RF,s.n9,s.O5],pipes:[s.Ov,Ft,$t],styles:["[_nghost-%COMP%]{display:flex;width:100%;flex:1 100%;height:40px;line-height:18px;position:relative;padding:0 20px 0 15px;box-sizing:border-box}@media (min-width: 800px){[_nghost-%COMP%]{height:30px;line-height:30px;padding-right:40px}.level1[_nghost-%COMP%]{margin-top:0!important}.level2[_nghost-%COMP%]{margin-top:10px!important}}[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]{flex:1 30%;padding-left:5px;position:relative}@media (min-width: 400px) and (max-width: 959.98px) and (orientation: landscape){[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]{flex:1 60%}}@media (min-width: 800px){[_nghost-%COMP%]   .empty[_ngcontent-%COMP%]{flex:1 70%}}[_nghost-%COMP%]   .report-date[_ngcontent-%COMP%]{flex:1 15%;text-align:right;font-size:12px;letter-spacing:1px;line-height:18px}@media (min-width: 800px){[_nghost-%COMP%]   .report-date[_ngcontent-%COMP%]{flex:1 15%;font-size:15px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;line-height:30px}}[_nghost-%COMP%]   .glyph[_ngcontent-%COMP%]{flex:1 15%;text-align:right;font-size:12px;letter-spacing:1px;line-height:40px}@media (min-width: 800px){[_nghost-%COMP%]   .glyph[_ngcontent-%COMP%]{flex:1 15%;font-size:15px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;line-height:30px}}"],changeDetection:0}),n})(),Q=(()=>{class n{constructor(e,r){this.vcRef=e,this.templateRef=r,this.context={}}set ngLet(e){this._ref||this.createView(),this._ref.context.$implicit=this.context.ngLet=e}createView(){this.vcRef.clear(),this._ref=this.vcRef.createEmbeddedView(this.templateRef,this.context)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.s_b),t.Y36(t.Rgc))},n.\u0275dir=t.lG2({type:n,selectors:[["","ngLet",""]],inputs:{ngLet:"ngLet"}}),n})(),ht=(()=>{class n{constructor(e,r){let a;this.activatedRoute=e,this._store=r,a="order_intake_history"===this.activatedRoute.snapshot.data.title?h.n.GetLatestAndPreviousDay:A.f.GetLatestAndPreviousDay,this.latestAndPreviousDay$=this._store.select(a)}transform(e,r){return this.latestAndPreviousDay$.pipe((0,m.U)(a=>et(e,r,a,this.activatedRoute.snapshot.data.title)))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.gz,16),t.Y36(M.yh,16))},n.\u0275pipe=t.Yjl({name:"filterDay",type:n,pure:!0}),n})();function et(n,o,e,r=null){let i;return i="order_intake_history"===r?d.g9.Date:d.C7.Date,n.filter("current"===o?a=>a[i]===e.latestDay:a=>a[i]===e.previousDay)}var W=l(19180);let j=(()=>{class n{constructor(e){this.activatedRoute=e,this.transform=r=>N(r,this.report),this.report=this.activatedRoute.snapshot.data.title}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.gz,16))},n.\u0275pipe=t.Yjl({name:"sumQuantity",type:n,pure:!0}),n})();function N(n,o=null){let e;return e="order_intake_history"===o?"true"==localStorage.getItem("intake_history_show_total")?d.g9.Total:d.g9.Average:d.C7.Quantity,n&&0!==n.length?(0,W.Mf)(n,e):NaN}let ln=(()=>{class n{constructor(e,r){let i;this.activatedRoute=e,this._store=r,this.report=this.activatedRoute.snapshot.data.title,i="order_intake_history"===this.report?h.n.GetLatestAndPreviousDay:A.f.GetLatestAndPreviousDay,this.days$=this._store.select(i)}transform(e){return this.days$.pipe((0,m.U)(r=>{let i=0;return e.forEach(a=>{const c=N(et(a.value,"current",r,this.report),this.report),_=N(et(a.value,"previous",r,this.report),this.report);c>i&&(i=c),_>i&&(i=_)}),i}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.gz,16),t.Y36(M.yh,16))},n.\u0275pipe=t.Yjl({name:"highestZoneTotal",type:n,pure:!0}),n})();var sn=l(64139),pn=l(83859),mt=l(25722);let ot=(()=>{class n{transform(e,r){return(0,sn.of)(e).pipe((0,pn.g)(0),(0,mt.O)(r))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"startWith",type:n,pure:!0}),n})(),dn=(()=>{class n{transform(e,r){return+(e/r*100).toFixed(0)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"percent",type:n,pure:!0}),n})();var S=l(64066),rt=l(44498);class z{transform(o,e){return function mn(n,o,e){return n[0][["group","zone"].includes(o)?d.C7[`PlantGroup${e}`]:d.C7[`Plant${e}`]]}(o,e,this.language)}}function vn(n,o){if(1&n&&(t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"toNumber"),t.qZA()),2&n){const e=t.oxw().ngLet;t.xp6(1),t.Oqu(t.lcZ(2,1,e))}}function fn(n,o){if(1&n&&(t.TgZ(0,"div",9),t.ALo(1,"async"),t.ALo(2,"startWith"),t.ALo(3,"percent"),t.YNc(4,vn,3,3,"div",10),t.ALo(5,"async"),t.qZA()),2&n){const e=o.ngLet,r=t.oxw(3).ngLet,i=t.oxw();t.Udp("height",t.lcZ(1,3,t.xi3(2,5,t.xi3(3,8,e,r),0)),"%"),t.xp6(4),t.Q6J("ngIf",!t.lcZ(5,11,i._data.mobile$))}}function On(n,o){if(1&n&&(t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"toNumber"),t.qZA()),2&n){const e=t.oxw().ngLet;t.xp6(1),t.Oqu(t.lcZ(2,1,e))}}function Cn(n,o){if(1&n&&(t.TgZ(0,"div",12),t.ALo(1,"async"),t.ALo(2,"startWith"),t.ALo(3,"percent"),t.YNc(4,On,3,3,"div",10),t.ALo(5,"async"),t.qZA()),2&n){const e=o.ngLet,r=t.oxw(3).ngLet,i=t.oxw();t.Udp("height",t.lcZ(1,3,t.xi3(2,5,t.xi3(3,8,e,r),0)),"%"),t.xp6(4),t.Q6J("ngIf",!t.lcZ(5,11,i._data.mobile$))}}function Mn(n,o){if(1&n&&(t.ynx(0),t.YNc(1,fn,6,13,"div",7),t.ALo(2,"sumQuantity"),t.ALo(3,"async"),t.ALo(4,"filterDay"),t.YNc(5,Cn,6,13,"div",8),t.ALo(6,"sumQuantity"),t.ALo(7,"async"),t.ALo(8,"filterDay"),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngLet",t.lcZ(2,2,t.lcZ(3,4,t.xi3(4,6,e.value,"current")))),t.xp6(4),t.Q6J("ngLet",t.lcZ(6,9,t.lcZ(7,11,t.xi3(8,13,e.value,"previous"))))}}function Pn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",3),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw(2).goZone(a.key)}),t.TgZ(1,"div",4)(2,"div",5),t.YNc(3,Mn,9,16,"ng-container",1),t.ALo(4,"sumQuantity"),t.qZA()(),t.TgZ(5,"div",6),t._uU(6),t.ALo(7,"groupOrPlantName"),t.qZA()()}if(2&n){const e=o.$implicit,r=t.oxw(2);t.Udp("width",100/r.zones.length,"%"),t.xp6(3),t.Q6J("ngLet",t.lcZ(4,4,e.value)),t.xp6(3),t.Oqu(t.xi3(7,6,e.value,"group"))}}function xn(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Pn,8,9,"div",2),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.zones)}}z.\u0275fac=function(o){return new(o||z)},z.\u0275pipe=t.Yjl({name:"groupOrPlantName",type:z,pure:!0}),function(n,o,e,r){var c,i=arguments.length,a=i<3?o:null===r?r=Object.getOwnPropertyDescriptor(o,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,o,e,r);else for(var _=n.length-1;_>=0;_--)(c=n[_])&&(a=(i<3?c(a):i>3?c(o,e,a):c(o,e))||a);i>3&&a&&Object.defineProperty(o,e,a)}([(0,R.cB)(rt.Z.GetLanguageHuman),function(n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",String)}()],z.prototype,"language",void 0);let wn=(()=>{class n{constructor(e,r,i){this.router=e,this.route=r,this._data=i}goZone(e){this.router.navigate(["zone",e],{relativeTo:this.route,replaceUrl:!0})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.F0),t.Y36(p.gz),t.Y36(T.D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["report-graphic"]],inputs:{zones:"zones"},decls:4,vars:6,consts:[[1,"wrapper"],[4,"ngLet"],["class","zone",3,"width","click",4,"ngFor","ngForOf"],[1,"zone",3,"click"],[1,"bars"],[2,"position","relative","height","100%"],[1,"title"],["class","actual",3,"height",4,"ngLet"],["class","previous",3,"height",4,"ngLet"],[1,"actual"],["class","value",4,"ngIf"],[1,"value"],[1,"previous"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.YNc(1,xn,2,1,"ng-container",1),t.ALo(2,"async"),t.ALo(3,"highestZoneTotal"),t.qZA()),2&e&&(t.Q6J("@list",r.zones.length),t.xp6(1),t.Q6J("ngLet",t.lcZ(2,2,t.lcZ(3,4,r.zones))))},directives:[Q,s.sg,s.O5],pipes:[s.Ov,ln,j,ot,dn,ht,S.$,z],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}.wrapper[_ngcontent-%COMP%]{height:100%}.zone[_ngcontent-%COMP%]{display:inline-block;height:100%;position:relative;cursor:pointer;transition:top .15s ease-in-out;top:0}.zone[_ngcontent-%COMP%]:hover{top:-10px}.zone[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;height:30px;bottom:0;left:0;width:100%;line-height:30px;text-align:center}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;margin:auto;height:calc(100% - 40px);width:calc(100% - 20px)}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;border-radius:3px;width:calc(50% - 2px);transition:height .7s ease-in-out;background:linear-gradient(to top,rgba(0,0,0,0),rgba(0,172,193,.5));border-top:3px solid #00ACC1;padding-top:5px}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{position:absolute;top:-25px;text-align:center;width:100%;font-size:16px;font-weight:700;color:#00acc1e6}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]   .actual.zero[_ngcontent-%COMP%]{height:0%!important}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;border-radius:3px;width:calc(50% - 2px);transition:height .7s ease-in-out;background:linear-gradient(to top,rgba(0,0,0,0),rgba(248,176,59,.5));border-top:3px solid #F8B03B;padding-top:5px}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{position:absolute;top:-25px;text-align:center;width:100%;font-size:16px;font-weight:700;color:#f8b03be6}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]   .previous.zero[_ngcontent-%COMP%]{height:0%!important}[_nghost-%COMP%]  .actual{border-color:#00acc1;position:relative}body[theme=light]   [_nghost-%COMP%]  .actual{border-color:#17687f}body[theme=light]   [_nghost-%COMP%]  .previous{border-color:#e59123}body[theme=light]   [_nghost-%COMP%]  .zone .bars .actual{background:linear-gradient(to top,rgba(0,0,0,0),rgba(23,104,127,.6))!important;border-top-color:#17687f!important}body[theme=light]   [_nghost-%COMP%]  .zone .bars .actual .value{color:#17687f!important}body[theme=light]   [_nghost-%COMP%]  .zone .bars .previous{background:linear-gradient(to top,rgba(0,0,0,0),rgba(229,145,35,.6))!important;border-top-color:#e59123!important}body[theme=light]   [_nghost-%COMP%]  .zone .bars .previous .value{color:#e59123!important}body[theme=light]   [_nghost-%COMP%]  .zone .title{color:#333;font-weight:700}[_nghost-%COMP%]  .previous{border-color:#f8b03b;position:relative}"],data:{animation:[(0,f.X$)("list",[(0,f.eR)("* => *",[(0,f.IO)(":enter",(0,f.oB)({opacity:0}),{optional:!0}),(0,f.IO)(":enter",(0,f.EY)("200ms",(0,f.jt)("300ms ease-in",(0,f.oB)({opacity:1}))),{optional:!0})])])]},changeDetection:0}),n})();class L{transform(o,e){isNaN(o)&&(o=0),isNaN(e)&&(e=0);const r=e-o;return 0===r?"-":r>0?`+ ${(0,S.K)(Math.abs(r),!1,!0,this.language)}`:`- ${(0,S.K)(Math.abs(r),!1,!0,this.language)}`}}L.\u0275fac=function(o){return new(o||L)},L.\u0275pipe=t.Yjl({name:"difference",type:L,pure:!0}),function(n,o,e,r){var c,i=arguments.length,a=i<3?o:null===r?r=Object.getOwnPropertyDescriptor(o,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,o,e,r);else for(var _=n.length-1;_>=0;_--)(c=n[_])&&(a=(i<3?c(a):i>3?c(o,e,a):c(o,e))||a);i>3&&a&&Object.defineProperty(o,e,a)}([(0,R.cB)(rt.Z.GetLanguage),function(n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",String)}()],L.prototype,"language",void 0);let vt=(()=>{class n{constructor(){this.transform=e=>(0,W.b8)(e,d.C7.SortKey_Plant)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"plantsByZone",type:n,pure:!0}),n})();var ft=function(n,o,e,r){var c,i=arguments.length,a=i<3?o:null===r?r=Object.getOwnPropertyDescriptor(o,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,o,e,r);else for(var _=n.length-1;_>=0;_--)(c=n[_])&&(a=(i<3?c(a):i>3?c(o,e,a):c(o,e))||a);return i>3&&a&&Object.defineProperty(o,e,a),a},Ot=function(n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,o)};function Ln(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"div",13),t.ALo(2,"toNumber"),t._UZ(3,"div",14),t.ALo(4,"toNumber"),t._UZ(5,"div",15),t.ALo(6,"difference"),t.BQk()),2&n){const e=o.ngLet,r=t.oxw().ngLet;t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,3,r),t.oJD),t.xp6(2),t.Q6J("innerHTML",t.lcZ(4,5,e),t.oJD),t.xp6(2),t.Q6J("innerHTML",t.xi3(6,7,e,r),t.oJD)}}function kn(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Ln,7,10,"ng-container",12),t.ALo(2,"sumQuantity"),t.ALo(3,"async"),t.ALo(4,"filterDay"),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngLet",t.lcZ(2,1,t.lcZ(3,3,t.xi3(4,5,e.value,"previous"))))}}function Zn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",10),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(2);return c._obRouter.goToPlantZoneView(c._ac,"zone",a.key)}),t.TgZ(1,"div",11),t._uU(2),t.ALo(3,"groupOrPlantName"),t.qZA(),t.YNc(4,kn,5,8,"ng-container",12),t.ALo(5,"sumQuantity"),t.ALo(6,"async"),t.ALo(7,"filterDay"),t.qZA()}if(2&n){const e=o.$implicit;t.xp6(2),t.Oqu(t.xi3(3,2,e.value,"group")),t.xp6(2),t.Q6J("ngLet",t.lcZ(5,5,t.lcZ(6,7,t.xi3(7,9,e.value,"current"))))}}function An(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"div",13),t.ALo(2,"toNumber"),t._UZ(3,"div",14),t.ALo(4,"toNumber"),t._UZ(5,"div",15),t.ALo(6,"difference"),t.BQk()),2&n){const e=o.ngLet,r=t.oxw().ngLet;t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,3,r),t.oJD),t.xp6(2),t.Q6J("innerHTML",t.lcZ(4,5,e),t.oJD),t.xp6(2),t.Q6J("innerHTML",t.xi3(6,7,e,r),t.oJD)}}function Tn(n,o){if(1&n&&(t.ynx(0),t.YNc(1,An,7,10,"ng-container",12),t.ALo(2,"sumQuantity"),t.ALo(3,"async"),t.ALo(4,"filterDay"),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngLet",t.lcZ(2,1,t.lcZ(3,3,t.xi3(4,5,e.value,"previous"))))}}function Yn(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"div",13),t.ALo(2,"toNumber"),t._UZ(3,"div",14),t.ALo(4,"toNumber"),t._UZ(5,"div",15),t.ALo(6,"difference"),t.BQk()),2&n){const e=o.ngLet,r=t.oxw().ngLet;t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,3,r),t.oJD),t.xp6(2),t.Q6J("innerHTML",t.lcZ(4,5,e),t.oJD),t.xp6(2),t.Q6J("innerHTML",t.xi3(6,7,e,r),t.oJD)}}function Rn(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Yn,7,10,"ng-container",12),t.ALo(2,"sumQuantity"),t.ALo(3,"async"),t.ALo(4,"filterDay"),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngLet",t.lcZ(2,1,t.lcZ(3,3,t.xi3(4,5,e.value,"previous"))))}}function Qn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",20),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(3);return c._obRouter.goToPlantZoneView(c._ac,"plant",a.key)}),t.TgZ(1,"div",18),t._uU(2),t.ALo(3,"groupOrPlantName"),t.qZA(),t.YNc(4,Rn,5,8,"ng-container",12),t.ALo(5,"sumQuantity"),t.ALo(6,"async"),t.ALo(7,"filterDay"),t.qZA()}if(2&n){const e=o.$implicit;t.xp6(2),t.Oqu(t.xi3(3,2,e.value,"plant")),t.xp6(2),t.Q6J("ngLet",t.lcZ(5,5,t.lcZ(6,7,t.xi3(7,9,e.value,"current"))))}}function zn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",16)(1,"div",17),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(2);return c._obRouter.goToPlantZoneView(c._ac,"zone",a.key)}),t.TgZ(2,"div",18),t._uU(3),t.ALo(4,"groupOrPlantName"),t.qZA(),t.YNc(5,Tn,5,8,"ng-container",12),t.ALo(6,"sumQuantity"),t.ALo(7,"async"),t.ALo(8,"filterDay"),t.qZA(),t.YNc(9,Qn,8,12,"div",19),t.ALo(10,"keyvalue"),t.ALo(11,"plantsByZone"),t.qZA()}if(2&n){const e=o.$implicit;t.xp6(3),t.Oqu(t.xi3(4,3,e.value,"group")),t.xp6(2),t.Q6J("ngLet",t.lcZ(6,6,t.lcZ(7,8,t.xi3(8,10,e.value,"current")))),t.xp6(4),t.Q6J("ngForOf",t.lcZ(10,13,t.lcZ(11,15,e.value)))}}const Hn=function(){return[]};function In(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1),t._UZ(2,"dip-total-selector")(3,"report-header",2),t.TgZ(4,"div",3)(5,"div",4),t._UZ(6,"report-graphic",5),t.ALo(7,"async"),t.ALo(8,"startWith"),t.qZA(),t.TgZ(9,"div",6),t.YNc(10,Zn,8,12,"div",7),t.qZA()()(),t.TgZ(11,"div",8),t.YNc(12,zn,12,17,"div",9),t.qZA(),t.BQk()),2&n){const e=o.ngIf,r=t.oxw();t.xp6(6),t.Q6J("zones",t.lcZ(7,5,t.xi3(8,7,e,t.DdM(10,Hn)))),t.xp6(4),t.Q6J("ngForOf",e),t.xp6(1),t.Q6J("@list",e.length),t.xp6(1),t.Q6J("ngForOf",e)("ngForTrackBy",r.trackfn)}}class J{constructor(o,e,r,i,a,c){this._ac=o,this._data=e,this.config=r,this.title=i,this._obRouter=a,this.ref=c,this.title.setTitle(this.config.config.appTitle+" - Ecommerce evoluton")}trackfn(o,e){return e.key}}J.\u0275fac=function(o){return new(o||J)(t.Y36(p.gz),t.Y36(T.D),t.Y36(D.E),t.Y36(G.Dx),t.Y36(Y),t.Y36(t.sBO))},J.\u0275cmp=t.Xpm({type:J,selectors:[["order-intake-history-main"]],hostBindings:function(o,e){1&o&&t.NdJ("swiperight",function(i){return e._data.goFrom("order_intake_history",i)})("swipeleft",function(i){return e._data.goFrom("order_intake_history",i)})},decls:3,vars:5,consts:[[4,"ngIf"],[1,"report-header"],["type","day"],[1,"overview"],[1,"graphic"],[3,"zones"],[1,"simple"],["class","overview-group",3,"click",4,"ngFor","ngForOf"],[1,"wrapper"],["class","zone",4,"ngFor","ngForOf","ngForTrackBy"],[1,"overview-group",3,"click"],[1,"empty"],[4,"ngLet"],[1,"actual",3,"innerHTML"],[1,"previous",3,"innerHTML"],[1,"delta",3,"innerHTML"],[1,"zone"],[1,"zone-header",3,"click"],[1,"title"],["class","plant",3,"click",4,"ngFor","ngForOf"],[1,"plant",3,"click"]],template:function(o,e){1&o&&(t.YNc(0,In,13,11,"ng-container",0),t.ALo(1,"keyvalue"),t.ALo(2,"async")),2&o&&t.Q6J("ngIf",t.lcZ(1,1,t.lcZ(2,3,e.zones$)))},directives:[s.O5,w,V,wn,s.sg,Q],pipes:[s.Nd,s.Ov,ot,z,j,ht,S.$,L,vt],styles:['[_nghost-%COMP%]{display:block;left:0}@media (min-width: 800px){[_nghost-%COMP%]   report-header[_ngcontent-%COMP%] {margin-bottom:-20px}[_nghost-%COMP%]   report-header[_ngcontent-%COMP%]  .report-date, [_nghost-%COMP%]   report-header[_ngcontent-%COMP%]  .glyph{flex:1 5%}}@media (min-width: 800px){.report-header[_ngcontent-%COMP%]{height:286px;margin-bottom:2px;overflow-y:hidden}}.overview[_ngcontent-%COMP%]{display:flex;width:100%;max-height:0;overflow:hidden;transition:all .6s ease-in-out;background:linear-gradient(to bottom,rgba(255,255,255,0),rgba(52,52,69,.5))}@media (min-width: 400px) and (max-width: 959.98px) and (orientation: landscape){.overview[_ngcontent-%COMP%]{flex-wrap:wrap}}@media screen and (min-width: 400px) and (orientation: landscape){.overview[_ngcontent-%COMP%]{max-height:1000px;min-height:243px;overflow:auto;border-bottom:3px solid rgba(0,0,0,.05)}}@media (min-width: 800px){.overview[_ngcontent-%COMP%]{max-height:1000px;min-height:243px;overflow:auto;border-bottom:2px solid transparent}}.overview[_ngcontent-%COMP%]   .graphic[_ngcontent-%COMP%]{flex:1 60%;max-width:60%;padding:30px}@media (min-width: 400px) and (max-width: 959.98px) and (orientation: landscape){.overview[_ngcontent-%COMP%]   .graphic[_ngcontent-%COMP%]{flex:1 40%;max-width:40%;height:260px;padding-right:10px;border-bottom:0;padding-bottom:50px;padding-top:10px}}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]{flex:1 40%;max-width:40%;border-left:3px solid rgba(0,0,0,.35);padding:30px 20px 30px 30px}@media (min-width: 400px) and (max-width: 959.98px) and (orientation: landscape){.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]{flex:1 60%;max-width:60%;border-left-width:0;padding-left:10px}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .headers[_ngcontent-%COMP%]{padding-right:0!important}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{flex:0 0 95px!important}}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .overview-group[_ngcontent-%COMP%]{display:flex;width:100%;line-height:40px;padding:0 15px;box-sizing:border-box;transition:background .1s ease-in-out;border-radius:5px;cursor:pointer;white-space:nowrap}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .overview-group[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .overview-group[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .overview-group[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .overview-group[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%]{flex:1}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .overview-group[_ngcontent-%COMP%]:hover{background-color:#ffffff0d}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .overview-group[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{cursor:pointer}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .overview-group[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#28e8ff;font-size:16px;font-weight:700;text-align:right}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .overview-group[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#f8b03b;font-size:16px;font-weight:700;text-align:right}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .overview-group[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%]{color:#ffffffd9;font-size:16px;font-weight:700;text-align:right}body[theme=light]   [_nghost-%COMP%]  .overview .simple .overview-group .actual{color:#000!important}body[theme=light][_ngcontent-%COMP%]   .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#000!important}body[theme=light]   [_nghost-%COMP%]{background-color:#fff}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]{background-color:#e6e6e6}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#666;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#17687f!important}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#e59123!important}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%]{color:#0d0d0dcc!important}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #E6E6E6}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#333!important;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#0d0d0d!important;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#0d0d0d!important;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%]{color:#0d0d0d!important;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]{background:linear-gradient(to bottom,white,#E6E6E6);border-bottom-color:#fff}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]{border-left-color:transparent}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#17687f!important}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#e59123!important}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%]{color:#0d0d0dcc!important}.zone[_ngcontent-%COMP%]{display:block;position:relative}.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]{display:flex;padding:12px 40px;position:relative;border-bottom:1px solid transparent;background-color:#34344580;cursor:pointer}@media (max-width: 800px){.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]:hover{border-bottom-color:#f8b03b!important}.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 30%;text-transform:uppercase}@media (min-width: 800px){.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:17px;line-height:25px;flex:1 70%;letter-spacing:1px}}.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%], .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%]{flex:1 15%;font-size:16px;font-weight:700;text-align:right}@media (min-width: 800px){.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%], .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%]{flex:0 0 150px}}.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#28e8ff}.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#f8b03b}.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%]{color:#ffffffd9}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]{display:flex;padding:12px 40px;position:relative;cursor:pointer;border-bottom:1px solid transparent}@media (max-width: 800px){.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:hover{background-color:#ffffff05}body[theme=new-dark]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:hover{background-color:#121212!important}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:hover{background-color:#0000000d!important}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:hover   .title[_ngcontent-%COMP%]{padding-left:30px;box-sizing:border-box}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:hover   .title[_ngcontent-%COMP%]:after{left:10px}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:nth-child(even){background-color:#20202966}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:nth-child(odd){background-color:#18182099}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{transition:padding-left .15s ease-in-out;flex:1 30%;padding-left:20px;position:relative}@media (min-width: 800px){.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 70%}}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:after{transition:left .15s ease-in-out;content:"";position:absolute;height:12px;width:12px;top:0;bottom:0;left:0;margin:auto;display:block;background-image:url(assets/arrow.svg);background-size:contain;background-repeat:no-repeat}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#28e8ff}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#f8b03b}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%]{color:#ffffffd9}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%], .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%]{flex:1 15%;text-align:right;font-size:15px}@media (min-width: 800px){.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%], .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%]{flex:0 0 150px}}'],data:{animation:[(0,f.X$)("list",[(0,f.eR)("0 => *",[(0,f.IO)(".zone:enter",(0,f.oB)({opacity:0}),{optional:!0}),(0,f.IO)(".zone:enter",(0,f.EY)("200ms",(0,f.jt)("300ms ease-in",(0,f.oB)({opacity:1}))),{optional:!0})])])]},changeDetection:0}),ft([(0,M.Ph)(h.n.GetUniqueZones),Ot("design:type",lt.y)],J.prototype,"zones$",void 0),ft([(0,R.Q8)(h.n.GetPlanDate),Ot("design:type",String)],J.prototype,"plandate$",void 0);var X=l(84505);let Nn=(()=>{class n{constructor(e,r,i,a){"order_intake_history"===(this._store=e,this._config=r,this._data=i,this._ac=a,this.chart$=new X.X([]),this.xAxisTickFormatting=c=>P(c).locale(this._config.config.language).format("MMM"),this.xAxisTickFormattingFn=this.xAxisTickFormatting.bind(this),this.report=this._ac.snapshot.data.title,this.report)?(this.incommingDateFormat="YYYYMM",this.cutUntil=6,this.method=h.n.GetDateRanges,this.columnName=d.g9.Date):(this.incommingDateFormat="YYYY-MM",this.cutUntil=7,this.method=A.f.GetDateRanges,this.columnName=d.C7.Date),this.colorScheme$=this._data.lightTheme.valueChanges.pipe((0,mt.O)(this._data.lightTheme.value),(0,m.U)(c=>({domain:c?["#17687F","#E59123"]:["#28E8FF","#F8B03B"]})))}ngOnChanges(e){const r=e.current.currentValue,i=e.previous.currentValue;if(r.length>0&&i.length>0){const a=this._store.selectSnapshot(this.method),c=[...a.actual].sort(),_=[...a.previous].sort(),g=r.reduce((C,Z)=>{const x=Z[this.columnName].toString().substring(0,this.cutUntil);return C[x]=C[x]||[],C[x].push(Z),C},{}),O=i.reduce((C,Z)=>{const x=Z[this.columnName].toString().substring(0,this.cutUntil);return C[x]=C[x]||[],C[x].push(Z),C},{}),v=[{name:"Last 12 Month",series:[]},{name:"Prev. Year",series:[]}];let u=0;const tt=c.length;for(;u<tt;u++){const C=c[u];if(!(C in g))continue;v[0].series.push({name:P(g[C][0][this.columnName],this.incommingDateFormat).toDate(),value:N(g[C],this.report),extra:{original:P(g[C][0][this.columnName],this.incommingDateFormat).toDate()}});const Z=_[u];let x=null;try{x=P(O[Z][0][this.columnName],this.incommingDateFormat).toDate()}catch(Ao){}v[1].series.push({name:P(g[C][0][this.columnName],this.incommingDateFormat).toDate(),value:O[Z]?N(O[Z],this.report):0,extra:{original:x}})}this.chart$.next(v)}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.yh),t.Y36(D.E),t.Y36(T.D),t.Y36(p.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["report-graphic-comparison"]],inputs:{current:"current",previous:"previous"},features:[t.TTD],decls:3,vars:13,consts:[["legendPosition","below","legendTitle","",3,"scheme","legend","showXAxisLabel","showYAxisLabel","xAxis","yAxis","timeline","xAxisTickFormatting","results"]],template:function(e,r){1&e&&(t._UZ(0,"ngx-charts-line-chart",0),t.ALo(1,"async"),t.ALo(2,"async")),2&e&&t.Q6J("scheme",t.lcZ(1,9,r.colorScheme$))("legend",!0)("showXAxisLabel",!1)("showYAxisLabel",!1)("xAxis",!0)("yAxis",!0)("timeline",!1)("xAxisTickFormatting",r.xAxisTickFormattingFn)("results",t.lcZ(2,11,r.chart$))},directives:[nt.Dw],pipes:[s.Ov],styles:["[_nghost-%COMP%]{display:block;width:calc(100% - 50px);margin:30px auto 45px;height:250px;box-sizing:border-box}[_nghost-%COMP%]  .ngx-charts .line-highlight{display:block}[_nghost-%COMP%]  ngx-charts-legend-entry>span{outline:0}[_nghost-%COMP%]  .ngx-charts .gridline-path{stroke:#fff3}[_nghost-%COMP%]  .ngx-charts .tick text{fill:#ffffffb3}[_nghost-%COMP%]  .chart-legend .legend-labels{background:transparent;text-align:center;margin-top:15px}[_nghost-%COMP%]  .chart-legend .legend-labels .legend-label-text{font-size:15px}body[theme=light]   [_nghost-%COMP%]  .ngx-charts .gridline-path{stroke:#0003}body[theme=light]   [_nghost-%COMP%]  .ngx-charts .tick text{fill:#000000b3}body[theme=light]   [_nghost-%COMP%]  .chart-legend .legend-label-text{color:#0009!important;font-weight:700}[_nghost-%COMP%]  .chart-legend .legend-label-text{margin-left:5px;color:#afb7c8!important}.wrapper[_ngcontent-%COMP%]{height:100%}.zone[_ngcontent-%COMP%]{display:inline-block;height:100%;position:relative;cursor:pointer;transition:top .15s ease-in-out;top:0}.zone[_ngcontent-%COMP%]:hover{top:-10px}.zone[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;height:30px;bottom:0;left:0;width:100%;line-height:30px;text-align:center}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;margin:auto;height:calc(100% - 40px);width:calc(100% - 20px)}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;border-radius:3px;width:calc(50% - 2px);transition:height .7s ease-in-out;background-color:#00acc1}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]   .actual.zero[_ngcontent-%COMP%]{height:0%!important}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;border-radius:3px;width:calc(50% - 2px);transition:height .7s ease-in-out;background-color:#f8b03b}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]   .previous.zero[_ngcontent-%COMP%]{height:0%!important}[_nghost-%COMP%]  .actual{border-color:#00acc1;position:relative}body[theme=light]   [_nghost-%COMP%]  .actual{border-color:#17687f}body[theme=light]   [_nghost-%COMP%]  .previous{border-color:#e59123}body[theme=light]   [_nghost-%COMP%]  .zone .bars .actual{background-color:#17687f!important}body[theme=light]   [_nghost-%COMP%]  .zone .bars .previous{background-color:#e59123!important}body[theme=light]   [_nghost-%COMP%]  .zone .title{color:#333;font-weight:700}[_nghost-%COMP%]  .previous{border-color:#f8b03b;position:relative}"],changeDetection:0}),n})();var it=l(6178),k=l(90587),at=l(53298),Ct=l(61745),ct=l(72288),K=l(71412),E=l(38220);function Dn(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-option",4),t._uU(2),t.qZA(),t.BQk()),2&n){const e=o.ngLet,r=t.oxw().$implicit;t.xp6(1),t.MGl("value","zone|",r.key,""),t.xp6(1),t.Oqu(e)}}function Fn(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-option",6),t._uU(2),t.qZA(),t.BQk()),2&n){const e=o.ngLet,r=t.oxw().$implicit;t.xp6(1),t.MGl("value","plant|",r.key,""),t.xp6(1),t.Oqu(e)}}function $n(n,o){if(1&n&&(t.ynx(0,5),t.YNc(1,Fn,3,2,"ng-container",2),t.ALo(2,"groupOrPlantName"),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngLet",t.xi3(2,1,e.value,"plant"))}}function Un(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Dn,3,2,"ng-container",2),t.ALo(2,"groupOrPlantName"),t.YNc(3,$n,3,4,"ng-container",3),t.ALo(4,"keyvalue"),t.ALo(5,"plantsByZone"),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("ngLet",t.xi3(2,2,e.value,"zone")),t.xp6(2),t.Q6J("ngForOf",t.lcZ(4,5,t.lcZ(5,7,e.value)))}}class H{constructor(o,e){this._obRouter=o,this._ac=e,this.plantControl=new k.NI(""),this.params$=this._ac.paramMap.pipe((0,m.U)(r=>r.keys.reduce((i,a)=>(i[a]=r.get(a),i),{}))),this.params$.subscribe(r=>this.plantControl.setValue(`${r.plant}|${r.id}`)),this.plantControl.valueChanges.pipe((0,at.x)(),(0,m.U)(r=>({type:r.split("|")[0],value:r.split("|")[1]})),(0,Ct.M)(this.params$)).subscribe(([r,i])=>{i.hasOwnProperty("type")?this._obRouter.goToProductRegionView(this._ac,r.type,r.value,null,null,null):i.hasOwnProperty("month")?this._obRouter.goToMonthView(this._ac,r.type,r.value,null):this._obRouter.goToPlantZoneView(this._ac,r.type,r.value)})}}H.\u0275fac=function(o){return new(o||H)(t.Y36(Y),t.Y36(p.gz))},H.\u0275cmp=t.Xpm({type:H,selectors:[["dip-plant-selector"]],decls:4,vars:4,consts:[["panelClass","plant-select-panel",3,"formControl"],[4,"ngFor","ngForOf"],[4,"ngLet"],["class","plant",4,"ngFor","ngForOf"],[1,"zone",3,"value"],[1,"plant"],[1,"plant",3,"value"]],template:function(o,e){1&o&&(t.TgZ(0,"mat-form-field")(1,"mat-select",0),t.YNc(2,Un,6,9,"ng-container",1),t.ALo(3,"keyvalue"),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("formControl",e.plantControl),t.xp6(1),t.Q6J("ngForOf",t.lcZ(3,2,e.zones$)))},directives:[ct.KE,K.gD,k.JJ,k.oH,s.sg,Q,E.ey],pipes:[s.Nd,z,vt],encapsulation:2,changeDetection:0}),function(n,o,e,r){var c,i=arguments.length,a=i<3?o:null===r?r=Object.getOwnPropertyDescriptor(o,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,o,e,r);else for(var _=n.length-1;_>=0;_--)(c=n[_])&&(a=(i<3?c(a):i>3?c(o,e,a):c(o,e))||a);i>3&&a&&Object.defineProperty(o,e,a)}([(0,R.Q8)(h.n.GetUniqueZones),function(n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",Object)}()],H.prototype,"zones$",void 0);let Mt=(()=>{class n{constructor(e){this._ac=e,this.report=this._ac.snapshot.data.title}transform(e){let r,i;return"order_intake_history"===this.report?(i=d.g9.Date,r="YYYYMM"):(i=d.C7.Date,r="YYYY-MM-DD"),Object.entries(e.reduce((a,c)=>{const _=+P(c[i],r).year();return a[_]=a[_]||[],a[_].push(c),a},{})).map(a=>({key:a[0],value:a[1]})).reverse()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.gz,16))},n.\u0275pipe=t.Yjl({name:"distinctYears",type:n,pure:!0}),n})(),Pt=(()=>{class n{transform(e){return[...e].reverse()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"reverse",type:n,pure:!0}),n})(),xt=(()=>{class n{constructor(e){this._config=e}transform(e){return P(e,["YYYY-MM-DD","YYYY-MM"]).locale(this._config.config.language).format("MMMM YYYY")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(D.E,16))},n.\u0275pipe=t.Yjl({name:"monthFormat",type:n,pure:!0}),n})(),wt=(()=>{class n{constructor(e){"order_intake_history"===(this._ac=e,this._ac.snapshot.data.title)?(this.cutUntil=6,this.columnName=d.g9.Date):(this.cutUntil=7,this.columnName=d.C7.Date)}transform(e,r){const i=P(e,"YYYY-MM-DD").subtract(1,"years").format("YYYY-MM");try{return r[0].hasOwnProperty("key")?r.find(a=>a.key.substring(0,7)===i).value:r.find(a=>a[this.columnName].substring(0,this.cutUntil)===i).value}catch(a){return console.log("Previous month not found for date "+e),[]}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.gz,16))},n.\u0275pipe=t.Yjl({name:"previousMonth",type:n,pure:!0}),n})();function En(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"div",12),t.ALo(2,"toNumber"),t._UZ(3,"div",13),t.ALo(4,"toNumber"),t._UZ(5,"div",14),t.ALo(6,"difference"),t.BQk()),2&n){const e=o.ngLet,r=t.oxw().ngLet;t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,3,r),t.oJD),t.xp6(2),t.Q6J("innerHTML",t.lcZ(4,5,e),t.oJD),t.xp6(2),t.Q6J("innerHTML",t.xi3(6,7,e,r),t.oJD)}}function Gn(n,o){if(1&n&&(t.ynx(0),t.YNc(1,En,7,10,"ng-container",0),t.ALo(2,"sumQuantity"),t.ALo(3,"previousMonth"),t.BQk()),2&n){const e=t.oxw().$implicit,r=t.oxw(2).ngLet;t.xp6(1),t.Q6J("ngLet",t.lcZ(2,1,t.xi3(3,3,e.key,r)))}}function qn(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",11),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(8);return c._obRouter.goToMonthView(c._ac,null,null,a.key)}),t.TgZ(1,"div",9),t._uU(2),t.ALo(3,"monthFormat"),t.qZA(),t.YNc(4,Gn,4,6,"ng-container",0),t.ALo(5,"sumQuantity"),t.qZA()}if(2&n){const e=o.$implicit;t.xp6(2),t.Oqu(t.lcZ(3,2,e.key)),t.xp6(2),t.Q6J("ngLet",t.lcZ(5,4,e.value))}}function Vn(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",8)(2,"div",9),t._uU(3),t.qZA()(),t.YNc(4,qn,6,6,"div",10),t.ALo(5,"reverse"),t.ALo(6,"keyvalue"),t.ALo(7,"distinctMonths"),t.BQk()),2&n){const e=o.$implicit;t.xp6(3),t.Oqu(e.key),t.xp6(1),t.Q6J("ngForOf",t.lcZ(5,2,t.lcZ(6,4,t.lcZ(7,6,e.value))))}}function Wn(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Vn,8,8,"ng-container",7),t.ALo(2,"distinctYears"),t.BQk()),2&n){const e=t.oxw().ngLet;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,e))}}function Xn(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Wn,3,3,"ng-container",0),t.ALo(2,"keyvalue"),t.ALo(3,"distinctMonths"),t.ALo(4,"async"),t.ALo(5,"filterYear"),t.BQk()),2&n){const e=t.oxw(3).ngIf;t.xp6(1),t.Q6J("ngLet",t.lcZ(2,1,t.lcZ(3,3,t.lcZ(4,5,t.xi3(5,7,e,"previous")))))}}function Kn(n,o){if(1&n){const e=t.EpF();t.ynx(0),t._UZ(1,"dip-total-selector")(2,"report-graphic-comparison",2),t.TgZ(3,"div",3),t._UZ(4,"report-header"),t.TgZ(5,"div",4)(6,"i",5),t.NdJ("click",function(){return t.CHM(e),t.oxw(4)._obRouter.goToMainView()}),t.qZA(),t.TgZ(7,"div",6),t._UZ(8,"dip-plant-selector"),t.qZA()(),t.YNc(9,Xn,6,10,"ng-container",0),t.ALo(10,"async"),t.ALo(11,"filterYear"),t.qZA(),t.BQk()}if(2&n){const e=o.ngLet,r=t.oxw().ngLet,i=t.oxw().ngIf;t.xp6(2),t.Q6J("current",r)("previous",e),t.xp6(7),t.Q6J("ngLet",t.lcZ(10,3,t.xi3(11,5,i,"current")))}}function te(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Kn,12,8,"ng-container",0),t.ALo(2,"async"),t.ALo(3,"filterYear"),t.BQk()),2&n){const e=t.oxw().ngIf;t.xp6(1),t.Q6J("ngLet",t.lcZ(2,1,t.xi3(3,3,e,"previous")))}}function ne(n,o){if(1&n&&(t.ynx(0),t.YNc(1,te,4,6,"ng-container",0),t.ALo(2,"async"),t.ALo(3,"filterYear"),t.BQk()),2&n){const e=o.ngIf;t.xp6(1),t.Q6J("ngLet",t.lcZ(2,1,t.xi3(3,3,e,"current")))}}function ee(n,o){if(1&n&&(t.ynx(0),t.YNc(1,ne,4,6,"ng-container",1),t.ALo(2,"async"),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,e.rows$))}}class F{constructor(o,e,r,i,a,c){this._ac=o,this.config=e,this._title=r,this._store=i,this._breakpoints=a,this._obRouter=c,this._title.setTitle(this.config.config.appTitle+" - Ecommerce evolution"),this.mobile$=this._breakpoints.observe(B.u3.HandsetPortrait).pipe((0,m.U)(_=>_.matches)),this.params$=this._ac.paramMap.pipe((0,m.U)(_=>_.keys.reduce((g,O)=>(g[O]=_.get(O),g),{}))),this.rows$=this.params$.pipe((0,b.w)(_=>this._store.select(y.i.GetZoneOrPlantRows(_.plant,_.id,this._ac.snapshot.data.title))))}}function oe(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-option",5),t._uU(2),t.ALo(3,"monthFormat"),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("value",e.key),t.xp6(1),t.Oqu(t.lcZ(3,2,e.key))}}function re(n,o){if(1&n&&(t.TgZ(0,"mat-optgroup",3),t.YNc(1,oe,4,4,"ng-container",4),t.ALo(2,"reverse"),t.ALo(3,"keyvalue"),t.ALo(4,"distinctMonths"),t.qZA()),2&n){const e=o.$implicit;t.Q6J("label",e.key),t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,2,t.lcZ(3,4,t.lcZ(4,6,e.value))))}}function ie(n,o){if(1&n&&(t.ynx(0),t.YNc(1,re,5,8,"mat-optgroup",2),t.ALo(2,"distinctYears"),t.BQk()),2&n){const e=t.oxw().ngLet;t.xp6(1),t.Q6J("ngForOf",t.lcZ(2,1,e))}}function ae(n,o){if(1&n&&(t.ynx(0),t.YNc(1,ie,3,3,"ng-container",1),t.ALo(2,"keyvalue"),t.ALo(3,"distinctMonths"),t.ALo(4,"async"),t.ALo(5,"filterYear"),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngLet",t.lcZ(2,1,t.lcZ(3,3,t.lcZ(4,5,t.xi3(5,7,e.rows,"previous")))))}}F.\u0275fac=function(o){return new(o||F)(t.Y36(p.gz),t.Y36(D.E),t.Y36(G.Dx),t.Y36(M.yh),t.Y36(B.Yg),t.Y36(Y))},F.\u0275cmp=t.Xpm({type:F,selectors:[["order-intake-history-sub-lvl2"]],hostBindings:function(o,e){1&o&&t.NdJ("swiperight",function(){return e._obRouter.goToMainView()})},decls:2,vars:3,consts:[[4,"ngLet"],[4,"ngIf"],[3,"current","previous"],[1,"overview"],[1,"header-row","zone"],["matTooltipClass","after","matTooltipPosition","after","matTooltip","Return to main view",1,"arrow",3,"click"],[1,"title","with-selector"],[4,"ngFor","ngForOf"],[1,"title-header"],[1,"title"],["class","lvl2-row",3,"click",4,"ngFor","ngForOf"],[1,"lvl2-row",3,"click"],[1,"actual","cyan",3,"innerHTML"],[1,"previous","orange",3,"innerHTML"],[1,"delta","grey",3,"innerHTML"]],template:function(o,e){1&o&&(t.YNc(0,ee,3,3,"ng-container",0),t.ALo(1,"async")),2&o&&t.Q6J("ngLet",t.lcZ(1,1,e.params$))},directives:[Q,s.O5,w,Nn,V,it.gM,H,s.sg],pipes:[s.Ov,dt,s.Nd,q,Mt,Pt,xt,j,wt,S.$,L],styles:['[_nghost-%COMP%]{display:block;width:100%;left:0;touch-action:pan-y!important}[_nghost-%COMP%]  .mat-button-toggle-group{margin-top:20px}@media (max-width: 800px){[_nghost-%COMP%]  .mat-button-toggle-group{margin-left:0!important;margin-bottom:-8px!important}}.overview[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;width:100%}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{display:flex;flex:1 100%;padding:12px 40px}@media (max-width: 800px){.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 30%;position:relative}@media (min-width: 800px){.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 70%}}.overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]{background-color:#34344580}.overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]{cursor:pointer}.overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]{background-color:#20202966;cursor:pointer}.overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-left:25px}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%]{flex:1 15%;text-align:right;font-size:16px;font-weight:700}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#28e8ff}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#f8b03b}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%]{color:#ffffffd9}.overview[_ngcontent-%COMP%]   .meters[_ngcontent-%COMP%]{display:flex;flex:1 100%;height:160px;position:relative;background:linear-gradient(to bottom,#000,#303030);border-bottom:3px solid black}.overview[_ngcontent-%COMP%]   .meters[_ngcontent-%COMP%]   .meter[_ngcontent-%COMP%]{flex:1 50%;height:100%}.overview[_ngcontent-%COMP%]   .meters[_ngcontent-%COMP%]   .meter[_ngcontent-%COMP%]:nth-child(2){border-left:3px solid black}.overview[_ngcontent-%COMP%]   .meters[_ngcontent-%COMP%]   .meter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:120px;height:120px;margin:20px auto 0;position:relative}.overview[_ngcontent-%COMP%]   .meters[_ngcontent-%COMP%]   .meter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{position:absolute;height:30px;width:100%;margin:auto;text-align:center;top:0;bottom:0;font-size:27px}.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{flex:1 100%;padding:12px 40px;text-transform:uppercase;display:flex;background-color:#34344580}@media (max-width: 800px){.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 100%}@media (min-width: 800px){.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:17px;line-height:25px;letter-spacing:1px}}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]{flex:1 100%;padding:12px 40px;display:flex;cursor:pointer;border-bottom:1px solid transparent}@media (max-width: 800px){.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:hover{background-color:#ffffff05}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:hover{background-color:#121212!important}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:hover{background-color:#0000000d!important}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:nth-child(even){background-color:#20202966}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:nth-child(odd){background-color:#18182099}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:hover   .title[_ngcontent-%COMP%]{padding-left:30px}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:hover   .title[_ngcontent-%COMP%]:after{left:15px}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 30%;padding-left:20px;position:relative;transition:padding-left .15s ease-in-out}@media (min-width: 800px){.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 70%}}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:after{transition:left .15s ease-in-out;content:"";position:absolute;height:12px;width:12px;top:0;bottom:0;left:0;margin:auto;display:block;background-image:url(assets/arrow.svg);background-size:contain;background-repeat:no-repeat}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%]{flex:1 15%;text-align:right;font-size:15px}body[theme=light]   [_nghost-%COMP%]{background-color:#fff}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]{background-color:#e6e6e6;border-bottom:2px solid white}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#333;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#17687f;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#e59123;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%]{color:#0d0d0dcc;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{background-color:#e6e6e6}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#666;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #E6E6E6}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#333!important;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#0d0d0d!important;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#0d0d0d!important;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%]{color:#0d0d0d!important;font-weight:700}'],changeDetection:0}),function(n,o,e,r){var c,i=arguments.length,a=i<3?o:null===r?r=Object.getOwnPropertyDescriptor(o,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,o,e,r);else for(var _=n.length-1;_>=0;_--)(c=n[_])&&(a=(i<3?c(a):i>3?c(o,e,a):c(o,e))||a);i>3&&a&&Object.defineProperty(o,e,a)}([(0,R.Q8)(h.n.GetPlanDate),function(n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",String)}()],F.prototype,"plandate$",void 0);let yt=(()=>{class n{constructor(e,r){this._obRouter=e,this._ac=r,this.monthControl=new k.NI(""),this.params$=this._ac.paramMap.pipe((0,m.U)(i=>i.keys.reduce((a,c)=>(a[c]=i.get(c),a),{}))),this.params$.subscribe(i=>this.monthControl.setValue(i.month)),this.monthControl.valueChanges.pipe((0,at.x)(),(0,Ct.M)(this.params$)).subscribe(([i,a])=>{a.hasOwnProperty("type")?this._obRouter.goToProductRegionView(this._ac,null,null,i,null,null):this._obRouter.goToMonthView(this._ac,null,null,i)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Y),t.Y36(p.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["dip-month-selector"]],inputs:{rows:"rows"},decls:5,vars:7,consts:[["panelClass","plant-select-panel",3,"formControl"],[4,"ngLet"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[4,"ngFor","ngForOf"],[3,"value"]],template:function(e,r){1&e&&(t.TgZ(0,"mat-form-field")(1,"mat-select",0),t.YNc(2,ae,6,10,"ng-container",1),t.ALo(3,"async"),t.ALo(4,"filterYear"),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("formControl",r.monthControl),t.xp6(1),t.Q6J("ngLet",t.lcZ(3,2,t.xi3(4,4,r.rows,"current"))))},directives:[ct.KE,K.gD,k.JJ,k.oH,Q,s.sg,E.Nv,E.ey],pipes:[s.Ov,dt,s.Nd,q,Mt,Pt,xt],encapsulation:2,changeDetection:0}),n})(),bt=(()=>{class n{constructor(){this.previous=null,this.maxWidth$=new X.X("100%"),this.actualPercent=new X.X(0),this.previousPercent=new X.X(0)}ngOnChanges(e){const r=e.current.currentValue||0,i=e.previous&&e.previous.currentValue||0,a=e.maximum.currentValue;let c=r;isNaN(i)||(c=Math.max(r,i)),this.maxWidth$.next(this.calculatePercent(a,c)+"%");const _=this.calculatePercent(c,r);this.actualPercent.next(_);const g=this.calculatePercent(c,i);this.previousPercent.next(g)}calculatePercent(e,r){return+(r/e*100).toFixed(0)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["dip-product-region-chart"]],inputs:{current:"current",previous:"previous",maximum:"maximum"},features:[t.TTD],decls:12,vars:22,consts:[[1,"wrapper"],[1,"bar-wrapper"],[1,"bar","actual"],[1,"bar","previous"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t.ALo(1,"async"),t.TgZ(2,"div",1),t.ALo(3,"async"),t.ALo(4,"startWith"),t.ALo(5,"async"),t._UZ(6,"div",2),t.qZA(),t.TgZ(7,"div",1),t.ALo(8,"async"),t.ALo(9,"startWith"),t.ALo(10,"async"),t._UZ(11,"div",3),t.qZA()()),2&e&&(t.Udp("width",t.lcZ(1,6,r.maxWidth$)),t.xp6(2),t.Udp("width",t.lcZ(3,8,t.xi3(4,10,t.lcZ(5,13,r.actualPercent),0)),"%"),t.xp6(5),t.Udp("width",t.lcZ(8,15,t.xi3(9,17,t.lcZ(10,20,r.previousPercent),0)),"%"))},pipes:[s.Ov,ot],styles:["[_nghost-%COMP%]{display:block;flex:0 50%;height:100%}.desktop[_nghost-%COMP%]{padding-left:100px}.mobile[_nghost-%COMP%]{flex:1 100%;margin:20px 0 5px;height:35px}.wrapper[_ngcontent-%COMP%]{display:flex;height:100%;flex-direction:column}.wrapper[_ngcontent-%COMP%]   .bar-wrapper[_ngcontent-%COMP%]{position:relative;flex:0 50%;max-height:50%;padding:2px 0;box-sizing:border-box;transition:all 1.2s ease-in-out;transition-delay:.3s}.wrapper[_ngcontent-%COMP%]   .bar-wrapper[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{position:absolute;width:100%;height:calc(100% - 4px);border-radius:3px;font-size:12px}.wrapper[_ngcontent-%COMP%]   .bar-wrapper[_ngcontent-%COMP%]   .bar.actual[_ngcontent-%COMP%]{background:linear-gradient(to right,rgba(0,0,0,0),#00ACC1)}body[theme=light]   [_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]   .bar-wrapper[_ngcontent-%COMP%]   .bar.actual[_ngcontent-%COMP%]{background:linear-gradient(to right,rgba(0,0,0,0),#17687F)}.wrapper[_ngcontent-%COMP%]   .bar-wrapper[_ngcontent-%COMP%]   .bar.previous[_ngcontent-%COMP%]{background:linear-gradient(to right,rgba(0,0,0,0),#F8B03B)}body[theme=light]   [_nghost-%COMP%]   .wrapper[_ngcontent-%COMP%]   .bar-wrapper[_ngcontent-%COMP%]   .bar.previous[_ngcontent-%COMP%]{background:linear-gradient(to right,rgba(0,0,0,0),#E59123)}"],changeDetection:0}),n})();class I{constructor(o){this.reportInterface="order_intake_history"===(this._ac=o,this._ac.snapshot.data.title)?d.g9:d.C7}transform(o,e,r=null){if(!o||0===o.length)return{};const i="region"===e?this.reportInterface[`Region${this.language}`]:this.reportInterface[`Product${this.language}`],a=o.reduce((c,_)=>(c[_[i]]=c[_[i]]||[],c[_[i]].push(_),c),{});if(r)for(const c in r)r[c]&&(a[c]=a[c]||[]);return a}}I.\u0275fac=function(o){return new(o||I)(t.Y36(p.gz,16))},I.\u0275pipe=t.Yjl({name:"distinctItems",type:I,pure:!0}),function(n,o,e,r){var c,i=arguments.length,a=i<3?o:null===r?r=Object.getOwnPropertyDescriptor(o,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,o,e,r);else for(var _=n.length-1;_>=0;_--)(c=n[_])&&(a=(i<3?c(a):i>3?c(o,e,a):c(o,e))||a);i>3&&a&&Object.defineProperty(o,e,a)}([(0,R.cB)(rt.Z.GetLanguageHuman),function(n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",String)}()],I.prototype,"language",void 0);let Lt=(()=>{class n{constructor(e){this._ac=e,this.report=this._ac.snapshot.data.title}transform(e,r){let i=0,a=0;if(e&&e.length>0){const c=e.map(_=>N(_.value,this.report)).filter(_=>!isNaN(_));i=Math.max(...c)}if(r&&r.length>0){const c=r.map(_=>N(_.value,this.report)).filter(_=>!isNaN(_));a=Math.max(...c)}return Math.max(i,a)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.gz,16))},n.\u0275pipe=t.Yjl({name:"max",type:n,pure:!0}),n})(),kt=(()=>{class n{transform(e,r){return e||r}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"default",type:n,pure:!0}),n})();function se(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"div",14),t.ALo(2,"toNumber"),t._UZ(3,"div",15),t.ALo(4,"toNumber"),t._UZ(5,"div",16),t.ALo(6,"difference"),t.BQk()),2&n){const e=o.ngLet,r=t.oxw().ngLet;t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,3,r),t.oJD),t.xp6(2),t.Q6J("innerHTML",t.lcZ(4,5,e),t.oJD),t.xp6(2),t.Q6J("innerHTML",t.xi3(6,7,e,r),t.oJD)}}function pe(n,o){if(1&n&&(t.ynx(0),t.YNc(1,se,7,10,"ng-container",0),t.ALo(2,"sumQuantity"),t.BQk()),2&n){const e=t.oxw().ngLet;t.xp6(1),t.Q6J("ngLet",t.lcZ(2,1,e))}}function de(n,o){1&n&&t.GkF(0)}const Zt=function(n,o,e){return{current:n,previous:o,maximum:e}};function ue(n,o){if(1&n&&(t.ynx(0),t.YNc(1,de,1,0,"ng-container",21),t.BQk()),2&n){const e=o.ngLet,r=t.oxw(2).ngLet,i=t.oxw(2).ngLet;t.oxw(7);const a=t.MAs(3);t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.kEZ(2,Zt,r,e,i))}}function he(n,o){if(1&n&&(t.ynx(0),t.YNc(1,ue,2,6,"ng-container",0),t.ALo(2,"sumQuantity"),t.BQk()),2&n){const e=o.ngIf;t.xp6(1),t.Q6J("ngLet",t.lcZ(2,1,e))}}const At=function(){return[]};function me(n,o){if(1&n&&(t.ynx(0),t.YNc(1,he,3,3,"ng-container",20),t.ALo(2,"default"),t.BQk()),2&n){const e=t.oxw().$implicit,r=t.MAs(6),i=t.oxw(3).ngLet;t.xp6(1),t.Q6J("ngIf",t.xi3(2,2,i[e.key],t.DdM(5,At)))("ngIfElse",r)}}function ve(n,o){1&n&&(t.TgZ(0,"div",22),t._uU(1,"-"),t.qZA(),t.TgZ(2,"div",23),t._uU(3,"-"),t.qZA())}function fe(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",18),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(8);return c._obRouter.goToProductRegionView(c._ac,null,null,null,"region",a.key)}),t.TgZ(1,"div",13),t._uU(2),t.qZA(),t.YNc(3,me,3,6,"ng-container",0),t.ALo(4,"sumQuantity"),t.YNc(5,ve,4,0,"ng-template",null,19,t.W1O),t.qZA()}if(2&n){const e=o.$implicit;t.xp6(2),t.Oqu(e.key),t.xp6(1),t.Q6J("ngLet",t.lcZ(4,2,e.value))}}function Oe(n,o){if(1&n&&(t.ynx(0),t.YNc(1,fe,7,4,"div",17),t.BQk()),2&n){const e=t.oxw().ngLet;t.xp6(1),t.Q6J("ngForOf",e)}}function Ce(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Oe,2,1,"ng-container",0),t.ALo(2,"max"),t.ALo(3,"keyvalue"),t.BQk()),2&n){const e=o.ngLet,r=t.oxw().ngLet;t.xp6(1),t.Q6J("ngLet",t.xi3(2,1,e,t.lcZ(3,4,r)))}}function Me(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Ce,4,6,"ng-container",0),t.ALo(2,"keyvalue"),t.ALo(3,"distinctItems"),t.BQk()),2&n){const e=o.ngLet,r=t.oxw(3).ngIf;t.xp6(1),t.Q6J("ngLet",t.lcZ(2,1,t.Dn7(3,3,r,"region",e)))}}function Pe(n,o){1&n&&t.GkF(0)}function xe(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Pe,1,0,"ng-container",21),t.BQk()),2&n){const e=o.ngLet,r=t.oxw(2).ngLet,i=t.oxw(2).ngLet;t.oxw(7);const a=t.MAs(3);t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.kEZ(2,Zt,r,e,i))}}function we(n,o){if(1&n&&(t.ynx(0),t.YNc(1,xe,2,6,"ng-container",0),t.ALo(2,"sumQuantity"),t.BQk()),2&n){const e=o.ngLet;t.xp6(1),t.Q6J("ngLet",t.lcZ(2,1,e))}}function ye(n,o){if(1&n&&(t.ynx(0),t.YNc(1,we,3,3,"ng-container",0),t.ALo(2,"default"),t.BQk()),2&n){const e=t.oxw().$implicit,r=t.oxw(3).ngLet;t.xp6(1),t.Q6J("ngLet",t.xi3(2,1,r[e.key],t.DdM(4,At)))}}function be(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",18),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(8);return c._obRouter.goToProductRegionView(c._ac,null,null,null,"product",a.key)}),t.TgZ(1,"div",13),t._uU(2),t.qZA(),t.YNc(3,ye,3,5,"ng-container",0),t.ALo(4,"sumQuantity"),t.qZA()}if(2&n){const e=o.$implicit;t.xp6(2),t.Oqu(e.key),t.xp6(1),t.Q6J("ngLet",t.lcZ(4,2,e.value))}}function Le(n,o){if(1&n&&(t.ynx(0),t.YNc(1,be,5,4,"div",17),t.BQk()),2&n){const e=t.oxw().ngLet;t.xp6(1),t.Q6J("ngForOf",e)}}function ke(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Le,2,1,"ng-container",0),t.ALo(2,"max"),t.ALo(3,"keyvalue"),t.BQk()),2&n){const e=o.ngLet,r=t.oxw().ngLet;t.xp6(1),t.Q6J("ngLet",t.xi3(2,1,e,t.lcZ(3,4,r)))}}function Ze(n,o){if(1&n&&(t.ynx(0),t.YNc(1,ke,4,6,"ng-container",0),t.ALo(2,"keyvalue"),t.ALo(3,"distinctItems"),t.BQk()),2&n){const e=o.ngLet,r=t.oxw(3).ngIf;t.xp6(1),t.Q6J("ngLet",t.lcZ(2,1,t.Dn7(3,3,r,"product",e)))}}function Ae(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",6)(2,"div",7)(3,"i",8),t.NdJ("click",function(){return t.CHM(e),t.oxw(4)._obRouter.goToMainView()}),t.qZA(),t.TgZ(4,"div",9),t._UZ(5,"dip-plant-selector"),t.qZA()(),t.TgZ(6,"div",7)(7,"i",10),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(4);return i._obRouter.goToPlantZoneView(i._ac)}),t.qZA(),t.TgZ(8,"div",9),t._UZ(9,"dip-month-selector",11),t.qZA(),t.YNc(10,pe,3,3,"ng-container",0),t.ALo(11,"sumQuantity"),t.qZA()(),t.TgZ(12,"div",12)(13,"div",13),t._uU(14,"REGIONS"),t.qZA()(),t.YNc(15,Me,4,7,"ng-container",0),t.ALo(16,"distinctItems"),t.TgZ(17,"div",12)(18,"div",13),t._uU(19,"PRODUCTS"),t.qZA()(),t.YNc(20,Ze,4,7,"ng-container",0),t.ALo(21,"distinctItems"),t.BQk()}if(2&n){const e=o.ngLet,r=t.oxw().ngLet,i=t.oxw().ngIf;t.xp6(9),t.Q6J("rows",r),t.xp6(1),t.Q6J("ngLet",t.lcZ(11,4,i)),t.xp6(5),t.Q6J("ngLet",t.xi3(16,6,e,"region")),t.xp6(5),t.Q6J("ngLet",t.xi3(21,9,e,"product"))}}function Te(n,o){if(1&n&&(t.TgZ(0,"div",5),t._UZ(1,"dip-total-selector")(2,"report-header"),t.YNc(3,Ae,22,12,"ng-container",0),t.ALo(4,"previousMonth"),t.ALo(5,"keyvalue"),t.ALo(6,"distinctMonths"),t.qZA()),2&n){const e=o.ngLet,r=t.oxw(2).ngLet;t.xp6(3),t.Q6J("ngLet",t.xi3(4,1,r.month,t.lcZ(5,4,t.lcZ(6,6,e))))}}function Ye(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Te,7,8,"div",4),t.ALo(2,"async"),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngLet",t.lcZ(2,1,e.plantOrZoneRows$))}}function Re(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Ye,3,3,"ng-container",3),t.ALo(2,"async"),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,e.rows$))}}function Qe(n,o){1&n&&t.GkF(0)}function ze(n,o){1&n&&t.GkF(0)}const Tt=function(n,o){return{current:n,previous:o}};function He(n,o){if(1&n&&(t.YNc(0,ze,1,0,"ng-container",21),t._UZ(1,"dip-product-region-chart",27)),2&n){const e=t.oxw(),r=e.current,i=e.previous,a=e.maximum;t.oxw();const c=t.MAs(5);t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.WLB(5,Tt,r,i)),t.xp6(1),t.Q6J("current",r)("previous",i)("maximum",a)}}function Ie(n,o){1&n&&t.GkF(0)}function Ne(n,o){if(1&n&&(t._UZ(0,"dip-product-region-chart",28),t.YNc(1,Ie,1,0,"ng-container",21)),2&n){const e=t.oxw(),r=e.current,i=e.previous,a=e.maximum;t.oxw();const c=t.MAs(5);t.Q6J("current",r)("previous",i)("maximum",a),t.xp6(1),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.WLB(5,Tt,r,i))}}function Se(n,o){if(1&n&&(t.YNc(0,Qe,1,0,"ng-container",24),t.ALo(1,"async"),t.YNc(2,He,2,8,"ng-template",null,25,t.W1O),t.YNc(4,Ne,2,8,"ng-template",null,26,t.W1O)),2&n){const e=t.MAs(3),r=t.MAs(5),i=t.oxw();t.Q6J("ngIf",t.lcZ(1,3,i._data.mobile$))("ngIfThen",e)("ngIfElse",r)}}function Je(n,o){if(1&n&&(t._UZ(0,"div",29),t.ALo(1,"toNumber"),t._UZ(2,"div",30),t.ALo(3,"toNumber"),t._UZ(4,"div",16),t.ALo(5,"difference")),2&n){const e=o.current,r=o.previous;t.Q6J("innerHTML",t.lcZ(1,3,e),t.oJD),t.xp6(2),t.Q6J("innerHTML",t.lcZ(3,5,r),t.oJD),t.xp6(2),t.Q6J("innerHTML",t.xi3(5,7,r,e),t.oJD)}}class ${constructor(o,e,r,i,a,c){this._ac=o,this._data=e,this.config=r,this._title=i,this._store=a,this._obRouter=c,this._title.setTitle(this.config.config.appTitle+" - Ecommerce evolution"),this.params$=this._ac.paramMap.pipe((0,m.U)(_=>_.keys.reduce((g,O)=>(g[O]=_.get(O),g),{}))),this.plantOrZoneRows$=this.params$.pipe((0,b.w)(_=>this._store.select(y.i.GetZoneOrPlantRows(_.plant,_.id,"order_intake_history")))),this.rows$=this.params$.pipe((0,b.w)(_=>this._store.select(y.i.GetMonthRows(_.plant,_.id,_.month,"order_intake_history"))))}}$.\u0275fac=function(o){return new(o||$)(t.Y36(p.gz),t.Y36(T.D),t.Y36(D.E),t.Y36(G.Dx),t.Y36(M.yh),t.Y36(Y))},$.\u0275cmp=t.Xpm({type:$,selectors:[["order-intake-history-sub-lvl3"]],hostBindings:function(o,e){1&o&&t.NdJ("swiperight",function(){return e._obRouter.goToPlantZoneView(e._ac)})},decls:6,vars:3,consts:[[4,"ngLet"],["responsiveRow",""],["lvl3Row",""],[4,"ngIf"],["class","overview",4,"ngLet"],[1,"overview"],[1,"header-rows"],[1,"header-row","zone"],["matTooltipClass","after","matTooltipPosition","after","matTooltip","Return to main view",1,"arrow",3,"click"],[1,"title","with-selector"],["matTooltipClass","after","matTooltipPosition","after","matTooltip","Return to plant/zone view",1,"arrow",3,"click"],[3,"rows"],[1,"title-header"],[1,"title"],[1,"actual",3,"innerHTML"],[1,"previous",3,"innerHTML"],[1,"delta","grey",3,"innerHTML"],["class","lvl3-row",3,"click",4,"ngFor","ngForOf"],[1,"lvl3-row",3,"click"],["dummyPrevious",""],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"previous","orange"],[1,"delta","grey"],[4,"ngIf","ngIfThen","ngIfElse"],["mobileRow",""],["desktopRow",""],[1,"mobile",3,"current","previous","maximum"],[1,"desktop",3,"current","previous","maximum"],[1,"actual","cyan",3,"innerHTML"],[1,"previous","orange",3,"innerHTML"]],template:function(o,e){1&o&&(t.YNc(0,Re,3,3,"ng-container",0),t.ALo(1,"async"),t.YNc(2,Se,6,5,"ng-template",null,1,t.W1O),t.YNc(4,Je,6,10,"ng-template",null,2,t.W1O)),2&o&&t.Q6J("ngLet",t.lcZ(1,1,e.params$))},directives:[Q,s.O5,w,V,it.gM,H,yt,s.sg,s.tP,bt],pipes:[s.Ov,wt,s.Nd,q,j,S.$,L,I,Lt,kt],styles:['[_nghost-%COMP%]{display:block;width:100%;left:0;touch-action:pan-y!important}[_nghost-%COMP%]   report-header[_ngcontent-%COMP%] {margin-top:0}[_nghost-%COMP%]  .mat-button-toggle-group{margin-top:20px}@media (max-width: 800px){[_nghost-%COMP%]  .mat-button-toggle-group{margin-bottom:10px!important}}.overview[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;width:100%}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{display:flex;flex:1 100%;padding:12px 40px}@media (max-width: 800px){.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 30%;position:relative}@media (min-width: 800px){.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 70%}}.overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]{background-color:#34344580}.overview[_ngcontent-%COMP%]   .header-row.arrow[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:after{transition:left .2s ease-in-out;content:"";position:absolute;height:12px;width:12px;top:0;bottom:0;left:-2px;transform:rotate(180deg);margin:auto;display:block;background-image:url(assets/arrow.svg);background-size:contain;background-repeat:no-repeat}.overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]{cursor:pointer}.overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]{background-color:#20202966;cursor:pointer}.overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-left:25px}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%]{flex:1 15%;text-align:right;font-size:16px;font-weight:700}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#28e8ff}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#f8b03b}.overview[_ngcontent-%COMP%]   .meters[_ngcontent-%COMP%]{display:flex;flex:1 100%;height:160px;position:relative;background:linear-gradient(to bottom,#000,#303030);border-bottom:3px solid black}.overview[_ngcontent-%COMP%]   .meters[_ngcontent-%COMP%]   .meter[_ngcontent-%COMP%]{flex:1 50%;height:100%}.overview[_ngcontent-%COMP%]   .meters[_ngcontent-%COMP%]   .meter[_ngcontent-%COMP%]:nth-child(2){border-left:3px solid black}.overview[_ngcontent-%COMP%]   .meters[_ngcontent-%COMP%]   .meter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:120px;height:120px;margin:20px auto 0;position:relative}.overview[_ngcontent-%COMP%]   .meters[_ngcontent-%COMP%]   .meter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{position:absolute;height:30px;width:100%;margin:auto;text-align:center;top:0;bottom:0;font-size:27px}.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{flex:1 100%;padding:12px 40px;text-transform:uppercase;display:flex;background-color:#34344580}@media (max-width: 800px){.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 100%}@media (min-width: 800px){.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:17px;line-height:25px;letter-spacing:1px}}.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]{flex:1 100%;padding:20px 40px;flex-wrap:wrap;display:flex;cursor:pointer;align-items:center;border-bottom:1px solid transparent}@media (min-width: 800px){.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]{flex-wrap:nowrap;height:70px}}@media (max-width: 800px){.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:hover{background-color:#ffffff05}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:hover{background-color:#121212!important}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:hover{background-color:#0000000d!important}.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:nth-child(even){background-color:#20202966}.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:nth-child(odd){background-color:#18182099}.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:hover   .title[_ngcontent-%COMP%]{padding-left:30px}.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:hover   .title[_ngcontent-%COMP%]:after{left:15px}.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 30%;padding-left:20px;position:relative;transition:padding-left .15s ease-in-out}@media (min-width: 800px){.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 20%}}.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:after{transition:left .15s ease-in-out;content:"";position:absolute;height:12px;width:12px;top:0;bottom:0;left:0;margin:auto;display:block;background-image:url(assets/arrow.svg);background-size:contain;background-repeat:no-repeat}.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%]{flex:1 15%;text-align:right;font-size:15px}body[theme=light]   [_nghost-%COMP%]{background-color:#fff}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]{background-color:#e6e6e6;border-bottom:2px solid white}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#333;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#17687f;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#e59123;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%]{color:#0d0d0dcc;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{background-color:#e6e6e6}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#666;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #E6E6E6}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#333!important;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#0d0d0d!important;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#0d0d0d!important;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%]{color:#0d0d0d!important;font-weight:700}'],changeDetection:0}),function(n,o,e,r){var c,i=arguments.length,a=i<3?o:null===r?r=Object.getOwnPropertyDescriptor(o,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,o,e,r);else for(var _=n.length-1;_>=0;_--)(c=n[_])&&(a=(i<3?c(a):i>3?c(o,e,a):c(o,e))||a);i>3&&a&&Object.defineProperty(o,e,a)}([(0,R.Q8)(h.n.GetPlanDate),function(n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",String)}()],$.prototype,"plandate$",void 0);let De=(()=>{class n{constructor(e){this._data=e}transform(e){return e=e.split("|")[1],this._data.mobile$.pipe((0,m.U)(r=>r&&e.length>10?e.substring(0,14)+"...":e))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(T.D,16))},n.\u0275pipe=t.Yjl({name:"productRegionLabelFormat",type:n,pure:!0}),n})(),Fe=(()=>{class n{transform(){const e=[];for(let r=0;r<arguments.length;r++)e.push(arguments[r]||[]);return e.flat()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"joinArrays",type:n,pure:!0}),n})();function $e(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-option",6),t._uU(2),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.MGl("value","region|",e.key,""),t.xp6(1),t.Oqu(e.key)}}function Ue(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-option",6),t._uU(2),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.MGl("value","product|",e.key,""),t.xp6(1),t.Oqu(e.key)}}function Be(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-optgroup",3),t.YNc(2,$e,3,2,"ng-container",4),t.ALo(3,"keyvalue"),t.ALo(4,"distinctItems"),t.qZA(),t.TgZ(5,"mat-optgroup",5),t.YNc(6,Ue,3,2,"ng-container",4),t.ALo(7,"keyvalue"),t.ALo(8,"distinctItems"),t.qZA(),t.BQk()),2&n){const e=o.ngLet;t.xp6(2),t.Q6J("ngForOf",t.lcZ(3,2,t.xi3(4,4,e,"region"))),t.xp6(4),t.Q6J("ngForOf",t.lcZ(7,7,t.xi3(8,9,e,"product")))}}let je=(()=>{class n{constructor(e,r){this._obRouter=e,this._ac=r,this.regionProductControl=new k.NI(""),this.params$=this._ac.paramMap.pipe((0,m.U)(i=>i.keys.reduce((a,c)=>(a[c]=i.get(c),a),{}))),this.params$.subscribe(i=>this.regionProductControl.setValue(`${i.type}|${i.value}`)),this.regionProductControl.valueChanges.pipe((0,at.x)(),(0,m.U)(i=>({type:i.split("|")[0],value:i.split("|")[1]}))).subscribe(i=>{this._obRouter.goToProductRegionView(this._ac,null,null,null,i.type,i.value)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Y),t.Y36(p.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["dip-product-region-selector"]],inputs:{rows:"rows",previousRows:"previousRows"},decls:9,vars:10,consts:[["panelClass","plant-select-panel",3,"formControl"],[1,"mat-select-value-custom"],[4,"ngLet"],["label","REGIONS"],[4,"ngFor","ngForOf"],["label","PRODUCTS"],[3,"value"]],template:function(e,r){1&e&&(t.TgZ(0,"mat-form-field")(1,"mat-select",0)(2,"mat-select-trigger")(3,"span",1),t._uU(4),t.ALo(5,"async"),t.ALo(6,"productRegionLabelFormat"),t.qZA()(),t.YNc(7,Be,9,12,"ng-container",2),t.ALo(8,"joinArrays"),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("formControl",r.regionProductControl),t.xp6(3),t.Oqu(t.lcZ(5,3,t.lcZ(6,5,r.regionProductControl.value))),t.xp6(3),t.Q6J("ngLet",t.xi3(8,7,r.rows,r.previousRows)))},directives:[ct.KE,K.gD,k.JJ,k.oH,K.$L,Q,E.Nv,s.sg,E.ey],pipes:[s.Ov,De,Fe,s.Nd,I],encapsulation:2,changeDetection:0}),n})(),Ee=(()=>{class n{constructor(e){if("order_intake_history"===(this._ac=e,this.report=this._ac.snapshot.data.title,this.report)){let r="true"==localStorage.getItem("intake_history_show_total");this.columnName=r?d.g9.Total:d.g9.Average}else this.columnName=d.C7.Quantity}transform(e,r){for(const i in r)r[i]&&!e.hasOwnProperty(i)&&(e[i]=r[i].map(a=>Object.assign(Object.assign({},a),{[this.columnName]:""})));return e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.gz,16))},n.\u0275pipe=t.Yjl({name:"mockMissingPreviousRows",type:n,pure:!0}),n})();function Ve(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"div",18),t.ALo(2,"toNumber"),t._UZ(3,"div",19),t.ALo(4,"difference"),t.BQk()),2&n){const e=o.ngLet,r=t.oxw().ngLet;t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,2,e),t.oJD),t.xp6(2),t.Q6J("innerHTML",t.xi3(4,4,e,r),t.oJD)}}function We(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"div",17),t.ALo(2,"toNumber"),t.YNc(3,Ve,5,7,"ng-container",0),t.ALo(4,"sumQuantity"),t.BQk()),2&n){const e=o.ngLet,r=t.oxw().ngLet;t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,2,e),t.oJD),t.xp6(2),t.Q6J("ngLet",t.lcZ(4,4,r))}}function Xe(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",7)(2,"i",15),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(5);return i._obRouter.goToPlantZoneView(i._ac)}),t.qZA(),t.TgZ(3,"div",9),t._UZ(4,"dip-month-selector",16),t.qZA(),t.YNc(5,We,5,6,"ng-container",0),t.ALo(6,"sumQuantity"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw().ngLet,r=t.oxw().ngIf,i=t.oxw(2).ngLet;t.xp6(4),t.Q6J("rows",r),t.xp6(1),t.Q6J("ngLet",t.lcZ(6,2,e[i.month]))}}function Ke(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Xe,7,4,"ng-container",0),t.ALo(2,"async"),t.BQk()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngLet",t.lcZ(2,1,e.previousMonthRows$))}}function to(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"div",18),t.ALo(2,"toNumber"),t._UZ(3,"div",19),t.ALo(4,"difference"),t.BQk()),2&n){const e=o.ngIf,r=t.oxw().ngLet;t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,2,e),t.oJD),t.xp6(2),t.Q6J("innerHTML",t.xi3(4,4,e,r),t.oJD)}}function no(n,o){1&n&&(t.TgZ(0,"div",21),t._uU(1,"-"),t.qZA(),t.TgZ(2,"div",22),t._uU(3,"-"),t.qZA())}function eo(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"div",17),t.ALo(2,"toNumber"),t.YNc(3,to,5,7,"ng-container",13),t.ALo(4,"sumQuantity"),t.ALo(5,"async"),t.YNc(6,no,4,0,"ng-template",null,20,t.W1O),t.BQk()),2&n){const e=o.ngLet,r=t.MAs(7),i=t.oxw(4);t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,3,e),t.oJD),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,5,t.lcZ(5,7,i.previousRows$)))("ngIfElse",r)}}function oo(n,o){1&n&&(t.ynx(0),t.TgZ(1,"div",23),t._uU(2,"PRODUCTS"),t.qZA(),t.BQk())}function ro(n,o){1&n&&(t.TgZ(0,"div",23),t._uU(1,"REGIONS"),t.qZA())}function io(n,o){1&n&&t.GkF(0)}const ao=function(n,o,e){return{current:n,previous:o,maximum:e}};function co(n,o){if(1&n&&(t.ynx(0),t.YNc(1,io,1,0,"ng-container",26),t.BQk()),2&n){const e=o.ngLet,r=t.oxw(2).ngLet,i=t.oxw(2).ngLet;t.oxw(7);const a=t.MAs(3);t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.kEZ(2,ao,r,e,i))}}function _o(n,o){if(1&n&&(t.ynx(0),t.YNc(1,co,2,6,"ng-container",0),t.ALo(2,"sumQuantity"),t.BQk()),2&n){const e=o.ngLet;t.xp6(1),t.Q6J("ngLet",t.lcZ(2,1,e))}}const go=function(){return[]};function lo(n,o){if(1&n&&(t.ynx(0),t.YNc(1,_o,3,3,"ng-container",0),t.ALo(2,"default"),t.BQk()),2&n){const e=t.oxw().$implicit,r=t.oxw(3).ngLet;t.xp6(1),t.Q6J("ngLet",t.xi3(2,1,r[e.key],t.DdM(4,go)))}}function so(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",25),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw(4).ngLet;return t.oxw(4).goItem(c,a.key)}),t.TgZ(1,"div",23),t._uU(2),t.qZA(),t.YNc(3,lo,3,5,"ng-container",0),t.ALo(4,"sumQuantity"),t.qZA()}if(2&n){const e=o.$implicit;t.xp6(2),t.Oqu(e.key),t.xp6(1),t.Q6J("ngLet",t.lcZ(4,2,e.value))}}function po(n,o){if(1&n&&(t.ynx(0),t.YNc(1,so,5,4,"div",24),t.BQk()),2&n){const e=t.oxw().ngLet;t.xp6(1),t.Q6J("ngForOf",e)}}function uo(n,o){if(1&n&&(t.ynx(0),t.YNc(1,po,2,1,"ng-container",0),t.ALo(2,"max"),t.ALo(3,"keyvalue"),t.BQk()),2&n){const e=o.ngLet,r=t.oxw().ngLet;t.xp6(1),t.Q6J("ngLet",t.xi3(2,1,e,t.lcZ(3,4,r)))}}function ho(n,o){if(1&n&&(t.ynx(0),t.YNc(1,uo,4,6,"ng-container",0),t.ALo(2,"keyvalue"),t.ALo(3,"mockMissingPreviousRows"),t.ALo(4,"distinctItems"),t.BQk()),2&n){const e=o.ngLet,r=t.oxw().ngLet,i=t.oxw(2).ngLet;t.xp6(1),t.Q6J("ngLet",t.lcZ(2,1,t.xi3(3,3,t.Dn7(4,6,i,r,e),e)))}}function mo(n,o){if(1&n&&(t.ynx(0),t.YNc(1,ho,5,10,"ng-container",0),t.ALo(2,"distinctItems"),t.ALo(3,"async"),t.BQk()),2&n){const e=o.ngLet,r=t.oxw(4);t.xp6(1),t.Q6J("ngLet",t.xi3(2,1,t.lcZ(3,4,r.previousRows$),e))}}function vo(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",4),t._UZ(1,"dip-total-selector")(2,"report-header",5),t.TgZ(3,"div",6)(4,"div",7)(5,"i",8),t.NdJ("click",function(){return t.CHM(e),t.oxw(3)._obRouter.goToMainView()}),t.qZA(),t.TgZ(6,"div",9),t._UZ(7,"dip-plant-selector"),t.qZA()(),t.YNc(8,Ke,3,3,"ng-container",0),t.ALo(9,"distinctMonths"),t.TgZ(10,"div",7)(11,"i",10),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return i._obRouter.goToMonthView(i._ac)}),t.qZA(),t.TgZ(12,"div",9),t._UZ(13,"dip-product-region-selector",11),t.ALo(14,"async"),t.ALo(15,"async"),t.qZA(),t.YNc(16,eo,8,9,"ng-container",0),t.ALo(17,"sumQuantity"),t.qZA()(),t.TgZ(18,"div",12),t.YNc(19,oo,3,0,"ng-container",13),t.YNc(20,ro,2,0,"ng-template",null,14,t.W1O),t.qZA(),t.YNc(22,mo,4,6,"ng-container",0),t.qZA()}if(2&n){const e=o.ngIf,r=t.MAs(21),i=t.oxw().ngLet,a=t.oxw().ngLet,c=t.oxw();t.xp6(8),t.Q6J("ngLet",t.lcZ(9,7,e)),t.xp6(5),t.Q6J("rows",t.lcZ(14,9,c.monthRows$))("previousRows",t.lcZ(15,11,c.previousRows$)),t.xp6(3),t.Q6J("ngLet",t.lcZ(17,13,i)),t.xp6(3),t.Q6J("ngIf","region"===a.type)("ngIfElse",r),t.xp6(3),t.Q6J("ngLet","region"===a.type?"product":"region")}}function fo(n,o){if(1&n&&(t.ynx(0),t.YNc(1,vo,23,15,"div",3),t.ALo(2,"async"),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,e.plantOrZoneRows$))}}function Oo(n,o){if(1&n&&(t.ynx(0),t.YNc(1,fo,3,3,"ng-container",0),t.ALo(2,"async"),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngLet",t.lcZ(2,1,e.rows$))}}function Co(n,o){1&n&&t.GkF(0)}function Mo(n,o){1&n&&t.GkF(0)}const Yt=function(n,o){return{current:n,previous:o}};function Po(n,o){if(1&n&&(t.YNc(0,Mo,1,0,"ng-container",26),t._UZ(1,"dip-product-region-chart",30)),2&n){const e=t.oxw(),r=e.current,i=e.previous,a=e.maximum;t.oxw();const c=t.MAs(5);t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.WLB(5,Yt,r,i)),t.xp6(1),t.Q6J("current",r)("previous",i)("maximum",a)}}function xo(n,o){1&n&&t.GkF(0)}function wo(n,o){if(1&n&&(t._UZ(0,"dip-product-region-chart",31),t.YNc(1,xo,1,0,"ng-container",26)),2&n){const e=t.oxw(),r=e.current,i=e.previous,a=e.maximum;t.oxw();const c=t.MAs(5);t.Q6J("current",r)("previous",i)("maximum",a),t.xp6(1),t.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",t.WLB(5,Yt,r,i))}}function yo(n,o){if(1&n&&(t.YNc(0,Co,1,0,"ng-container",27),t.ALo(1,"async"),t.YNc(2,Po,2,8,"ng-template",null,28,t.W1O),t.YNc(4,wo,2,8,"ng-template",null,29,t.W1O)),2&n){const e=t.MAs(3),r=t.MAs(5),i=t.oxw();t.Q6J("ngIf",t.lcZ(1,3,i._data.mobile$))("ngIfThen",e)("ngIfElse",r)}}function bo(n,o){if(1&n&&(t._UZ(0,"div",32),t.ALo(1,"toNumber"),t._UZ(2,"div",33),t.ALo(3,"toNumber"),t._UZ(4,"div",19),t.ALo(5,"difference")),2&n){const e=o.current,r=o.previous;t.Q6J("innerHTML",t.lcZ(1,3,e),t.oJD),t.xp6(2),t.Q6J("innerHTML",t.lcZ(3,5,r),t.oJD),t.xp6(2),t.Q6J("innerHTML",t.xi3(5,7,r,e),t.oJD)}}class U{constructor(o,e,r,i,a,c,_){this._ac=o,this.config=e,this._title=r,this._store=i,this._breakpoints=a,this._obRouter=c,this._data=_,this._title.setTitle(this.config.config.appTitle+"Ecommerce evolution"),this.mobile$=this._breakpoints.observe(B.u3.HandsetPortrait).pipe((0,m.U)(g=>g.matches)),this.params$=this._ac.paramMap.pipe((0,m.U)(g=>g.keys.reduce((O,v)=>(O[v]=g.get(v),O),{}))),this.plantOrZoneRows$=this.params$.pipe((0,b.w)(g=>this._store.select(y.i.GetZoneOrPlantRows(g.plant,g.id,"order_intake_history")))),this.monthRows$=this.params$.pipe((0,b.w)(g=>this._store.select(y.i.GetMonthRows(g.plant,g.id,g.month,"order_intake_history")))),this.previousMonthRows$=this.params$.pipe((0,b.w)(g=>this._store.select(y.i.GetMonthRows(g.plant,g.id,(0,W.D9)(g.month),"order_intake_history")))),this.rows$=this.params$.pipe((0,b.w)(g=>this._store.select(y.i.GetRegionOrProductRows(g.plant,g.id,g.month,g.type,g.value,"order_intake_history")))),this.previousRows$=this.params$.pipe((0,b.w)(g=>this._store.select(y.i.GetRegionOrProductRows(g.plant,g.id,(0,W.D9)(g.month),g.type,g.value,"order_intake_history"))))}goItem(o,e){this._obRouter.goToProductRegionView(this._ac,null,null,null,o,e)}}U.\u0275fac=function(o){return new(o||U)(t.Y36(p.gz),t.Y36(D.E),t.Y36(G.Dx),t.Y36(M.yh),t.Y36(B.Yg),t.Y36(Y),t.Y36(T.D))},U.\u0275cmp=t.Xpm({type:U,selectors:[["order-intake-history-sub-lvl4"]],hostBindings:function(o,e){1&o&&t.NdJ("swiperight",function(){return e._obRouter.goToMonthView(e._ac)})},decls:6,vars:3,consts:[[4,"ngLet"],["responsiveRow",""],["lvl4Row",""],["class","overview",4,"ngIf"],[1,"overview"],["type","day"],[1,"header-rows"],[1,"header-row","zone"],["matTooltipClass","after","matTooltipPosition","after","matTooltip","Return to main view",1,"arrow",3,"click"],[1,"title","with-selector"],["matTooltipClass","after","matTooltipPosition","after","matTooltip","Return to month view",1,"arrow",3,"click"],[3,"rows","previousRows"],[1,"title-header"],[4,"ngIf","ngIfElse"],["regionsTitle",""],["matTooltipClass","after","matTooltipPosition","after","matTooltip","Return to plant/zone view",1,"arrow",3,"click"],[3,"rows"],[1,"actual",3,"innerHTML"],[1,"previous",3,"innerHTML"],[1,"delta","grey",3,"innerHTML"],["dummyPrevious",""],[1,"previous","orange"],[1,"delta","grey"],[1,"title"],["class","lvl4-row",3,"click",4,"ngFor","ngForOf"],[1,"lvl4-row",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf","ngIfThen","ngIfElse"],["mobileRow",""],["desktopRow",""],[1,"mobile",3,"current","previous","maximum"],[1,"desktop",3,"current","previous","maximum"],[1,"actual","cyan",3,"innerHTML"],[1,"previous","orange",3,"innerHTML"]],template:function(o,e){1&o&&(t.YNc(0,Oo,3,3,"ng-container",0),t.ALo(1,"async"),t.YNc(2,yo,6,5,"ng-template",null,1,t.W1O),t.YNc(4,bo,6,10,"ng-template",null,2,t.W1O)),2&o&&t.Q6J("ngLet",t.lcZ(1,1,e.params$))},directives:[Q,s.O5,w,V,it.gM,H,yt,je,s.sg,s.tP,bt],pipes:[s.Ov,q,j,S.$,L,I,s.Nd,Ee,Lt,kt],styles:['[_nghost-%COMP%]{display:block;width:100%;left:0;touch-action:pan-y!important}[_nghost-%COMP%]  .mat-button-toggle-group{margin-top:20px}@media (max-width: 800px){[_nghost-%COMP%]  .mat-button-toggle-group{margin-bottom:-5px!important}}.overview[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;width:100%}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{display:flex;flex:1 100%;padding:12px 40px}@media (max-width: 800px){.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 30%;position:relative}@media (min-width: 800px){.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 70%}}.overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]{background-color:#34344580}.overview[_ngcontent-%COMP%]   .header-row.arrow[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:after{transition:left .2s ease-in-out;content:"";position:absolute;height:12px;width:12px;top:0;bottom:0;left:-2px;transform:rotate(180deg);margin:auto;display:block;background-image:url(assets/arrow.svg);background-size:contain;background-repeat:no-repeat}.overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]{cursor:pointer}.overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]{background-color:#20202966;cursor:pointer}.overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-left:25px}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%]{flex:1 15%;text-align:right;font-size:16px;font-weight:700}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#28e8ff}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#f8b03b}.overview[_ngcontent-%COMP%]   .meters[_ngcontent-%COMP%]{display:flex;flex:1 100%;height:160px;position:relative;background:linear-gradient(to bottom,#000,#303030);border-bottom:3px solid black}.overview[_ngcontent-%COMP%]   .meters[_ngcontent-%COMP%]   .meter[_ngcontent-%COMP%]{flex:1 50%;height:100%}.overview[_ngcontent-%COMP%]   .meters[_ngcontent-%COMP%]   .meter[_ngcontent-%COMP%]:nth-child(2){border-left:3px solid black}.overview[_ngcontent-%COMP%]   .meters[_ngcontent-%COMP%]   .meter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:120px;height:120px;margin:20px auto 0;position:relative}.overview[_ngcontent-%COMP%]   .meters[_ngcontent-%COMP%]   .meter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{position:absolute;height:30px;width:100%;margin:auto;text-align:center;top:0;bottom:0;font-size:27px}.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{flex:1 100%;padding:12px 40px;text-transform:uppercase;display:flex;background-color:#34344580}@media (max-width: 800px){.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 100%}@media (min-width: 800px){.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:17px;line-height:25px;letter-spacing:1px}}.overview[_ngcontent-%COMP%]   .lvl4-row[_ngcontent-%COMP%]{flex:1 100%;padding:20px 40px;flex-wrap:wrap;align-items:center;display:flex;cursor:pointer;border-bottom:1px solid transparent}@media (min-width: 800px){.overview[_ngcontent-%COMP%]   .lvl4-row[_ngcontent-%COMP%]{flex-wrap:nowrap;height:70px}}@media (max-width: 800px){.overview[_ngcontent-%COMP%]   .lvl4-row[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}.overview[_ngcontent-%COMP%]   .lvl4-row[_ngcontent-%COMP%]:hover{background-color:#ffffff05}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl4-row[_ngcontent-%COMP%]:hover{background-color:#121212!important}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl4-row[_ngcontent-%COMP%]:hover{background-color:#0000000d!important}.overview[_ngcontent-%COMP%]   .lvl4-row[_ngcontent-%COMP%]:nth-child(even){background-color:#20202966}.overview[_ngcontent-%COMP%]   .lvl4-row[_ngcontent-%COMP%]:nth-child(odd){background-color:#18182099}.overview[_ngcontent-%COMP%]   .lvl4-row[_ngcontent-%COMP%]:hover   .title[_ngcontent-%COMP%]{padding-left:30px}.overview[_ngcontent-%COMP%]   .lvl4-row[_ngcontent-%COMP%]:hover   .title[_ngcontent-%COMP%]:after{left:15px}.overview[_ngcontent-%COMP%]   .lvl4-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 30%;padding-left:20px;position:relative;transition:padding-left .15s ease-in-out}@media (min-width: 800px){.overview[_ngcontent-%COMP%]   .lvl4-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 20%}}.overview[_ngcontent-%COMP%]   .lvl4-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:after{transition:left .15s ease-in-out;content:"";position:absolute;height:12px;width:12px;top:0;bottom:0;left:0;margin:auto;display:block;background-image:url(assets/arrow.svg);background-size:contain;background-repeat:no-repeat}.overview[_ngcontent-%COMP%]   .lvl4-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .lvl4-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .lvl4-row[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%]{flex:1 15%;text-align:right;font-size:15px}body[theme=light]   [_nghost-%COMP%]{background-color:#fff}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]{background-color:#e6e6e6;border-bottom:2px solid white}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#333;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#17687f;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#e59123;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%]{color:#0d0d0dcc;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{background-color:#e6e6e6}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#666;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl4-row[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #E6E6E6}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl4-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#333!important;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl4-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#0d0d0d!important;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl4-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#0d0d0d!important;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl4-row[_ngcontent-%COMP%]   .delta[_ngcontent-%COMP%]{color:#0d0d0d!important;font-weight:700}'],changeDetection:0}),function(n,o,e,r){var c,i=arguments.length,a=i<3?o:null===r?r=Object.getOwnPropertyDescriptor(o,e):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(n,o,e,r);else for(var _=n.length-1;_>=0;_--)(c=n[_])&&(a=(i<3?c(a):i>3?c(o,e,a):c(o,e))||a);i>3&&a&&Object.defineProperty(o,e,a)}([(0,R.Q8)(h.n.GetPlanDate),function(n,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",String)}()],U.prototype,"plandate$",void 0);const Lo=[{path:"",component:Ht,children:[{path:"",component:J,data:{level:1}},{path:":plant/:id",component:F,data:{level:2}},{path:":plant/:id/month/:month",component:$,data:{level:3}},{path:":plant/:id/month/:month/:type/:value",component:U,data:{level:4}}]}];let ko=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[Y],imports:[[s.ez,p.Bz.forChild(Lo),B.xu,nt.a4,gt.m,Rt]]}),n})()}}]);
//# sourceMappingURL=236.f9501f1666b265c6.js.map