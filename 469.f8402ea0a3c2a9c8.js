"use strict";(self.webpackChunkdip=self.webpackChunkdip||[]).push([[469],{43299:(Z,m,l)=>{l.d(m,{j:()=>f});var g=l(31631);const f=(0,g.X$)("routerTransition",[(0,g.eR)(":increment",[(0,g.IO)(":enter, :leave",(0,g.oB)({overflow:"hidden"}),{optional:!0}),(0,g.ru)([(0,g.IO)(":enter",[(0,g.oB)({transform:"translateX(100%)"}),(0,g.jt)("0.5s ease-in-out",(0,g.oB)({transform:"translateX(0%)"}))],{optional:!0}),(0,g.IO)(":leave",[(0,g.oB)({transform:"translateX(0%)"}),(0,g.jt)("0.5s ease-in-out",(0,g.oB)({transform:"translateX(-100%)"}))],{optional:!0})])]),(0,g.eR)(":decrement",[(0,g.IO)(":enter, :leave",(0,g.oB)({overflow:"hidden"}),{optional:!0}),(0,g.ru)([(0,g.IO)(":enter",[(0,g.oB)({transform:"translateX(-100%)"}),(0,g.jt)("0.5s ease-in-out",(0,g.oB)({transform:"translateX(0%)"}))],{optional:!0}),(0,g.IO)(":leave",[(0,g.oB)({transform:"translateX(0%)"}),(0,g.jt)("0.5s ease-in-out",(0,g.oB)({left:0,transform:"translateX(100%)"}))],{optional:!0})])])])},77469:(Z,m,l)=>{l.r(m),l.d(m,{OrderIntakeModule:()=>st});var g=l(36362),f=l(32714),k=l(5830),x=l(70946),u=l(31631),_=l(56908),w=l(93295),s=l(19180),t=l(3184),d=l(85861),h=l(50318),p=l(33935),v=l(64066);function b(o,a){if(1&o&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"toNumber"),t.qZA()),2&o){const n=t.oxw().$implicit,e=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,e._data.sumByIndex(e.rows[n],12)))}}function I(o,a){if(1&o&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"toNumber"),t.qZA()),2&o){const n=t.oxw().$implicit,e=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,e._data.sumByIndex(e.rows[n],13)))}}const T=function(o){return{zero:o}};function L(o,a){if(1&o){const n=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){const r=t.CHM(n).$implicit;return t.oxw().goZone(r)}),t.TgZ(1,"div",3)(2,"div",4)(3,"div",5),t.YNc(4,b,3,3,"div",6),t.ALo(5,"async"),t.qZA(),t.TgZ(6,"div",7),t.YNc(7,I,3,3,"div",6),t.ALo(8,"async"),t.qZA()()(),t.TgZ(9,"div",8),t._uU(10),t.qZA()()}if(2&o){const n=a.$implicit,e=t.oxw();t.Udp("width",e.barsWidth,"%"),t.xp6(3),t.Udp("height",e.zones[n].percentActual,"%"),t.Q6J("ngClass",t.VKq(15,T,!e.ready)),t.xp6(1),t.Q6J("ngIf",!t.lcZ(5,11,e._data.mobile$)),t.xp6(2),t.Udp("height",e.zones[n].percentPrevious,"%"),t.Q6J("ngClass",t.VKq(17,T,!e.ready)),t.xp6(1),t.Q6J("ngIf",!t.lcZ(8,13,e._data.mobile$)),t.xp6(3),t.Oqu(e.zones[n].title)}}let D=(()=>{class o{constructor(n,e,i,r){this._data=n,this.config=e,this.router=i,this.route=r,this.ready=!1,this.rows=[],this.zones={},this.zoneKeys=[],this.maxTotal=0,this.barsWidth=0,window.oi_graphic=this}ngOnChanges(n){this.zoneKeys=[];let e=n.data.currentValue.reduce((c,O)=>(c[O[0]]=c[O[0]]||[],c[O[0]].push(O),c),{});for(var i in e)this.zones[i]={title:e[i][0][this.config.config.reports.trucks.columns.orderIntake.groupName[this.config.config.language]],actual:parseInt(this._data.sumByIndex(e[i],12)),previous:parseInt(this._data.sumByIndex(e[i],13))};this.rows=this._data.classifyByIndex(this._data.orderIntakeData,0);let r=0;for(var i in this.zones)this.zones[i].actual>r&&(r=this.zones[i].actual),this.zones[i].previous>r&&(r=this.zones[i].previous);for(var i in this.maxTotal=r,this.zones){let O=100*this.zones[i].actual/r,P=100*this.zones[i].previous/r;this.zones[i].percentActual=(0==parseInt(O.toString())?1:O).toFixed(0),this.zones[i].percentPrevious=(0==parseInt(P.toString())?1:P).toFixed(0)}this.zoneKeys=Object.keys(this.zones),this.barsWidth=100/Object.keys(this.zones).length,setTimeout(()=>this.ready=!0,300)}goZone(n){this.router.navigate(["zone",n],{relativeTo:this.route,replaceUrl:!0})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(f.D),t.Y36(x.E),t.Y36(d.F0),t.Y36(d.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["order-intake-graphic"]],inputs:{data:"data"},features:[t.TTD],decls:2,vars:2,consts:[[1,"wrapper"],["class","zone",3,"width","click",4,"ngFor","ngForOf"],[1,"zone",3,"click"],[1,"bars"],[2,"position","relative","height","100%"],[1,"actual",3,"ngClass"],["class","value",4,"ngIf"],[1,"previous",3,"ngClass"],[1,"title"],[1,"value"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0),t.YNc(1,L,11,19,"div",1),t.qZA()),2&n&&(t.Q6J("@list",e.zoneKeys.length),t.xp6(1),t.Q6J("ngForOf",e.zoneKeys))},directives:[g.sg,g.mk,g.O5],pipes:[g.Ov,v.$],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}.wrapper[_ngcontent-%COMP%]{height:100%}.zone[_ngcontent-%COMP%]{display:inline-block;height:100%;position:relative;cursor:pointer;transition:top .15s ease-in-out;top:0}.zone[_ngcontent-%COMP%]:hover{top:-10px}.zone[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;height:30px;bottom:0;left:0;width:100%;line-height:30px;text-align:center}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;margin:auto;height:calc(100% - 40px);width:calc(100% - 20px)}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;border-radius:3px;width:calc(50% - 2px);transition:height .7s ease-in-out;background:linear-gradient(to top,rgba(0,0,0,0),rgba(0,172,193,.5));border-top:3px solid #00ACC1;padding-top:5px}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{position:absolute;top:-25px;text-align:center;width:100%;font-size:16px;font-weight:700;color:#00acc1e6}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]   .actual.zero[_ngcontent-%COMP%]{height:0%!important}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;border-radius:3px;width:calc(50% - 2px);transition:height .7s ease-in-out;background:linear-gradient(to top,rgba(0,0,0,0),rgba(248,176,59,.5));border-top:3px solid #F8B03B;padding-top:5px}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{position:absolute;top:-25px;text-align:center;width:100%;font-size:16px;font-weight:700;color:#f8b03be6}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]   .previous.zero[_ngcontent-%COMP%]{height:0%!important}[_nghost-%COMP%]  .actual{border-color:#00acc1;position:relative}body[theme=light]   [_nghost-%COMP%]  .actual{border-color:#17687f}body[theme=light]   [_nghost-%COMP%]  .previous{border-color:#e59123}body[theme=light]   [_nghost-%COMP%]  .zone .bars .actual{background:linear-gradient(to top,rgba(0,0,0,0),rgba(23,104,127,.6))!important;border-top-color:#17687f!important}body[theme=light]   [_nghost-%COMP%]  .zone .bars .actual .value{color:#17687f!important}body[theme=light]   [_nghost-%COMP%]  .zone .bars .previous{background:linear-gradient(to top,rgba(0,0,0,0),rgba(229,145,35,.6))!important;border-top-color:#e59123!important}body[theme=light]   [_nghost-%COMP%]  .zone .bars .previous .value{color:#e59123!important}body[theme=light]   [_nghost-%COMP%]  .zone .title{color:#333;font-weight:700}[_nghost-%COMP%]  .previous{border-color:#f8b03b;position:relative}"],data:{animation:[(0,u.X$)("list",[(0,u.eR)("* => *",[(0,u.IO)(":enter",(0,u.oB)({opacity:0}),{optional:!0}),(0,u.IO)(":enter",(0,u.EY)("200ms",(0,u.jt)("300ms ease-in",(0,u.oB)({opacity:1}))),{optional:!0})])])]}}),o})();var y=l(6178);function U(o,a){if(1&o){const n=t.EpF();t.TgZ(0,"div",12),t.NdJ("click",function(){const r=t.CHM(n).$implicit,c=t.oxw();return c.goZone(c.rowGroups[r][0][0])}),t.TgZ(1,"div",2),t._uU(2),t.qZA(),t.TgZ(3,"div",13),t._uU(4),t.ALo(5,"toNumber"),t.qZA(),t.TgZ(6,"div",14),t._uU(7),t.ALo(8,"toNumber"),t.qZA()()}if(2&o){const n=a.$implicit,e=t.oxw();t.xp6(2),t.Oqu(e.rowGroups[n][0][e.config.config.reports.trucks.columns.orderIntake.groupName[e.config.config.language]]),t.xp6(2),t.Oqu(t.lcZ(5,3,e.data.sumByIndex(e.rowGroups[n],12))),t.xp6(3),t.Oqu(t.lcZ(8,5,e.data.sumByIndex(e.rowGroups[n],13)))}}const B=function(o){return[o]};function N(o,a){if(1&o){const n=t.EpF();t.TgZ(0,"div",20),t.NdJ("click",function(){const r=t.CHM(n).$implicit;return t.oxw(2).goPlant(r)}),t.TgZ(1,"div",17),t._uU(2),t.qZA(),t.TgZ(3,"div",18),t.ALo(4,"toNumber"),t._uU(5),t.ALo(6,"toNumber"),t.qZA(),t.TgZ(7,"div",14),t._uU(8),t.ALo(9,"toNumber"),t.qZA()()}if(2&o){const n=a.$implicit,e=t.oxw(2);t.xp6(2),t.Oqu(e.rowPlants[n][0][t.VKq(11,B,e.config.config.reports.trucks.columns.orderIntake.plantName[e.config.config.language])]),t.xp6(1),t.Q6J("matTooltip",t.xi3(4,4,e.data.sumByIndex(e.rowPlants[n],12)-e.data.sumByIndex(e.rowPlants[n],13),!0)),t.xp6(2),t.Oqu(t.lcZ(6,7,e.data.sumByIndex(e.rowPlants[n],12))),t.xp6(3),t.Oqu(t.lcZ(9,9,e.data.sumByIndex(e.rowPlants[n],13)))}}function R(o,a){if(1&o){const n=t.EpF();t.TgZ(0,"div",15)(1,"div",16),t.NdJ("click",function(){const r=t.CHM(n).$implicit;return t.oxw().goZone(r)}),t.TgZ(2,"div",17),t._uU(3),t.qZA(),t.TgZ(4,"div",18),t.ALo(5,"toNumber"),t._uU(6),t.ALo(7,"toNumber"),t.qZA(),t.TgZ(8,"div",14),t._uU(9),t.ALo(10,"toNumber"),t.qZA()(),t.YNc(11,N,10,13,"div",19),t.qZA()}if(2&o){const n=a.$implicit,e=t.oxw();t.xp6(3),t.Oqu(e.rowGroups[n][0][e.config.config.reports.trucks.columns.orderIntake.groupName[e.config.config.language]]),t.xp6(1),t.Q6J("matTooltip",t.xi3(5,5,e.data.sumByIndex(e.rowGroups[n],12)-e.data.sumByIndex(e.rowGroups[n],13),!0)),t.xp6(2),t.Oqu(t.lcZ(7,8,e.data.sumByIndex(e.rowGroups[n],12))),t.xp6(3),t.Oqu(t.lcZ(10,10,e.data.sumByIndex(e.rowGroups[n],13))),t.xp6(2),t.Q6J("ngForOf",e.getPlantsByZone(n))}}let K=(()=>{class o{constructor(n,e,i,r,c,O){this.data=n,this.api=e,this.config=i,this.router=r,this.title=c,this.translate=O,this.ready=!1,this.main_route="activity",this.general_route="zone",this.second_level_route="region",this.plandate="",window.moment=_,this.title.setTitle(this.config.config.appTitle+" - "+this.translate.instant("menu.order_intake"))}ngOnInit(){0===this.data.orderIntakeData.length?this.api.getSavedReportData(w.z3.OrderIntake).subscribe(n=>{this.plandate=(0,s.hZ)(n[0][11],_,!0),this.data.orderIntakeData=n,window.orderIntake=n,this.rollupData()}):(this.plandate=(0,s.hZ)(this.data.orderIntakeData[0][11],_,!0),this.rollupData())}rollupData(){this.rowGroups=this.data.classifyByIndex(this.data.orderIntakeData,0),this.rowPlants=this.data.classifyByIndex(this.data.orderIntakeData,1),this.rowKeys=Object.keys(this.rowGroups),setTimeout(()=>this.ready=!0)}getPlantsByZone(n){return Object.keys(this.rowGroups[n].reduce((e,i)=>(e[i[1]]=e[i[1]]||[],e[i[1]].push(i),e),{}))}goZone(n){this.data.lastTap={type:this.general_route,key:n},this.router.navigate([this.main_route,this.general_route,n],{replaceUrl:!0,queryParamsHandling:"merge"})}goPlant(n){this.data.lastTap={type:this.second_level_route,key:n},this.router.navigate([this.main_route,this.second_level_route,n],{replaceUrl:!0,queryParamsHandling:"merge"})}recoverLvl2(){null!=this.data.lastTap&&this.router.navigate(this.data.lastTap.type==this.second_level_route?[this.main_route,this.second_level_route,this.data.lastTap.key]:[this.main_route,this.general_route,this.data.lastTap.key],{replaceUrl:!0,queryParamsHandling:"merge"})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(f.D),t.Y36(k.s),t.Y36(x.E),t.Y36(d.F0),t.Y36(h.Dx),t.Y36(p.sK))},o.\u0275cmp=t.Xpm({type:o,selectors:[["order-intake-main"]],hostBindings:function(n,e){1&n&&t.NdJ("swiperight",function(r){return e.data.goFrom("order_intake",r)})("swipeleft",function(r){return e.data.goFrom("order_intake",r)})},decls:14,vars:5,consts:[[1,"report-header"],[1,"data-header"],[1,"empty"],[1,"report-date"],[1,"glyph"],[1,"overview"],[1,"graphic"],[3,"data"],[1,"simple"],["class","overview-group",3,"click",4,"ngFor","ngForOf"],[1,"wrapper"],["class","zone",4,"ngFor","ngForOf"],[1,"overview-group",3,"click"],[1,"actual"],[1,"previous"],[1,"zone"],[1,"zone-header",3,"click"],[1,"title"],["matTooltipPosition","after","matTooltipClass","after",1,"actual",3,"matTooltip"],["class","plant",3,"click",4,"ngFor","ngForOf"],[1,"plant",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2),t.TgZ(3,"div",3),t._uU(4),t.qZA(),t.TgZ(5,"div",4),t._uU(6,"\xd8"),t.qZA()(),t.TgZ(7,"div",5)(8,"div",6),t._UZ(9,"order-intake-graphic",7),t.qZA(),t.TgZ(10,"div",8),t.YNc(11,U,9,7,"div",9),t.qZA()()(),t.TgZ(12,"div",10),t.YNc(13,R,12,12,"div",11),t.qZA()),2&n&&(t.xp6(4),t.Oqu(e.plandate),t.xp6(5),t.Q6J("data",e.data.orderIntakeData),t.xp6(2),t.Q6J("ngForOf",e.rowKeys),t.xp6(1),t.Q6J("@list",null==e.rowKeys?null:e.rowKeys.length),t.xp6(1),t.Q6J("ngForOf",e.rowKeys))},directives:[D,g.sg,y.gM],pipes:[v.$],styles:['[_nghost-%COMP%]{display:block;left:0}.data-header[_ngcontent-%COMP%]{display:flex;width:100%;height:30px;line-height:30px;position:relative;padding:0 20px 0 15px;box-sizing:border-box}@media (min-width: 800px){.data-header[_ngcontent-%COMP%]{margin-bottom:-20px}}@media (min-width: 800px){.data-header[_ngcontent-%COMP%]{padding-right:40px}}.data-header[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{flex:1 70%;padding-left:5px;position:relative}.data-header[_ngcontent-%COMP%]   .report-date[_ngcontent-%COMP%], .data-header[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{flex:1 5%;text-align:right;font-size:15px;letter-spacing:1px}body[theme=new-dark]   [_nghost-%COMP%]   .report-header[_ngcontent-%COMP%]{background-color:#151515}@media (min-width: 800px){.report-header[_ngcontent-%COMP%]{padding-top:20px}}body[theme=light]   [_nghost-%COMP%]   .report-header[_ngcontent-%COMP%]{background-color:transparent}.overview[_ngcontent-%COMP%]{display:flex;width:100%;max-height:0;overflow:hidden;transition:all .6s ease-in-out;background:linear-gradient(to bottom,rgba(255,255,255,0),rgba(52,52,69,.5))}@media (min-width: 400px) and (max-width: 800px) and (orientation: landscape){.overview[_ngcontent-%COMP%]{flex-wrap:wrap}}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]{background:initial}@media screen and (min-width: 400px) and (orientation: landscape){.overview[_ngcontent-%COMP%]{max-height:1000px;min-height:243px;overflow:auto;border-bottom:3px solid rgba(0,0,0,.1)}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]{border-bottom:0}}@media (min-width: 800px){.overview[_ngcontent-%COMP%]{max-height:1000px;min-height:243px;overflow:auto;border-bottom:3px solid rgba(0,0,0,.1)}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]{border-bottom:0}}.overview[_ngcontent-%COMP%]   .graphic[_ngcontent-%COMP%]{flex:1 60%;max-width:60%;padding:30px 30px 15px}@media (min-width: 400px) and (max-width: 959.98px) and (orientation: landscape){.overview[_ngcontent-%COMP%]   .graphic[_ngcontent-%COMP%]{flex:1 50%;max-width:50%;height:260px;border-bottom:0;padding-bottom:50px;padding-top:10px}}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]{flex:1 40%;max-width:40%;border-left:3px solid rgba(0,0,0,.35);padding:30px 40px 30px 30px}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]{border-left:0}@media (min-width: 400px) and (max-width: 959.98px) and (orientation: landscape){.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]{flex:1 50%;max-width:50%;border-left-width:0}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .headers[_ngcontent-%COMP%]{padding-right:0!important}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{flex:0 0 95px!important}}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .overview-group[_ngcontent-%COMP%]{display:flex;width:100%;line-height:40px;padding:0 0 0 15px;box-sizing:border-box;transition:background .1s ease-in-out;border-radius:5px;cursor:pointer}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .overview-group[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .overview-group[_ngcontent-%COMP%]:hover{background-color:#ffffff0d}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .overview-group[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{cursor:pointer}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .overview-group[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#28e8ff;font-size:16px;font-weight:700;text-align:right}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .overview-group[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#f8b03b;font-size:16px;font-weight:700;text-align:right}body[theme=light]   [_nghost-%COMP%]  .overview .simple .overview-group .actual{color:#000!important}body[theme=light][_ngcontent-%COMP%]   .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#000!important}body[theme=light]   [_nghost-%COMP%]{background-color:#fff}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]{background-color:#e6e6e6}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#666;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#17687f!important}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#e59123!important}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #E6E6E6}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#333!important;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#0d0d0d!important;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#0d0d0d!important;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]{background:linear-gradient(to bottom,white,#E6E6E6);border-bottom-color:#fff}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]{border-left-color:transparent}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#17687f!important}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#e59123!important}.zone[_ngcontent-%COMP%]{display:block;position:relative}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]:not(:first-child)   .zone-header[_ngcontent-%COMP%]{border-top-width:0}.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]{display:flex;padding:12px 40px;align-items:center;position:relative;border-bottom:1px solid transparent;background-color:#34344580;cursor:pointer}@media (max-width: 800px){.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]{border-top-color:#fff}.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]:hover{border-bottom-color:#f8b03b!important}body[theme=new-dark]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]{background-color:#1a1a1a}.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 70%;text-transform:uppercase}@media (min-width: 800px){.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:17px;line-height:25px;letter-spacing:1px}}.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{flex:1 15%;text-align:right;font-size:16px;font-weight:700}@media (min-width: 800px){.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{flex:0 0 150px}}.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#28e8ff}.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#f8b03b}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]{display:flex;padding:12px 40px;position:relative;cursor:pointer;border-bottom:1px solid transparent}@media (max-width: 800px){.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:hover{border-bottom-color:#f8b03b}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:hover   .title[_ngcontent-%COMP%]{padding-left:30px;box-sizing:border-box}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:hover   .title[_ngcontent-%COMP%]:after{left:10px}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:nth-child(even){background-color:#20202966}body[theme=new-dark]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:nth-child(even){background-color:#0d0d0d}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:nth-child(even):hover{background-color:#ffffff05}body[theme=new-dark]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:nth-child(even):hover{background-color:#121212!important}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:nth-child(even):hover{background-color:#0000000d!important}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:nth-child(odd){background-color:#18182099}body[theme=new-dark]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:nth-child(odd){background-color:#111}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:nth-child(odd):hover{background-color:#ffffff05}body[theme=new-dark]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:nth-child(odd):hover{background-color:#161616!important}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:nth-child(odd):hover{background-color:#0000000d!important}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{transition:padding-left .15s ease-in-out;flex:1 70%;padding-left:20px;position:relative}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:after{transition:left .15s ease-in-out;content:"";position:absolute;height:12px;width:12px;top:0;bottom:0;left:0;margin:auto;display:block;background-image:url(assets/arrow.svg);background-size:contain;background-repeat:no-repeat}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#28e8ff}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#f8b03b}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{flex:1 15%;text-align:right;font-size:15px}@media (min-width: 800px){.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{flex:0 0 150px}}'],data:{animation:[(0,u.X$)("list",[(0,u.eR)("* => *",[(0,u.IO)(".zone:enter",(0,u.oB)({opacity:0}),{optional:!0}),(0,u.IO)(".zone:enter",(0,u.EY)("200ms",(0,u.jt)("300ms ease-in",(0,u.oB)({opacity:1}))),{optional:!0})])])]}}),o})();var z=l(51367);function F(o,a){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",11)(2,"div",9),t._uU(3,"TOTAL"),t.qZA(),t.TgZ(4,"div",12),t._uU(5),t.ALo(6,"toNumber"),t.qZA(),t.TgZ(7,"div",13),t._uU(8),t.ALo(9,"toNumber"),t.qZA()(),t.TgZ(10,"div",14),t.NdJ("click",function(){return t.CHM(n),t.oxw().return()}),t.TgZ(11,"div",9)(12,"span",15),t.ALo(13,"translate"),t._uU(14),t.qZA()(),t.TgZ(15,"div",12),t._uU(16),t.ALo(17,"toNumber"),t.qZA(),t.TgZ(18,"div",13),t._uU(19),t.ALo(20,"toNumber"),t.qZA()(),t.BQk()}if(2&o){const n=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,6,n.groupInfo.totalActual)),t.xp6(3),t.Oqu(t.lcZ(9,8,n.groupInfo.totalPrevious)),t.xp6(4),t.s9C("matTooltip",t.lcZ(13,10,"return.main")),t.xp6(2),t.Oqu(n.groupInfo.zoneRows[0][n.config.config.reports.trucks.columns.orderIntake.groupName[n.config.config.language]]),t.xp6(2),t.Oqu(t.lcZ(17,12,n.groupInfo.zoneActual)),t.xp6(3),t.Oqu(t.lcZ(20,14,n.groupInfo.zonePrevious))}}function S(o,a){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",11)(2,"div",9),t._uU(3),t.qZA(),t.TgZ(4,"div",12),t._uU(5),t.ALo(6,"toNumber"),t.qZA(),t.TgZ(7,"div",13),t._uU(8),t.ALo(9,"toNumber"),t.qZA()(),t.TgZ(10,"div",16),t.NdJ("click",function(){return t.CHM(n),t.oxw().return()}),t.TgZ(11,"div",9)(12,"span",15),t.ALo(13,"translate"),t._uU(14),t.qZA()(),t.TgZ(15,"div",12),t._uU(16),t.ALo(17,"toNumber"),t.qZA(),t.TgZ(18,"div",13),t._uU(19),t.ALo(20,"toNumber"),t.qZA()(),t.BQk()}if(2&o){const n=t.oxw();t.xp6(3),t.Oqu(n.groupInfo.zoneRows[0][n.config.config.reports.trucks.columns.orderIntake.groupName[n.config.config.language]]),t.xp6(2),t.Oqu(t.lcZ(6,7,n.groupInfo.zoneActual)),t.xp6(3),t.Oqu(t.lcZ(9,9,n.groupInfo.zonePrevious)),t.xp6(4),t.s9C("matTooltip",t.lcZ(13,11,"return.main")),t.xp6(2),t.Oqu(n.groupInfo.plantRows[0][n.config.config.reports.trucks.columns.orderIntake.plantName[n.config.config.language]]),t.xp6(2),t.Oqu(t.lcZ(17,13,n.groupInfo.plantActual)),t.xp6(3),t.Oqu(t.lcZ(20,15,n.groupInfo.plantPrevious))}}function J(o,a){if(1&o&&t._UZ(0,"dip-circular-meters",17),2&o){const n=t.oxw();t.Q6J("actualValue",n.groupInfo.progressValue1)("previousValue",n.groupInfo.progressValue2)("actual",n.groupInfo.progress1||0)("previous",n.groupInfo.progress2||0)}}const A=function(o){return[o]};function Y(o,a){if(1&o){const n=t.EpF();t.TgZ(0,"div",18),t.NdJ("click",function(){const r=t.CHM(n).$implicit;return t.oxw().goProduct(r)}),t.TgZ(1,"div",9),t._uU(2),t.qZA(),t.TgZ(3,"div",19),t.ALo(4,"toNumber"),t._uU(5),t.ALo(6,"toNumber"),t.qZA(),t.TgZ(7,"div",20),t._uU(8),t.ALo(9,"toNumber"),t.qZA()()}if(2&o){const n=a.$implicit,e=t.oxw();t.xp6(2),t.Oqu(e.groupInfo.regions[n][0][t.VKq(11,A,e.config.config.reports.trucks.columns.orderIntake.region[e.config.config.language])]),t.xp6(1),t.Q6J("matTooltip",t.xi3(4,4,e.data.sumByIndex(e.groupInfo.regions[n],12)-e.data.sumByIndex(e.groupInfo.regions[n],13),!0)),t.xp6(2),t.Oqu(t.lcZ(6,7,e.data.sumByIndex(e.groupInfo.regions[n],12))),t.xp6(3),t.Oqu(t.lcZ(9,9,e.data.sumByIndex(e.groupInfo.regions[n],13)))}}function E(o,a){if(1&o){const n=t.EpF();t.TgZ(0,"div",18),t.NdJ("click",function(){const r=t.CHM(n).$implicit;return t.oxw().goRegion(r)}),t.TgZ(1,"div",9),t._uU(2),t.qZA(),t.TgZ(3,"div",19),t.ALo(4,"toNumber"),t._uU(5),t.ALo(6,"toNumber"),t.qZA(),t.TgZ(7,"div",20),t._uU(8),t.ALo(9,"toNumber"),t.qZA()()}if(2&o){const n=a.$implicit,e=t.oxw();t.xp6(2),t.Oqu(e.groupInfo.products[n][0][t.VKq(11,A,e.config.config.reports.trucks.columns.orderIntake.product[e.config.config.language])]),t.xp6(1),t.Q6J("matTooltip",t.xi3(4,4,e.data.sumByIndex(e.groupInfo.products[n],12)-e.data.sumByIndex(e.groupInfo.products[n],13),!0)),t.xp6(2),t.Oqu(t.lcZ(6,7,e.data.sumByIndex(e.groupInfo.products[n],12))),t.xp6(3),t.Oqu(t.lcZ(9,9,e.data.sumByIndex(e.groupInfo.products[n],13)))}}let Q=(()=>{class o{constructor(n,e,i,r,c,O,P){this.activatedRoute=n,this.data=e,this.api=i,this.config=r,this.router=c,this.translate=O,this.title=P,this.ZoneID=null,this.PlantID=null,this.plandate="",this.ready=!1,this.general_route="zone",this.sub_route_a="city",this.sub_route_b="company",P.setTitle(this.config.config.appTitle+" - "+this.translate.instant("menu.order_intake")),this.activatedRoute.params.subscribe(C=>{if(C.type==this.general_route?this.ZoneID=C.id:this.PlantID=C.id,0===this.data.orderIntakeData.length)this.api.getSavedReportData(w.z3.OrderIntake).subscribe(M=>{this.plandate=(0,s.hZ)(M[0][11],_,!0),this.data.orderIntakeData=M;try{this.rollupData()}catch(lt){this.router.navigate(["order-intake"],{replaceUrl:!0})}});else{this.plandate=(0,s.hZ)(this.data.orderIntakeData[0][11],_,!0);try{this.rollupData()}catch(M){this.router.navigate(["order-intake"],{replaceUrl:!0})}}})}rollupData(){let n;n=null!=this.ZoneID?this.data.classifyByIndex(this.data.orderIntakeData,0)[this.ZoneID]:this.data.classifyByIndex(this.data.orderIntakeData,1)[this.PlantID];let e=this.data.orderIntakeData.reduce((r,c)=>(r[c[this.config.config.reports.trucks.columns.orderIntake.groupKey]]=r[c[this.config.config.reports.trucks.columns.orderIntake.groupKey]]||[],r[c[this.config.config.reports.trucks.columns.orderIntake.groupKey]].push(c),r),{})[n[0][this.config.config.reports.trucks.columns.orderIntake.groupKey]],i=this.data.orderIntakeData.reduce((r,c)=>(r[c[this.config.config.reports.trucks.columns.orderIntake.plantKey]]=r[c[this.config.config.reports.trucks.columns.orderIntake.plantKey]]||[],r[c[this.config.config.reports.trucks.columns.orderIntake.plantKey]].push(c),r),{})[n[0][this.config.config.reports.trucks.columns.orderIntake.plantKey]];this.groupInfo={zone:null!=this.ZoneID,zoneRows:e,plantRows:i,rowsPlain:n,zoneID:n[0][this.config.config.reports.trucks.columns.orderIntake.groupKey],plantID:n[0][this.config.config.reports.trucks.columns.orderIntake.plantKey],totalActual:this.data.sumByIndex(this.data.orderIntakeData,12),totalPrevious:this.data.sumByIndex(this.data.orderIntakeData,13),zoneTitle:n[0][this.config.config.reports.trucks.columns.orderIntake.groupName[this.config.config.language]],plantTitle:n[0][this.config.config.reports.trucks.columns.orderIntake.plantName[this.config.config.language]],zoneActual:this.data.sumByIndex(e,this.config.config.reports.trucks.columns.orderIntake.actual),zonePrevious:this.data.sumByIndex(e,this.config.config.reports.trucks.columns.orderIntake.previous),plantActual:this.data.sumByIndex(i,this.config.config.reports.trucks.columns.orderIntake.actual),plantPrevious:this.data.sumByIndex(i,this.config.config.reports.trucks.columns.orderIntake.previous),regions:this.data.classifyByIndex(n,this.config.config.reports.trucks.columns.orderIntake.region[this.config.config.language]),products:this.data.classifyByIndex(n,this.config.config.reports.trucks.columns.orderIntake.product[this.config.config.language])},this.title.setTitle(this.config.config.appTitle+" - "+this.translate.instant("menu.order_intake")+" - "+(null!=this.ZoneID?this.groupInfo.zoneTitle:this.groupInfo.plantTitle)),this.groupInfo.regionKeys=Object.keys(this.groupInfo.regions),this.groupInfo.productKeys=Object.keys(this.groupInfo.products),this.groupInfo.progressValue1=null!=this.ZoneID?this.groupInfo.zoneActual:this.groupInfo.plantActual,this.groupInfo.progressValue2=null!=this.ZoneID?this.groupInfo.zonePrevious:this.groupInfo.plantPrevious,this.groupInfo.progress1=null!=this.ZoneID?this.percent(this.groupInfo.zoneActual,this.groupInfo.totalActual):this.percent(this.groupInfo.plantActual,this.groupInfo.zoneActual),this.groupInfo.progress2=null!=this.ZoneID?this.percent(this.groupInfo.zonePrevious,this.groupInfo.totalPrevious):this.percent(this.groupInfo.plantPrevious,this.groupInfo.zonePrevious),setTimeout(()=>this.ready=!0)}percent(n,e){return parseInt((100*n/e).toFixed(0))}return(){this.router.navigate(["../../"],{relativeTo:this.activatedRoute})}forward(){this.data.lastTap2&&this.router.navigate(this.data.lastTap2.type==this.sub_route_a?[this.sub_route_a,this.data.lastTap2.key]:[this.sub_route_b,this.data.lastTap2.key],{relativeTo:this.activatedRoute,replaceUrl:!0})}goProduct(n){this.data.lastTap={type:this.sub_route_a,key:encodeURI(n)},this.router.navigate([this.sub_route_a,encodeURI(n)],{relativeTo:this.activatedRoute})}goRegion(n){this.data.lastTap={type:this.sub_route_b,key:encodeURI(n)},this.router.navigate([this.sub_route_b,encodeURI(n)],{relativeTo:this.activatedRoute})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(d.gz),t.Y36(f.D),t.Y36(k.s),t.Y36(x.E),t.Y36(d.F0),t.Y36(p.sK),t.Y36(h.Dx))},o.\u0275cmp=t.Xpm({type:o,selectors:[["order-intake-sub-lvl2"]],hostBindings:function(n,e){1&n&&t.NdJ("swiperight",function(r){return e.data.goFrom("order_intake",r)})("swipeleft",function(r){return e.data.goFrom("order_intake",r)})},decls:21,vars:12,consts:[[1,"overview"],[1,"data-header"],[1,"empty"],[1,"report-date"],[1,"glyph"],[1,"total-headers"],[4,"ngIf"],[3,"actualValue","previousValue","actual","previous",4,"ngIf"],[1,"title-header"],[1,"title"],["class","lvl2-row",3,"click",4,"ngFor","ngForOf"],[1,"header-row","total"],[1,"actual"],[1,"previous"],[1,"header-row","arrow","zone",3,"click"],["matTooltipClass","after","matTooltipPosition","after",3,"matTooltip"],[1,"header-row","arrow","plant",3,"click"],[3,"actualValue","previousValue","actual","previous"],[1,"lvl2-row",3,"click"],["matTooltipPosition","after",1,"actual","cyan",3,"matTooltip"],[1,"previous","orange"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2),t.TgZ(3,"div",3),t._uU(4),t.qZA(),t.TgZ(5,"div",4),t._uU(6,"\xd8"),t.qZA()(),t.TgZ(7,"div",5),t.YNc(8,F,21,16,"ng-container",6),t.YNc(9,S,21,17,"ng-container",6),t.qZA(),t.YNc(10,J,1,4,"dip-circular-meters",7),t.TgZ(11,"div",8)(12,"div",9),t._uU(13),t.ALo(14,"translate"),t.qZA()(),t.YNc(15,Y,10,13,"div",10),t.TgZ(16,"div",8)(17,"div",9),t._uU(18),t.ALo(19,"translate"),t.qZA()(),t.YNc(20,E,10,13,"div",10),t.qZA()),2&n&&(t.xp6(4),t.Oqu(e.plandate),t.xp6(4),t.Q6J("ngIf",null!=e.ZoneID&&e.groupInfo),t.xp6(1),t.Q6J("ngIf",null!=e.PlantID&&e.groupInfo),t.xp6(1),t.Q6J("ngIf",e.ready&&e.groupInfo),t.xp6(3),t.Oqu(t.lcZ(14,8,"cities")),t.xp6(2),t.Q6J("ngForOf",null==e.groupInfo?null:e.groupInfo.regionKeys),t.xp6(3),t.Oqu(t.lcZ(19,10,"companies")),t.xp6(2),t.Q6J("ngForOf",null==e.groupInfo?null:e.groupInfo.productKeys))},directives:[g.O5,y.gM,z.C,g.sg],pipes:[v.$,p.X$],styles:['[_nghost-%COMP%]{display:block;width:100%;left:0;touch-action:pan-y!important}.overview[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;width:100%}.overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]{display:flex;flex:1 100%;height:30px;line-height:30px;position:relative;padding:0 20px 0 15px;box-sizing:border-box;background-color:#20202966}@media (min-width: 800px){.overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]{margin-top:20px}}@media (min-width: 800px){.overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]{padding-right:40px}}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]{background-color:#0d0d0d}.overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{flex:1 70%;padding-left:5px;position:relative}.overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]   .report-date[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{flex:1 15%;text-align:right;font-size:15px;letter-spacing:1px}.overview[_ngcontent-%COMP%]   .total-headers[_ngcontent-%COMP%]{flex:1 100%}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{display:flex;flex:1 100%;padding:12px 40px}@media (max-width: 800px){.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 70%;position:relative}.overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]{background-color:#34344580}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{background-color:#1a1a1a;border-bottom:2px solid #0d0d0d}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]:last-of-type{background-color:#111!important}.overview[_ngcontent-%COMP%]   .header-row.arrow[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:after{transition:left .2s ease-in-out;content:"";position:absolute;height:12px;width:12px;top:0;bottom:0;left:-2px;transform:rotate(180deg);margin:auto;display:block;background-image:url(assets/arrow.svg);background-size:contain;background-repeat:no-repeat}.overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]{cursor:pointer}.overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]{background-color:#20202966;cursor:pointer}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%], body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]{background-color:initial}.overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-left:25px}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{flex:1 15%;text-align:right;font-size:16px;font-weight:700}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#28e8ff}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#f8b03b}.overview[_ngcontent-%COMP%]   .meters[_ngcontent-%COMP%]{display:flex;flex:1 100%;height:160px;position:relative;background:linear-gradient(to bottom,#000,#303030);border-bottom:3px solid black}.overview[_ngcontent-%COMP%]   .meters[_ngcontent-%COMP%]   .meter[_ngcontent-%COMP%]{flex:1 50%;height:100%}.overview[_ngcontent-%COMP%]   .meters[_ngcontent-%COMP%]   .meter[_ngcontent-%COMP%]:nth-child(2){border-left:3px solid black}.overview[_ngcontent-%COMP%]   .meters[_ngcontent-%COMP%]   .meter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:120px;height:120px;margin:20px auto 0;position:relative}.overview[_ngcontent-%COMP%]   .meters[_ngcontent-%COMP%]   .meter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{position:absolute;height:30px;width:100%;margin:auto;text-align:center;top:0;bottom:0;font-size:27px}.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{flex:1 100%;padding:12px 40px;text-transform:uppercase;display:flex;background-color:#34344580}@media (max-width: 800px){.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{background-color:#1a1a1a}.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 100%}@media (min-width: 800px){.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:17px;line-height:25px;letter-spacing:1px}}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]{flex:1 100%;padding:12px 40px;display:flex;cursor:pointer;border-bottom:1px solid transparent}@media (max-width: 800px){.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:nth-child(even){background-color:#20202966}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:nth-child(even){background-color:#0d0d0d}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:nth-child(even):hover{background-color:#ffffff05}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:nth-child(even):hover{background-color:#121212!important}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:nth-child(even):hover{background-color:#0000000d!important}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:nth-child(odd){background-color:#18182099}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:nth-child(odd){background-color:#111}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:nth-child(odd):hover{background-color:#ffffff05}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:nth-child(odd):hover{background-color:#161616!important}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:nth-child(odd):hover{background-color:#0000000d!important}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:hover   .title[_ngcontent-%COMP%]{padding-left:30px}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:hover   .title[_ngcontent-%COMP%]:after{left:15px}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 70%;padding-left:20px;position:relative;transition:padding-left .15s ease-in-out}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:after{transition:left .15s ease-in-out;content:"";position:absolute;height:12px;width:12px;top:0;bottom:0;left:0;margin:auto;display:block;background-image:url(assets/arrow.svg);background-size:contain;background-repeat:no-repeat}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{flex:1 15%;text-align:right;font-size:15px}body[theme=light]   [_nghost-%COMP%]{background-color:#fff}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]{background-color:#fff}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]{background-color:#e6e6e6;border-bottom:2px solid white}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#333;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#17687f}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#e59123}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{background-color:#e6e6e6}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#666;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #E6E6E6}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#333!important;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#0d0d0d!important;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#0d0d0d!important;font-weight:700}']}),o})();var H=l(43299);const $=["o"];let V=(()=>{class o{constructor(n){this.data=n,n.lastTap2=null}getLevel(){return this.data.currentLevel=+this.outlet.activatedRouteData.level,this.outlet.activatedRouteData.level}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(f.D))},o.\u0275cmp=t.Xpm({type:o,selectors:[["order-intake-wrapper"]],viewQuery:function(n,e){if(1&n&&t.Gf($,7),2&n){let i;t.iGM(i=t.CRH())&&(e.outlet=i.first)}},hostVars:1,hostBindings:function(n,e){2&n&&t.d8E("@routerTransition",e.getLevel())},decls:2,vars:0,consts:[["o","outlet"]],template:function(n,e){1&n&&t._UZ(0,"router-outlet",null,0)},directives:[d.lC],styles:["[_nghost-%COMP%]{position:relative;display:block;background-color:#20202066}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{display:block}  order-intake-sub-lvl2,   order-intake-main,   order-intake-sub-lvl3{position:fixed;top:0;bottom:0;height:calc(100% - 32px);padding-top:70px;box-sizing:border-box;width:100%;left:0;overflow-y:auto;transform:translate(0);touch-action:pan-y!important}  .mat-form-field-appearance-legacy .mat-form-field-infix{padding:0}  .mat-form-field-appearance-legacy .mat-form-field-underline{display:none}  .mat-select-value-text{color:#fff}  .mat-select-arrow{color:#fff!important;opacity:.7}  .mat-select-content{background-color:#29293199}  .mat-option:not(.mat-selected){color:#fff}  .mat-option.mat-selected{color:#f8b03b!important}"],data:{animation:[H.j]}}),o})();function G(o,a){if(1&o&&(t.TgZ(0,"div",10)(1,"span",14),t.ALo(2,"translate"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&o){const n=t.oxw(2);t.xp6(1),t.s9C("matTooltip",t.lcZ(2,3,"return.second")),t.xp6(2),t.AsE("",t.lcZ(4,5,"region")," - ",n.subRows[0][n.config.config.reports.trucks.columns.orderIntake.region[n.config.config.language]],"")}}function j(o,a){if(1&o&&(t.TgZ(0,"div",10)(1,"span",14),t.ALo(2,"translate"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&o){const n=t.oxw(2);t.xp6(1),t.s9C("matTooltip",t.lcZ(2,3,"return.second")),t.xp6(2),t.AsE("",t.lcZ(4,5,"company")," - ",n.subRows[0][n.config.config.reports.trucks.columns.orderIntake.product[n.config.config.language]],"")}}function X(o,a){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",9)(2,"div",10),t._uU(3,"TOTAL"),t.qZA(),t.TgZ(4,"div",11),t._uU(5),t.ALo(6,"toNumber"),t.qZA(),t.TgZ(7,"div",12),t._uU(8),t.ALo(9,"toNumber"),t.qZA()(),t.TgZ(10,"div",13),t.NdJ("click",function(){return t.CHM(n),t.oxw().returnToMain()}),t.TgZ(11,"div",10)(12,"span",14),t.ALo(13,"translate"),t._uU(14),t.qZA()(),t.TgZ(15,"div",11),t._uU(16),t.ALo(17,"toNumber"),t.qZA(),t.TgZ(18,"div",12),t._uU(19),t.ALo(20,"toNumber"),t.qZA()(),t.TgZ(21,"div",15),t.NdJ("click",function(){return t.CHM(n),t.oxw().return()}),t.YNc(22,G,5,7,"div",16),t.YNc(23,j,5,7,"div",16),t.TgZ(24,"div",11),t._uU(25),t.ALo(26,"toNumber"),t.qZA(),t.TgZ(27,"div",12),t._uU(28),t.ALo(29,"toNumber"),t.qZA()(),t.BQk()}if(2&o){const n=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,10,n.groupInfo.totalActual)),t.xp6(3),t.Oqu(t.lcZ(9,12,n.groupInfo.totalPrevious)),t.xp6(4),t.s9C("matTooltip",t.lcZ(13,14,"return.main")),t.xp6(2),t.Oqu(n.groupInfo.zoneRows[0][n.config.config.reports.trucks.columns.orderIntake.groupName[n.config.config.language]]),t.xp6(2),t.Oqu(t.lcZ(17,16,n.groupInfo.zoneActual)),t.xp6(3),t.Oqu(t.lcZ(20,18,n.groupInfo.zonePrevious)),t.xp6(3),t.Q6J("ngIf",null!=n.RegionID),t.xp6(1),t.Q6J("ngIf",null==n.RegionID),t.xp6(2),t.Oqu(t.lcZ(26,20,n.data.sumByIndex(n.subRows,n.config.config.reports.trucks.columns.orderIntake.actual))),t.xp6(3),t.Oqu(t.lcZ(29,22,n.data.sumByIndex(n.subRows,n.config.config.reports.trucks.columns.orderIntake.previous)))}}function W(o,a){if(1&o&&(t.TgZ(0,"div",10)(1,"span",14),t.ALo(2,"translate"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&o){const n=t.oxw(2);t.xp6(1),t.s9C("matTooltip",t.lcZ(2,3,"return.second")),t.xp6(2),t.AsE("",t.lcZ(4,5,"region")," - ",n.subRows[0][n.config.config.reports.trucks.columns.orderIntake.region[n.config.config.language]],"")}}function tt(o,a){if(1&o&&(t.TgZ(0,"div",10)(1,"span",14),t.ALo(2,"translate"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&o){const n=t.oxw(2);t.xp6(1),t.s9C("matTooltip",t.lcZ(2,3,"return.second")),t.xp6(2),t.AsE("",t.lcZ(4,5,"company")," - ",n.subRows[0][n.config.config.reports.trucks.columns.orderIntake.product[n.config.config.language]],"")}}function nt(o,a){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"div",9)(2,"div",10),t._uU(3),t.qZA(),t.TgZ(4,"div",11),t._uU(5),t.ALo(6,"toNumber"),t.qZA(),t.TgZ(7,"div",12),t._uU(8),t.ALo(9,"toNumber"),t.qZA()(),t.TgZ(10,"div",13),t.NdJ("click",function(){return t.CHM(n),t.oxw().returnToMain()}),t.TgZ(11,"div",10)(12,"span",14),t.ALo(13,"translate"),t._uU(14),t.qZA()(),t.TgZ(15,"div",11),t._uU(16),t.ALo(17,"toNumber"),t.qZA(),t.TgZ(18,"div",12),t._uU(19),t.ALo(20,"toNumber"),t.qZA()(),t.TgZ(21,"div",15),t.NdJ("click",function(){return t.CHM(n),t.oxw().return()}),t.YNc(22,W,5,7,"div",16),t.YNc(23,tt,5,7,"div",16),t.TgZ(24,"div",11),t._uU(25),t.ALo(26,"toNumber"),t.qZA(),t.TgZ(27,"div",12),t._uU(28),t.ALo(29,"toNumber"),t.qZA()(),t.BQk()}if(2&o){const n=t.oxw();t.xp6(3),t.Oqu(n.groupInfo.zoneRows[0][n.config.config.reports.trucks.columns.orderIntake.groupName[n.config.config.language]]),t.xp6(2),t.Oqu(t.lcZ(6,11,n.groupInfo.zoneActual)),t.xp6(3),t.Oqu(t.lcZ(9,13,n.groupInfo.zonePrevious)),t.xp6(4),t.s9C("matTooltip",t.lcZ(13,15,"return.main")),t.xp6(2),t.Oqu(n.groupInfo.plantRows[0][n.config.config.reports.trucks.columns.orderIntake.plantName[n.config.config.language]]),t.xp6(2),t.Oqu(t.lcZ(17,17,n.groupInfo.plantActual)),t.xp6(3),t.Oqu(t.lcZ(20,19,n.groupInfo.plantPrevious)),t.xp6(3),t.Q6J("ngIf",null!=n.RegionID),t.xp6(1),t.Q6J("ngIf",null==n.RegionID),t.xp6(2),t.Oqu(t.lcZ(26,21,n.data.sumByIndex(n.subRows,n.config.config.reports.trucks.columns.orderIntake.actual))),t.xp6(3),t.Oqu(t.lcZ(29,23,n.data.sumByIndex(n.subRows,n.config.config.reports.trucks.columns.orderIntake.previous)))}}function et(o,a){if(1&o&&t._UZ(0,"dip-circular-meters",17),2&o){const n=t.oxw();t.Q6J("actualValue",n.groupInfo.thisActual)("previousValue",n.groupInfo.thisPrevious)("actual",n.groupInfo.progress1||0)("previous",n.groupInfo.progress2||0)}}const q=function(o){return[o]};function ot(o,a){if(1&o&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&o){const n=t.oxw().$implicit,e=t.oxw();t.xp6(1),t.Oqu(e.groupInfo.sub3rows[n][0][t.VKq(1,q,e.config.config.reports.trucks.columns.orderIntake.product[e.config.config.language])])}}function rt(o,a){if(1&o&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&o){const n=t.oxw().$implicit,e=t.oxw();t.xp6(1),t.Oqu(e.groupInfo.sub3rows[n][0][t.VKq(1,q,e.config.config.reports.trucks.columns.orderIntake.region[e.config.config.language])])}}function it(o,a){if(1&o){const n=t.EpF();t.TgZ(0,"div",18),t.NdJ("click",function(){const r=t.CHM(n).$implicit;return t.oxw().goAnother(r)}),t.YNc(1,ot,2,3,"div",16),t.YNc(2,rt,2,3,"div",16),t.TgZ(3,"div",19),t._uU(4),t.ALo(5,"toNumber"),t.qZA(),t.TgZ(6,"div",20),t._uU(7),t.ALo(8,"toNumber"),t.qZA()()}if(2&o){const n=a.$implicit,e=t.oxw();t.xp6(1),t.Q6J("ngIf",null!=e.RegionID),t.xp6(1),t.Q6J("ngIf",null==e.RegionID),t.xp6(2),t.Oqu(t.lcZ(5,4,e.data.sumByIndex(e.groupInfo.sub3rows[n],12))),t.xp6(3),t.Oqu(t.lcZ(8,6,e.data.sumByIndex(e.groupInfo.sub3rows[n],13)))}}let at=(()=>{class o{constructor(n,e,i,r,c,O,P){this.activatedRoute=n,this.data=e,this.api=i,this.config=r,this.router=c,this.translate=O,this.title=P,this.ZoneID=null,this.PlantID=null,this.RegionID=null,this.ProductID=null,this.plandate="",this.ready=!1,this.main_route="activity",this.general_route="zone",this.sub_route_a="city",this.sub_route_b="company",this.groupKeys=[],P.setTitle(this.config.config.appTitle+" - "+this.translate.instant("menu.order_intake")),this.activatedRoute.paramMap.subscribe(C=>{C.get("type")==this.general_route?(this.ZoneID=C.get("id"),this.PlantID=null):(this.PlantID=C.get("id"),this.ZoneID=null);try{C.get("type2")==this.sub_route_a?(this.RegionID=decodeURI(C.get("region_id")),this.ProductID=null):(this.ProductID=decodeURI(C.get("region_id")),this.RegionID=null)}catch(M){this.router.navigate([this.main_route],{replaceUrl:!0})}if(0===this.data.orderIntakeData.length)this.api.getSavedReportData(w.z3.OrderIntake).subscribe(M=>{this.plandate=(0,s.hZ)(M[0][11],_,!0),this.data.orderIntakeData=M;try{this.rollupData()}catch(lt){this.router.navigate([this.main_route],{replaceUrl:!0})}});else{this.plandate=(0,s.hZ)(this.data.orderIntakeData[0][11],_,!0);try{this.rollupData()}catch(M){this.router.navigate([this.main_route],{replaceUrl:!0})}}})}goAnother(n){this.router.navigate(null!=this.RegionID?["../../",this.sub_route_b,encodeURI(n)]:["../../",this.sub_route_a,encodeURI(n)],{relativeTo:this.activatedRoute,replaceUrl:!0})}rollupData(){let n;n=null!=this.ZoneID?this.data.classifyByIndex(this.data.orderIntakeData,0)[this.ZoneID]:this.data.classifyByIndex(this.data.orderIntakeData,1)[this.PlantID];let e=this.data.orderIntakeData.reduce((r,c)=>(r[c[this.config.config.reports.trucks.columns.orderIntake.groupKey]]=r[c[this.config.config.reports.trucks.columns.orderIntake.groupKey]]||[],r[c[this.config.config.reports.trucks.columns.orderIntake.groupKey]].push(c),r),{})[n[0][this.config.config.reports.trucks.columns.orderIntake.groupKey]],i=this.data.orderIntakeData.reduce((r,c)=>(r[c[this.config.config.reports.trucks.columns.orderIntake.plantKey]]=r[c[this.config.config.reports.trucks.columns.orderIntake.plantKey]]||[],r[c[this.config.config.reports.trucks.columns.orderIntake.plantKey]].push(c),r),{})[n[0][this.config.config.reports.trucks.columns.orderIntake.plantKey]];this.groupInfo={zone:null!=this.ZoneID,zoneRows:e,plantRows:i,rowsPlain:n,zoneID:n[0][this.config.config.reports.trucks.columns.orderIntake.groupKey],plantID:n[0][this.config.config.reports.trucks.columns.orderIntake.plantKey],totalActual:this.data.sumByIndex(this.data.orderIntakeData,12),totalPrevious:this.data.sumByIndex(this.data.orderIntakeData,13),zoneTitle:n[0][this.config.config.reports.trucks.columns.orderIntake.groupName[this.config.config.language]],plantTitle:n[0][this.config.config.reports.trucks.columns.orderIntake.plantName[this.config.config.language]],zoneActual:this.data.sumByIndex(e,this.config.config.reports.trucks.columns.orderIntake.actual),zonePrevious:this.data.sumByIndex(e,this.config.config.reports.trucks.columns.orderIntake.previous),plantActual:this.data.sumByIndex(i,this.config.config.reports.trucks.columns.orderIntake.actual),plantPrevious:this.data.sumByIndex(i,this.config.config.reports.trucks.columns.orderIntake.previous)},this.subRows=null!=this.RegionID?this.data.classifyByIndex(n,this.config.config.reports.trucks.columns.orderIntake.region[this.config.config.language])[this.RegionID]:this.data.classifyByIndex(n,this.config.config.reports.trucks.columns.orderIntake.product[this.config.config.language])[this.ProductID],this.title.setTitle(this.config.config.appTitle+" - "+this.translate.instant("menu.order_intake")+" - "+(null!=this.ZoneID?this.groupInfo.zoneTitle:this.groupInfo.plantTitle)+" - "+(null!=this.RegionID?this.subRows[0][this.config.config.reports.trucks.columns.orderIntake.region[this.config.config.language]]:this.subRows[0][this.config.config.reports.trucks.columns.orderIntake.product[this.config.config.language]])),this.groupInfo.thisActual=this.data.sumByIndex(this.subRows,this.config.config.reports.trucks.columns.orderIntake.actual),this.groupInfo.thisPrevious=this.data.sumByIndex(this.subRows,this.config.config.reports.trucks.columns.orderIntake.previous),this.groupInfo.progress1=this.percent(this.groupInfo.thisActual,this.data.sumByIndex(n,this.config.config.reports.trucks.columns.orderIntake.actual)),this.groupInfo.progress2=this.percent(this.groupInfo.thisPrevious,this.data.sumByIndex(n,this.config.config.reports.trucks.columns.orderIntake.previous)),this.groupInfo.sub3rows=this.data.classifyByIndex(this.subRows,null!=this.RegionID?this.config.config.reports.trucks.columns.orderIntake.product[this.config.config.language]:this.config.config.reports.trucks.columns.orderIntake.region[this.config.config.language]),this.groupKeys=Object.keys(this.groupInfo.sub3rows),this.groupInfo=Object.assign({},this.groupInfo),setTimeout(()=>this.ready=!0)}percent(n,e){return parseInt((100*n/e).toFixed(0),10)}returnToMain(){this.router.navigate(["/"],{relativeTo:this.activatedRoute,replaceUrl:!0})}return(){this.router.navigate(["../../"],{relativeTo:this.activatedRoute,replaceUrl:!0})}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(d.gz),t.Y36(f.D),t.Y36(k.s),t.Y36(x.E),t.Y36(d.F0),t.Y36(p.sK),t.Y36(h.Dx))},o.\u0275cmp=t.Xpm({type:o,selectors:[["order-intake-sub-lvl3"]],hostBindings:function(n,e){1&n&&t.NdJ("swiperight",function(r){return e.data.goFrom("order_intake",r)})("swipeleft",function(r){return e.data.goFrom("order_intake",r)})},decls:12,vars:5,consts:[[1,"overview"],[1,"data-header"],[1,"empty"],[1,"report-date"],[1,"glyph"],[1,"total-headers"],[4,"ngIf"],[3,"actualValue","previousValue","actual","previous",4,"ngIf"],["class","lvl3-row",3,"click",4,"ngFor","ngForOf"],[1,"header-row","total"],[1,"title"],[1,"actual"],[1,"previous"],[1,"header-row","arrow","sub2",3,"click"],["matTooltipClass","after","matTooltipPosition","after",3,"matTooltip"],[1,"header-row","arrow","sub3",3,"click"],["class","title",4,"ngIf"],[3,"actualValue","previousValue","actual","previous"],[1,"lvl3-row",3,"click"],[1,"actual","cyan"],[1,"previous","orange"]],template:function(n,e){1&n&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2),t.TgZ(3,"div",3),t._uU(4),t.qZA(),t.TgZ(5,"div",4),t._uU(6,"\xd8"),t.qZA()(),t.TgZ(7,"div",5),t.YNc(8,X,30,24,"ng-container",6),t.YNc(9,nt,30,25,"ng-container",6),t.qZA(),t.YNc(10,et,1,4,"dip-circular-meters",7),t.YNc(11,it,9,8,"div",8),t.qZA()),2&n&&(t.xp6(4),t.Oqu(e.plandate),t.xp6(4),t.Q6J("ngIf",null!=e.ZoneID&&e.groupInfo),t.xp6(1),t.Q6J("ngIf",null!=e.PlantID&&e.groupInfo),t.xp6(1),t.Q6J("ngIf",e.ready&&e.groupInfo),t.xp6(1),t.Q6J("ngForOf",e.groupKeys))},directives:[g.O5,y.gM,z.C,g.sg],pipes:[v.$,p.X$],styles:['[_nghost-%COMP%]{display:block;width:100%;left:0;touch-action:pan-y!important}.overview[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;width:100%}.overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]{display:flex;flex:1 100%;height:30px;line-height:30px;position:relative;padding:0 30px 0 15px;box-sizing:border-box;background-color:#20202966}@media (min-width: 800px){.overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]{margin-top:20px}}@media (min-width: 800px){.overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]{padding-right:40px}}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]{background-color:#0d0d0d}.overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{flex:1 70%;padding-left:5px;position:relative}.overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]   .report-date[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{flex:1 15%;text-align:right;font-size:15px;letter-spacing:1px}.overview[_ngcontent-%COMP%]   .total-headers[_ngcontent-%COMP%]{flex:1 100%}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{display:flex;flex:1 100%;padding:12px 40px}@media (max-width: 800px){.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}.overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]{background-color:#34344580}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{background-color:#1a1a1a;border-bottom:2px solid #0d0d0d}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 70%;position:relative}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]:last-of-type{background-color:#111!important}.overview[_ngcontent-%COMP%]   .header-row.arrow[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:after{transition:left .2s ease-in-out;content:"";position:absolute;height:12px;width:12px;top:0;bottom:0;left:-2px;transform:rotate(180deg);margin:auto;display:block;background-image:url(assets/arrow.svg);background-size:contain;background-repeat:no-repeat}.overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]{cursor:pointer}.overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]{background-color:#18182099}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]{background-color:initial}.overview[_ngcontent-%COMP%]   .header-row.sub2[_ngcontent-%COMP%]{background-color:#20202966}.overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row.sub2[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row.sub3[_ngcontent-%COMP%]{cursor:pointer}.overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row.sub2[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row.sub3[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-left:25px}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{flex:1 15%;text-align:right;font-size:15px;font-weight:700}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#28e8ff}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#f8b03b}.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{flex:1 100%;padding:12px 40px;display:flex;background-color:#34344580}@media (max-width: 800px){.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 100%}@media (min-width: 800px){.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{letter-spacing:1px}}.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]{flex:1 100%;padding:12px 40px;display:flex;cursor:pointer}@media (max-width: 800px){.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:nth-child(even){background-color:#20202966}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:nth-child(even){background-color:#0d0d0d}.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:nth-child(even):hover{background-color:#ffffff05}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:nth-child(even):hover{background-color:#121212!important}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:nth-child(even):hover{background-color:#0000000d!important}.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:nth-child(odd){background-color:#18182099}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:nth-child(odd){background-color:#111}.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:nth-child(odd):hover{background-color:#ffffff05}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:nth-child(odd):hover{background-color:#161616!important}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:nth-child(odd):hover{background-color:#0000000d!important}.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 70%;padding-left:0;position:relative;transition:padding-left .15s ease-in-out}.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{flex:1 15%;text-align:right}body[theme=light]   [_nghost-%COMP%]{background-color:#fff}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]{background-color:#fff}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.sub2[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.sub3[_ngcontent-%COMP%]{background-color:#e6e6e6;border-bottom:2px solid white}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.sub2[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.sub3[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#333;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.sub2[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.sub3[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#17687f}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.sub2[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.sub3[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#e59123}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]{background-color:#e6e6e6}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#333;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#17687f}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#e59123}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{background-color:#e6e6e6}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#666;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #E6E6E6}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#333!important;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#0d0d0d!important;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#0d0d0d!important;font-weight:700}']}),o})();var ct=l(30676);const gt=[{path:"",component:V,children:[{path:"",component:K,data:{level:1}},{path:":type/:id",component:Q,data:{level:2}},{path:":type/:id/:type2/:region_id",component:at,data:{level:3}}]}];let st=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[g.ez,d.Bz.forChild(gt),ct.m]]}),o})()},64066:(Z,m,l)=>{l.d(m,{$:()=>_,K:()=>w});var g=l(29590),f=l(44498),k=l(3184);class _{transform(t,d=!1,h=!0){return w(t,d,h,this.language)}}function w(s,t=!1,d=!0,h="en"){if(isNaN(s))return"-";let p;return 0==(s=Math.round(s))?"0":(p=s>0?t?"+ "+parseInt(Math.abs(s).toFixed(0),10).toLocaleString(h):s<0?"- "+parseInt(Math.abs(s).toFixed(0),10).toLocaleString(h):parseInt(Math.abs(s).toFixed(0),10).toLocaleString(h):t||s<0?"- "+parseInt(Math.abs(s).toFixed(0),10).toLocaleString(h):parseInt(Math.abs(s).toFixed(0),10).toLocaleString(h),d?p:p.replace(/[,.]/g,""))}_.\u0275fac=function(t){return new(t||_)},_.\u0275pipe=k.Yjl({name:"toNumber",type:_,pure:!0}),function(s,t,d,h){var b,p=arguments.length,v=p<3?t:null===h?h=Object.getOwnPropertyDescriptor(t,d):h;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=Reflect.decorate(s,t,d,h);else for(var I=s.length-1;I>=0;I--)(b=s[I])&&(v=(p<3?b(v):p>3?b(t,d,v):b(t,d))||v);p>3&&v&&Object.defineProperty(t,d,v)}([(0,g.cB)(f.Z.GetLanguage),function(s,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata("design:type",String)}()],_.prototype,"language",void 0)}}]);
//# sourceMappingURL=469.f8402ea0a3c2a9c8.js.map