(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{J0XY:function(t,n,e){"use strict";e.r(n),e.d(n,"OrderIntakeModule",function(){return Q});var o=e("ofXK"),r=e("EnSQ"),i=e("H+bZ"),c=e("r4Kj"),a=e("R0Ic"),g=e("wd/R"),s=e("K1pJ"),l=e("39Ma"),d=e("fXoL"),h=e("tyNb"),p=e("jhN1"),u=e("sYmb"),b=e("NZ8W");function _(t,n){if(1&t&&(d.Xb(0,"div",9),d.Mc(1),d.jc(2,"toNumber"),d.Wb()),2&t){const t=d.ic().$implicit,n=d.ic();d.Fb(1),d.Nc(d.kc(2,1,n._data.sumByIndex(n.rows[t],12)))}}function v(t,n){if(1&t&&(d.Xb(0,"div",9),d.Mc(1),d.jc(2,"toNumber"),d.Wb()),2&t){const t=d.ic().$implicit,n=d.ic();d.Fb(1),d.Nc(d.kc(2,1,n._data.sumByIndex(n.rows[t],13)))}}const M=function(t){return{zero:t}};function P(t,n){if(1&t){const t=d.Yb();d.Xb(0,"div",2),d.ec("click",function(){d.Bc(t);const e=n.$implicit;return d.ic().goZone(e)}),d.Xb(1,"div",3),d.Xb(2,"div",4),d.Xb(3,"div",5),d.Kc(4,_,3,3,"div",6),d.jc(5,"async"),d.Wb(),d.Xb(6,"div",7),d.Kc(7,v,3,3,"div",6),d.jc(8,"async"),d.Wb(),d.Wb(),d.Wb(),d.Xb(9,"div",8),d.Mc(10),d.Wb(),d.Wb()}if(2&t){const t=n.$implicit,e=d.ic();d.Hc("width",e.barsWidth,"%"),d.Fb(3),d.Hc("height",e.zones[t].percentActual,"%"),d.pc("ngClass",d.tc(15,M,!e.ready)),d.Fb(1),d.pc("ngIf",!d.kc(5,11,e._data.mobile$)),d.Fb(2),d.Hc("height",e.zones[t].percentPrevious,"%"),d.pc("ngClass",d.tc(17,M,!e.ready)),d.Fb(1),d.pc("ngIf",!d.kc(8,13,e._data.mobile$)),d.Fb(3),d.Nc(e.zones[t].title)}}let O=(()=>{class t{constructor(t,n,e,o){this._data=t,this.config=n,this.router=e,this.route=o,this.ready=!1,this.rows=[],this.zones={},this.zoneKeys=[],this.maxTotal=0,this.barsWidth=0,window.oi_graphic=this}ngOnChanges(t){this.zoneKeys=[];let n=t.data.currentValue.reduce((t,n)=>(t[n[0]]=t[n[0]]||[],t[n[0]].push(n),t),{});for(var e in n)this.zones[e]={title:n[e][0][this.config.config.reports.trucks.columns.orderIntake.groupName[this.config.config.language]],actual:parseInt(this._data.sumByIndex(n[e],12)),previous:parseInt(this._data.sumByIndex(n[e],13))};this.rows=this._data.classifyByIndex(this._data.orderIntakeData,0);let o=0;for(var e in this.zones)this.zones[e].actual>o&&(o=this.zones[e].actual),this.zones[e].previous>o&&(o=this.zones[e].previous);for(var e in this.maxTotal=o,this.zones){let t=100*this.zones[e].actual/o,n=100*this.zones[e].previous/o;this.zones[e].percentActual=(0==parseInt(t.toString())?1:t).toFixed(0),this.zones[e].percentPrevious=(0==parseInt(n.toString())?1:n).toFixed(0)}this.zoneKeys=Object.keys(this.zones),this.barsWidth=100/Object.keys(this.zones).length,setTimeout(()=>this.ready=!0,300)}goZone(t){this.router.navigate(["zone",t],{relativeTo:this.route,replaceUrl:!0})}}return t.\u0275fac=function(n){return new(n||t)(d.Rb(r.a),d.Rb(c.a),d.Rb(h.d),d.Rb(h.a))},t.\u0275cmp=d.Lb({type:t,selectors:[["order-intake-graphic"]],inputs:{data:"data"},features:[d.Db],decls:2,vars:2,consts:[[1,"wrapper"],["class","zone",3,"width","click",4,"ngFor","ngForOf"],[1,"zone",3,"click"],[1,"bars"],[2,"position","relative","height","100%"],[1,"actual",3,"ngClass"],["class","value",4,"ngIf"],[1,"previous",3,"ngClass"],[1,"title"],[1,"value"]],template:function(t,n){1&t&&(d.Xb(0,"div",0),d.Kc(1,P,11,19,"div",1),d.Wb()),2&t&&(d.pc("@list",n.zoneKeys.length),d.Fb(1),d.pc("ngForOf",n.zoneKeys))},directives:[o.l,o.k,o.m],pipes:[o.b,b.a],styles:["[_nghost-%COMP%]{display:block;width:100%}.wrapper[_ngcontent-%COMP%], .zone[_ngcontent-%COMP%], [_nghost-%COMP%]{height:100%}.zone[_ngcontent-%COMP%]{display:inline-block;position:relative;cursor:pointer;transition:top .15s ease-in-out;top:0}.zone[_ngcontent-%COMP%]:hover{top:-10px}.zone[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;height:30px;bottom:0;left:0;width:100%;line-height:30px;text-align:center}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;margin:auto;height:calc(100% - 40px);width:calc(100% - 20px)}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;border-radius:3px;width:calc(50% - 2px);transition:height .7s ease-in-out;background:linear-gradient(0deg,transparent,rgba(0,172,193,.5));border-top:3px solid #00acc1;padding-top:5px}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{position:absolute;top:-25px;text-align:center;width:100%;font-size:16px;font-weight:700;color:rgba(0,172,193,.9)}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]   .actual.zero[_ngcontent-%COMP%]{height:0%!important}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;border-radius:3px;width:calc(50% - 2px);transition:height .7s ease-in-out;background:linear-gradient(0deg,transparent,rgba(242,20,44,.5));border-top:3px solid #f2142c;padding-top:5px}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{position:absolute;top:-25px;text-align:center;width:100%;font-size:16px;font-weight:700;color:rgba(242,20,44,.9)}.zone[_ngcontent-%COMP%]   .bars[_ngcontent-%COMP%]   .previous.zero[_ngcontent-%COMP%]{height:0%!important}[_nghost-%COMP%]  .actual{border-color:#00acc1;position:relative}body[theme=light]   [_nghost-%COMP%]  .actual{border-color:#141651}body[theme=light]   [_nghost-%COMP%]  .previous{border-color:#f2142c}body[theme=light]   [_nghost-%COMP%]  .zone .bars .actual{background:linear-gradient(0deg,transparent,rgba(20,22,81,.6))!important;border-top-color:#141651!important}body[theme=light]   [_nghost-%COMP%]  .zone .bars .actual .value{color:#141651!important}body[theme=light]   [_nghost-%COMP%]  .zone .bars .previous{background:linear-gradient(0deg,transparent,rgba(242,20,44,.6))!important;border-top-color:#f2142c!important}body[theme=light]   [_nghost-%COMP%]  .zone .bars .previous .value{color:#f2142c!important}body[theme=light]   [_nghost-%COMP%]  .zone .title{color:#333;font-weight:700}[_nghost-%COMP%]  .previous{border-color:#f2142c;position:relative}"],data:{animation:[Object(a.o)("list",[Object(a.n)("* => *",[Object(a.i)(":enter",Object(a.m)({opacity:0}),{optional:!0}),Object(a.i)(":enter",Object(a.k)("200ms",Object(a.e)("300ms ease-in",Object(a.m)({opacity:1}))),{optional:!0})])])]}}),t})();var C=e("Qu3c");function f(t,n){if(1&t){const t=d.Yb();d.Xb(0,"div",12),d.ec("click",function(){d.Bc(t);const e=n.$implicit,o=d.ic();return o.goZone(o.rowGroups[e][0][0])}),d.Xb(1,"div",2),d.Mc(2),d.Wb(),d.Xb(3,"div",13),d.Mc(4),d.jc(5,"toNumber"),d.Wb(),d.Xb(6,"div",14),d.Mc(7),d.jc(8,"toNumber"),d.Wb(),d.Wb()}if(2&t){const t=n.$implicit,e=d.ic();d.Fb(2),d.Nc(e.rowGroups[t][0][e.config.config.reports.trucks.columns.orderIntake.groupName[e.config.config.language]]),d.Fb(2),d.Nc(d.kc(5,3,e.data.sumByIndex(e.rowGroups[t],12))),d.Fb(3),d.Nc(d.kc(8,5,e.data.sumByIndex(e.rowGroups[t],13)))}}const m=function(t){return[t]};function w(t,n){if(1&t){const t=d.Yb();d.Xb(0,"div",20),d.ec("click",function(){d.Bc(t);const e=n.$implicit;return d.ic(2).goPlant(e)}),d.Xb(1,"div",17),d.Mc(2),d.Wb(),d.Xb(3,"div",18),d.jc(4,"toNumber"),d.Mc(5),d.jc(6,"toNumber"),d.Wb(),d.Xb(7,"div",14),d.Mc(8),d.jc(9,"toNumber"),d.Wb(),d.Wb()}if(2&t){const t=n.$implicit,e=d.ic(2);d.Fb(2),d.Nc(e.rowPlants[t][0][d.tc(11,m,e.config.config.reports.trucks.columns.orderIntake.plantName[e.config.config.language])]),d.Fb(1),d.pc("matTooltip",d.lc(4,4,e.data.sumByIndex(e.rowPlants[t],12)-e.data.sumByIndex(e.rowPlants[t],13),!0)),d.Fb(2),d.Nc(d.kc(6,7,e.data.sumByIndex(e.rowPlants[t],12))),d.Fb(3),d.Nc(d.kc(9,9,e.data.sumByIndex(e.rowPlants[t],13)))}}function k(t,n){if(1&t){const t=d.Yb();d.Xb(0,"div",15),d.Xb(1,"div",16),d.ec("click",function(){d.Bc(t);const e=n.$implicit;return d.ic().goZone(e)}),d.Xb(2,"div",17),d.Mc(3),d.Wb(),d.Xb(4,"div",18),d.jc(5,"toNumber"),d.Mc(6),d.jc(7,"toNumber"),d.Wb(),d.Xb(8,"div",14),d.Mc(9),d.jc(10,"toNumber"),d.Wb(),d.Wb(),d.Kc(11,w,10,13,"div",19),d.Wb()}if(2&t){const t=n.$implicit,e=d.ic();d.Fb(3),d.Nc(e.rowGroups[t][0][e.config.config.reports.trucks.columns.orderIntake.groupName[e.config.config.language]]),d.Fb(1),d.pc("matTooltip",d.lc(5,5,e.data.sumByIndex(e.rowGroups[t],12)-e.data.sumByIndex(e.rowGroups[t],13),!0)),d.Fb(2),d.Nc(d.kc(7,8,e.data.sumByIndex(e.rowGroups[t],12))),d.Fb(3),d.Nc(d.kc(10,10,e.data.sumByIndex(e.rowGroups[t],13))),d.Fb(2),d.pc("ngForOf",e.getPlantsByZone(t))}}let x=(()=>{class t{constructor(t,n,e,o,r,i){this.data=t,this.api=n,this.config=e,this.router=o,this.title=r,this.translate=i,this.ready=!1,this.main_route="activity",this.general_route="zone",this.second_level_route="region",this.plandate="",window.moment=g,this.title.setTitle(this.config.config.appTitle+" - "+this.translate.instant("menu.order_intake"))}ngOnInit(){0===this.data.orderIntakeData.length?this.api.getSavedReportData(s.b.OrderIntake).subscribe(t=>{this.plandate=Object(l.g)(t[0][11],g,!0),this.data.orderIntakeData=t,window.orderIntake=t,this.rollupData()}):(this.plandate=Object(l.g)(this.data.orderIntakeData[0][11],g,!0),this.rollupData())}rollupData(){this.rowGroups=this.data.classifyByIndex(this.data.orderIntakeData,0),this.rowPlants=this.data.classifyByIndex(this.data.orderIntakeData,1),this.rowKeys=Object.keys(this.rowGroups),setTimeout(()=>this.ready=!0)}getPlantsByZone(t){return Object.keys(this.rowGroups[t].reduce((t,n)=>(t[n[1]]=t[n[1]]||[],t[n[1]].push(n),t),{}))}goZone(t){this.data.lastTap={type:this.general_route,key:t},this.router.navigate([this.main_route,this.general_route,t],{replaceUrl:!0,queryParamsHandling:"merge"})}goPlant(t){this.data.lastTap={type:this.second_level_route,key:t},this.router.navigate([this.main_route,this.second_level_route,t],{replaceUrl:!0,queryParamsHandling:"merge"})}recoverLvl2(){null!=this.data.lastTap&&this.router.navigate(this.data.lastTap.type==this.second_level_route?[this.main_route,this.second_level_route,this.data.lastTap.key]:[this.main_route,this.general_route,this.data.lastTap.key],{replaceUrl:!0,queryParamsHandling:"merge"})}}return t.\u0275fac=function(n){return new(n||t)(d.Rb(r.a),d.Rb(i.a),d.Rb(c.a),d.Rb(h.d),d.Rb(p.f),d.Rb(u.d))},t.\u0275cmp=d.Lb({type:t,selectors:[["order-intake-main"]],hostBindings:function(t,n){1&t&&d.ec("swiperight",function(t){return n.data.goFrom("order_intake",t)})("swipeleft",function(t){return n.data.goFrom("order_intake",t)})},decls:14,vars:5,consts:[[1,"report-header"],[1,"data-header"],[1,"empty"],[1,"report-date"],[1,"glyph"],[1,"overview"],[1,"graphic"],[3,"data"],[1,"simple"],["class","overview-group",3,"click",4,"ngFor","ngForOf"],[1,"wrapper"],["class","zone",4,"ngFor","ngForOf"],[1,"overview-group",3,"click"],[1,"actual"],[1,"previous"],[1,"zone"],[1,"zone-header",3,"click"],[1,"title"],["matTooltipPosition","after","matTooltipClass","after",1,"actual",3,"matTooltip"],["class","plant",3,"click",4,"ngFor","ngForOf"],[1,"plant",3,"click"]],template:function(t,n){1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Sb(2,"div",2),d.Xb(3,"div",3),d.Mc(4),d.Wb(),d.Xb(5,"div",4),d.Mc(6,"\xd8"),d.Wb(),d.Wb(),d.Xb(7,"div",5),d.Xb(8,"div",6),d.Sb(9,"order-intake-graphic",7),d.Wb(),d.Xb(10,"div",8),d.Kc(11,f,9,7,"div",9),d.Wb(),d.Wb(),d.Wb(),d.Xb(12,"div",10),d.Kc(13,k,12,12,"div",11),d.Wb()),2&t&&(d.Fb(4),d.Nc(n.plandate),d.Fb(5),d.pc("data",n.data.orderIntakeData),d.Fb(2),d.pc("ngForOf",n.rowKeys),d.Fb(1),d.pc("@list",null==n.rowKeys?null:n.rowKeys.length),d.Fb(1),d.pc("ngForOf",n.rowKeys))},directives:[O,o.l,C.a],pipes:[b.a],styles:['[_nghost-%COMP%]{display:block;left:0}.data-header[_ngcontent-%COMP%]{display:flex;width:100%;height:30px;line-height:30px;position:relative;padding:0 20px 0 15px;box-sizing:border-box}@media (min-width:800px){.data-header[_ngcontent-%COMP%]{margin-bottom:-20px;padding-right:40px}}.data-header[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{flex:1 70%;padding-left:5px;position:relative}.data-header[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%], .data-header[_ngcontent-%COMP%]   .report-date[_ngcontent-%COMP%]{flex:1 5%;text-align:right;font-size:15px;letter-spacing:1px}body[theme=new-dark]   [_nghost-%COMP%]   .report-header[_ngcontent-%COMP%]{background-color:#031e32}@media (min-width:800px){.report-header[_ngcontent-%COMP%]{padding-top:20px}}body[theme=light]   [_nghost-%COMP%]   .report-header[_ngcontent-%COMP%]{background-color:transparent}.overview[_ngcontent-%COMP%]{display:flex;width:100%;max-height:0;overflow:hidden;transition:all .6s ease-in-out;background:linear-gradient(180deg,hsla(0,0%,100%,0),rgba(69,52,66,.5))}@media (min-width:400px) and (max-width:800px) and (orientation:landscape){.overview[_ngcontent-%COMP%]{flex-wrap:wrap}}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]{background:initial}@media screen and (min-width:400px) and (orientation:landscape){.overview[_ngcontent-%COMP%]{max-height:1000px;min-height:243px;overflow:auto;border-bottom:3px solid rgba(0,0,0,.1)}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]{border-bottom:0}}@media (min-width:800px){.overview[_ngcontent-%COMP%]{max-height:1000px;min-height:243px;overflow:auto;border-bottom:3px solid rgba(0,0,0,.1)}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]{border-bottom:0}}.overview[_ngcontent-%COMP%]   .graphic[_ngcontent-%COMP%]{flex:1 60%;max-width:60%;padding:30px 30px 15px}@media (min-width:400px) and (max-width:959.98px) and (orientation:landscape){.overview[_ngcontent-%COMP%]   .graphic[_ngcontent-%COMP%]{flex:1 50%;max-width:50%;height:260px;border-bottom:0;padding-bottom:50px;padding-top:10px}}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]{flex:1 40%;max-width:40%;border-left:3px solid rgba(0,0,0,.35);padding:30px 40px 30px 30px}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]{border-left:0}@media (min-width:400px) and (max-width:959.98px) and (orientation:landscape){.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]{flex:1 50%;max-width:50%;border-left-width:0}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .headers[_ngcontent-%COMP%]{padding-right:0!important}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{flex:0 0 95px!important}}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .overview-group[_ngcontent-%COMP%]{display:flex;width:100%;line-height:40px;padding:0 0 0 15px;box-sizing:border-box;transition:background .1s ease-in-out;border-radius:5px;cursor:pointer}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .overview-group[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .overview-group[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,100%,.05)}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .overview-group[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{cursor:pointer}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .overview-group[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#28e8ff;font-size:16px;font-weight:700;text-align:right}.overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .overview-group[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#f2142c;font-size:16px;font-weight:700;text-align:right}body[theme=light][_ngcontent-%COMP%]   .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]  .overview .simple .overview-group .actual{color:#000!important}body[theme=light]   [_nghost-%COMP%]{background-color:#fff}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]{background-color:#e6e6e6}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#9a0315;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#141651!important}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#f2142c!important}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #e6e6e6}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#333!important;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#0d0d0d!important;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]{background:linear-gradient(180deg,#fff,#e6e6e6);border-bottom-color:#fff}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]{border-left-color:transparent}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#141651!important}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .simple[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#f2142c!important}.zone[_ngcontent-%COMP%]{display:block;position:relative}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]:not(:first-child)   .zone-header[_ngcontent-%COMP%]{border-top-width:0}.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]{display:flex;padding:12px 40px;align-items:center;position:relative;border-bottom:1px solid transparent;background-color:rgba(69,52,66,.5);cursor:pointer}@media (max-width:800px){.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]{border-top-color:#fff}.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]:hover{border-bottom-color:#f2142c!important}body[theme=new-dark]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]{background-color:#04243c}.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 70%;text-transform:uppercase}@media (min-width:800px){.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:17px;line-height:25px;letter-spacing:1px}}.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{flex:1 15%;text-align:right;font-size:16px;font-weight:700}@media (min-width:800px){.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{flex:0 0 150px}}.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#28e8ff}.zone[_ngcontent-%COMP%]   .zone-header[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#f2142c}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]{display:flex;padding:12px 40px;position:relative;cursor:pointer;border-bottom:1px solid transparent}@media (max-width:800px){.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:hover{border-bottom-color:#f2142c}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:hover   .title[_ngcontent-%COMP%]{padding-left:30px;box-sizing:border-box}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:hover   .title[_ngcontent-%COMP%]:after{left:10px}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:nth-child(2n){background-color:rgba(40,32,41,.4)}body[theme=new-dark]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:nth-child(2n){background-color:#021624}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:nth-child(2n):hover{background-color:hsla(0,0%,100%,.02)}body[theme=new-dark]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:nth-child(2n):hover{background-color:#031b2e!important}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:nth-child(2n):hover{background-color:rgba(0,0,0,.05)!important}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:nth-child(odd){background-color:rgba(32,24,31,.6)}body[theme=new-dark]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:nth-child(odd){background-color:#000e1a}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:nth-child(odd):hover{background-color:hsla(0,0%,100%,.02)}body[theme=new-dark]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:nth-child(odd):hover{background-color:#001324!important}body[theme=light]   [_nghost-%COMP%]   .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]:nth-child(odd):hover{background-color:rgba(0,0,0,.05)!important}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{transition:padding-left .15s ease-in-out;flex:1 70%;padding-left:20px;position:relative}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:after{transition:left .15s ease-in-out;content:"";position:absolute;height:12px;width:12px;top:0;bottom:0;left:0;margin:auto;display:block;background-image:url(assets/arrow.svg);background-size:contain;background-repeat:no-repeat}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#28e8ff}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#f2142c}.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{flex:1 15%;text-align:right;font-size:15px}@media (min-width:800px){.zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .zone[_ngcontent-%COMP%]   .plant[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{flex:0 0 150px}}'],data:{animation:[Object(a.o)("list",[Object(a.n)("* => *",[Object(a.i)(".zone:enter",Object(a.m)({opacity:0}),{optional:!0}),Object(a.i)(".zone:enter",Object(a.k)("200ms",Object(a.e)("300ms ease-in",Object(a.m)({opacity:1}))),{optional:!0})])])]}}),t})();var y=e("buvp");function I(t,n){if(1&t){const t=d.Yb();d.Vb(0),d.Xb(1,"div",11),d.Xb(2,"div",9),d.Mc(3,"TOTAL"),d.Wb(),d.Xb(4,"div",12),d.Mc(5),d.jc(6,"toNumber"),d.Wb(),d.Xb(7,"div",13),d.Mc(8),d.jc(9,"toNumber"),d.Wb(),d.Wb(),d.Xb(10,"div",14),d.ec("click",function(){return d.Bc(t),d.ic().return()}),d.Xb(11,"div",9),d.Xb(12,"span",15),d.jc(13,"translate"),d.Mc(14),d.Wb(),d.Wb(),d.Xb(15,"div",12),d.Mc(16),d.jc(17,"toNumber"),d.Wb(),d.Xb(18,"div",13),d.Mc(19),d.jc(20,"toNumber"),d.Wb(),d.Wb(),d.Ub()}if(2&t){const t=d.ic();d.Fb(5),d.Nc(d.kc(6,6,t.groupInfo.totalActual)),d.Fb(3),d.Nc(d.kc(9,8,t.groupInfo.totalPrevious)),d.Fb(4),d.qc("matTooltip",d.kc(13,10,"return.main")),d.Fb(2),d.Nc(t.groupInfo.zoneRows[0][t.config.config.reports.trucks.columns.orderIntake.groupName[t.config.config.language]]),d.Fb(2),d.Nc(d.kc(17,12,t.groupInfo.zoneActual)),d.Fb(3),d.Nc(d.kc(20,14,t.groupInfo.zonePrevious))}}function z(t,n){if(1&t){const t=d.Yb();d.Vb(0),d.Xb(1,"div",11),d.Xb(2,"div",9),d.Mc(3),d.Wb(),d.Xb(4,"div",12),d.Mc(5),d.jc(6,"toNumber"),d.Wb(),d.Xb(7,"div",13),d.Mc(8),d.jc(9,"toNumber"),d.Wb(),d.Wb(),d.Xb(10,"div",16),d.ec("click",function(){return d.Bc(t),d.ic().return()}),d.Xb(11,"div",9),d.Xb(12,"span",15),d.jc(13,"translate"),d.Mc(14),d.Wb(),d.Wb(),d.Xb(15,"div",12),d.Mc(16),d.jc(17,"toNumber"),d.Wb(),d.Xb(18,"div",13),d.Mc(19),d.jc(20,"toNumber"),d.Wb(),d.Wb(),d.Ub()}if(2&t){const t=d.ic();d.Fb(3),d.Nc(t.groupInfo.zoneRows[0][t.config.config.reports.trucks.columns.orderIntake.groupName[t.config.config.language]]),d.Fb(2),d.Nc(d.kc(6,7,t.groupInfo.zoneActual)),d.Fb(3),d.Nc(d.kc(9,9,t.groupInfo.zonePrevious)),d.Fb(4),d.qc("matTooltip",d.kc(13,11,"return.main")),d.Fb(2),d.Nc(t.groupInfo.plantRows[0][t.config.config.reports.trucks.columns.orderIntake.plantName[t.config.config.language]]),d.Fb(2),d.Nc(d.kc(17,13,t.groupInfo.plantActual)),d.Fb(3),d.Nc(d.kc(20,15,t.groupInfo.plantPrevious))}}function F(t,n){if(1&t&&d.Sb(0,"dip-circular-meters",17),2&t){const t=d.ic();d.pc("actualValue",t.groupInfo.progressValue1)("previousValue",t.groupInfo.progressValue2)("actual",t.groupInfo.progress1||0)("previous",t.groupInfo.progress2||0)}}const W=function(t){return[t]};function X(t,n){if(1&t){const t=d.Yb();d.Xb(0,"div",18),d.ec("click",function(){d.Bc(t);const e=n.$implicit;return d.ic().goProduct(e)}),d.Xb(1,"div",9),d.Mc(2),d.Wb(),d.Xb(3,"div",19),d.jc(4,"toNumber"),d.Mc(5),d.jc(6,"toNumber"),d.Wb(),d.Xb(7,"div",20),d.Mc(8),d.jc(9,"toNumber"),d.Wb(),d.Wb()}if(2&t){const t=n.$implicit,e=d.ic();d.Fb(2),d.Nc(e.groupInfo.regions[t][0][d.tc(11,W,e.config.config.reports.trucks.columns.orderIntake.region[e.config.config.language])]),d.Fb(1),d.pc("matTooltip",d.lc(4,4,e.data.sumByIndex(e.groupInfo.regions[t],12)-e.data.sumByIndex(e.groupInfo.regions[t],13),!0)),d.Fb(2),d.Nc(d.kc(6,7,e.data.sumByIndex(e.groupInfo.regions[t],12))),d.Fb(3),d.Nc(d.kc(9,9,e.data.sumByIndex(e.groupInfo.regions[t],13)))}}function N(t,n){if(1&t){const t=d.Yb();d.Xb(0,"div",18),d.ec("click",function(){d.Bc(t);const e=n.$implicit;return d.ic().goRegion(e)}),d.Xb(1,"div",9),d.Mc(2),d.Wb(),d.Xb(3,"div",19),d.jc(4,"toNumber"),d.Mc(5),d.jc(6,"toNumber"),d.Wb(),d.Xb(7,"div",20),d.Mc(8),d.jc(9,"toNumber"),d.Wb(),d.Wb()}if(2&t){const t=n.$implicit,e=d.ic();d.Fb(2),d.Nc(e.groupInfo.products[t][0][d.tc(11,W,e.config.config.reports.trucks.columns.orderIntake.product[e.config.config.language])]),d.Fb(1),d.pc("matTooltip",d.lc(4,4,e.data.sumByIndex(e.groupInfo.products[t],12)-e.data.sumByIndex(e.groupInfo.products[t],13),!0)),d.Fb(2),d.Nc(d.kc(6,7,e.data.sumByIndex(e.groupInfo.products[t],12))),d.Fb(3),d.Nc(d.kc(9,9,e.data.sumByIndex(e.groupInfo.products[t],13)))}}let R=(()=>{class t{constructor(t,n,e,o,r,i,c){this.activatedRoute=t,this.data=n,this.api=e,this.config=o,this.router=r,this.translate=i,this.title=c,this.ZoneID=null,this.PlantID=null,this.plandate="",this.ready=!1,this.general_route="zone",this.sub_route_a="city",this.sub_route_b="company",c.setTitle(this.config.config.appTitle+" - "+this.translate.instant("menu.order_intake")),this.activatedRoute.params.subscribe(t=>{if(t.type==this.general_route?this.ZoneID=t.id:this.PlantID=t.id,0===this.data.orderIntakeData.length)this.api.getSavedReportData(s.b.OrderIntake).subscribe(t=>{this.plandate=Object(l.g)(t[0][11],g,!0),this.data.orderIntakeData=t;try{this.rollupData()}catch(n){this.router.navigate(["order-intake"],{replaceUrl:!0})}});else{this.plandate=Object(l.g)(this.data.orderIntakeData[0][11],g,!0);try{this.rollupData()}catch(n){this.router.navigate(["order-intake"],{replaceUrl:!0})}}})}rollupData(){let t;t=null!=this.ZoneID?this.data.classifyByIndex(this.data.orderIntakeData,0)[this.ZoneID]:this.data.classifyByIndex(this.data.orderIntakeData,1)[this.PlantID];let n=this.data.orderIntakeData.reduce((t,n)=>(t[n[this.config.config.reports.trucks.columns.orderIntake.groupKey]]=t[n[this.config.config.reports.trucks.columns.orderIntake.groupKey]]||[],t[n[this.config.config.reports.trucks.columns.orderIntake.groupKey]].push(n),t),{})[t[0][this.config.config.reports.trucks.columns.orderIntake.groupKey]],e=this.data.orderIntakeData.reduce((t,n)=>(t[n[this.config.config.reports.trucks.columns.orderIntake.plantKey]]=t[n[this.config.config.reports.trucks.columns.orderIntake.plantKey]]||[],t[n[this.config.config.reports.trucks.columns.orderIntake.plantKey]].push(n),t),{})[t[0][this.config.config.reports.trucks.columns.orderIntake.plantKey]];this.groupInfo={zone:null!=this.ZoneID,zoneRows:n,plantRows:e,rowsPlain:t,zoneID:t[0][this.config.config.reports.trucks.columns.orderIntake.groupKey],plantID:t[0][this.config.config.reports.trucks.columns.orderIntake.plantKey],totalActual:this.data.sumByIndex(this.data.orderIntakeData,12),totalPrevious:this.data.sumByIndex(this.data.orderIntakeData,13),zoneTitle:t[0][this.config.config.reports.trucks.columns.orderIntake.groupName[this.config.config.language]],plantTitle:t[0][this.config.config.reports.trucks.columns.orderIntake.plantName[this.config.config.language]],zoneActual:this.data.sumByIndex(n,this.config.config.reports.trucks.columns.orderIntake.actual),zonePrevious:this.data.sumByIndex(n,this.config.config.reports.trucks.columns.orderIntake.previous),plantActual:this.data.sumByIndex(e,this.config.config.reports.trucks.columns.orderIntake.actual),plantPrevious:this.data.sumByIndex(e,this.config.config.reports.trucks.columns.orderIntake.previous),regions:this.data.classifyByIndex(t,this.config.config.reports.trucks.columns.orderIntake.region[this.config.config.language]),products:this.data.classifyByIndex(t,this.config.config.reports.trucks.columns.orderIntake.product[this.config.config.language])},this.title.setTitle(this.config.config.appTitle+" - "+this.translate.instant("menu.order_intake")+" - "+(null!=this.ZoneID?this.groupInfo.zoneTitle:this.groupInfo.plantTitle)),this.groupInfo.regionKeys=Object.keys(this.groupInfo.regions),this.groupInfo.productKeys=Object.keys(this.groupInfo.products),this.groupInfo.progressValue1=null!=this.ZoneID?this.groupInfo.zoneActual:this.groupInfo.plantActual,this.groupInfo.progressValue2=null!=this.ZoneID?this.groupInfo.zonePrevious:this.groupInfo.plantPrevious,this.groupInfo.progress1=null!=this.ZoneID?this.percent(this.groupInfo.zoneActual,this.groupInfo.totalActual):this.percent(this.groupInfo.plantActual,this.groupInfo.zoneActual),this.groupInfo.progress2=null!=this.ZoneID?this.percent(this.groupInfo.zonePrevious,this.groupInfo.totalPrevious):this.percent(this.groupInfo.plantPrevious,this.groupInfo.zonePrevious),setTimeout(()=>this.ready=!0)}percent(t,n){return parseInt((100*t/n).toFixed(0))}return(){this.router.navigate(["../../"],{relativeTo:this.activatedRoute})}forward(){this.data.lastTap2&&this.router.navigate(this.data.lastTap2.type==this.sub_route_a?[this.sub_route_a,this.data.lastTap2.key]:[this.sub_route_b,this.data.lastTap2.key],{relativeTo:this.activatedRoute,replaceUrl:!0})}goProduct(t){this.data.lastTap={type:this.sub_route_a,key:encodeURI(t)},this.router.navigate([this.sub_route_a,encodeURI(t)],{relativeTo:this.activatedRoute})}goRegion(t){this.data.lastTap={type:this.sub_route_b,key:encodeURI(t)},this.router.navigate([this.sub_route_b,encodeURI(t)],{relativeTo:this.activatedRoute})}}return t.\u0275fac=function(n){return new(n||t)(d.Rb(h.a),d.Rb(r.a),d.Rb(i.a),d.Rb(c.a),d.Rb(h.d),d.Rb(u.d),d.Rb(p.f))},t.\u0275cmp=d.Lb({type:t,selectors:[["order-intake-sub-lvl2"]],hostBindings:function(t,n){1&t&&d.ec("swiperight",function(t){return n.data.goFrom("order_intake",t)})("swipeleft",function(t){return n.data.goFrom("order_intake",t)})},decls:21,vars:12,consts:[[1,"overview"],[1,"data-header"],[1,"empty"],[1,"report-date"],[1,"glyph"],[1,"total-headers"],[4,"ngIf"],[3,"actualValue","previousValue","actual","previous",4,"ngIf"],[1,"title-header"],[1,"title"],["class","lvl2-row",3,"click",4,"ngFor","ngForOf"],[1,"header-row","total"],[1,"actual"],[1,"previous"],[1,"header-row","arrow","zone",3,"click"],["matTooltipClass","after","matTooltipPosition","after",3,"matTooltip"],[1,"header-row","arrow","plant",3,"click"],[3,"actualValue","previousValue","actual","previous"],[1,"lvl2-row",3,"click"],["matTooltipPosition","after",1,"actual","cyan",3,"matTooltip"],[1,"previous","orange"]],template:function(t,n){1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Sb(2,"div",2),d.Xb(3,"div",3),d.Mc(4),d.Wb(),d.Xb(5,"div",4),d.Mc(6,"\xd8"),d.Wb(),d.Wb(),d.Xb(7,"div",5),d.Kc(8,I,21,16,"ng-container",6),d.Kc(9,z,21,17,"ng-container",6),d.Wb(),d.Kc(10,F,1,4,"dip-circular-meters",7),d.Xb(11,"div",8),d.Xb(12,"div",9),d.Mc(13),d.jc(14,"translate"),d.Wb(),d.Wb(),d.Kc(15,X,10,13,"div",10),d.Xb(16,"div",8),d.Xb(17,"div",9),d.Mc(18),d.jc(19,"translate"),d.Wb(),d.Wb(),d.Kc(20,N,10,13,"div",10),d.Wb()),2&t&&(d.Fb(4),d.Nc(n.plandate),d.Fb(4),d.pc("ngIf",null!=n.ZoneID&&n.groupInfo),d.Fb(1),d.pc("ngIf",null!=n.PlantID&&n.groupInfo),d.Fb(1),d.pc("ngIf",n.ready&&n.groupInfo),d.Fb(3),d.Nc(d.kc(14,8,"cities")),d.Fb(2),d.pc("ngForOf",null==n.groupInfo?null:n.groupInfo.regionKeys),d.Fb(3),d.Nc(d.kc(19,10,"companies")),d.Fb(2),d.pc("ngForOf",null==n.groupInfo?null:n.groupInfo.productKeys))},directives:[o.m,o.l,C.a,y.a],pipes:[u.c,b.a],styles:['[_nghost-%COMP%]{display:block;width:100%;left:0;touch-action:pan-y!important}.overview[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;width:100%}.overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]{display:flex;flex:1 100%;height:30px;line-height:30px;position:relative;padding:0 20px 0 15px;box-sizing:border-box;background-color:rgba(40,32,41,.4)}@media (min-width:800px){.overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]{margin-top:20px;padding-right:40px}}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]{background-color:#021624}.overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{flex:1 70%;padding-left:5px;position:relative}.overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]   .report-date[_ngcontent-%COMP%]{flex:1 15%;text-align:right;font-size:15px;letter-spacing:1px}.overview[_ngcontent-%COMP%]   .total-headers[_ngcontent-%COMP%]{flex:1 100%}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{display:flex;flex:1 100%;padding:12px 40px}@media (max-width:800px){.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 70%;position:relative}.overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]{background-color:rgba(69,52,66,.5)}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{background-color:#04243c;border-bottom:2px solid #021624}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]:last-of-type{background-color:#000e1a!important}.overview[_ngcontent-%COMP%]   .header-row.arrow[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:after{transition:left .2s ease-in-out;content:"";position:absolute;height:12px;width:12px;top:0;bottom:0;left:-2px;transform:rotate(180deg);margin:auto;display:block;background-image:url(assets/arrow.svg);background-size:contain;background-repeat:no-repeat}.overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]{cursor:pointer}.overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]{background-color:rgba(40,32,41,.4);cursor:pointer}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%], body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]{background-color:initial}.overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-left:25px}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{flex:1 15%;text-align:right;font-size:16px;font-weight:700}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#28e8ff}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#f2142c}.overview[_ngcontent-%COMP%]   .meters[_ngcontent-%COMP%]{display:flex;flex:1 100%;height:160px;position:relative;background:linear-gradient(180deg,#000,#303030);border-bottom:3px solid #000}.overview[_ngcontent-%COMP%]   .meters[_ngcontent-%COMP%]   .meter[_ngcontent-%COMP%]{flex:1 50%;height:100%}.overview[_ngcontent-%COMP%]   .meters[_ngcontent-%COMP%]   .meter[_ngcontent-%COMP%]:nth-child(2){border-left:3px solid #000}.overview[_ngcontent-%COMP%]   .meters[_ngcontent-%COMP%]   .meter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:120px;height:120px;margin:20px auto 0;position:relative}.overview[_ngcontent-%COMP%]   .meters[_ngcontent-%COMP%]   .meter[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{position:absolute;height:30px;width:100%;margin:auto;text-align:center;top:0;bottom:0;font-size:27px}.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{flex:1 100%;padding:12px 40px;text-transform:uppercase;display:flex;background-color:rgba(69,52,66,.5)}@media (max-width:800px){.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{background-color:#04243c}.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 100%}@media (min-width:800px){.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:17px;line-height:25px;letter-spacing:1px}}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]{flex:1 100%;padding:12px 40px;display:flex;cursor:pointer;border-bottom:1px solid transparent}@media (max-width:800px){.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:nth-child(2n){background-color:rgba(40,32,41,.4)}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:nth-child(2n){background-color:#021624}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:nth-child(2n):hover{background-color:hsla(0,0%,100%,.02)}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:nth-child(2n):hover{background-color:#031b2e!important}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:nth-child(2n):hover{background-color:rgba(0,0,0,.05)!important}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:nth-child(odd){background-color:rgba(32,24,31,.6)}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:nth-child(odd){background-color:#000e1a}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:nth-child(odd):hover{background-color:hsla(0,0%,100%,.02)}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:nth-child(odd):hover{background-color:#001324!important}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:nth-child(odd):hover{background-color:rgba(0,0,0,.05)!important}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:hover   .title[_ngcontent-%COMP%]{padding-left:30px}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]:hover   .title[_ngcontent-%COMP%]:after{left:15px}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 70%;padding-left:20px;position:relative;transition:padding-left .15s ease-in-out}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:after{transition:left .15s ease-in-out;content:"";position:absolute;height:12px;width:12px;top:0;bottom:0;left:0;margin:auto;display:block;background-image:url(assets/arrow.svg);background-size:contain;background-repeat:no-repeat}.overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{flex:1 15%;text-align:right;font-size:15px}body[theme=light]   [_nghost-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]{background-color:#fff}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]{background-color:#e6e6e6;border-bottom:2px solid #fff}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#333;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#141651}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#f2142c}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{background-color:#e6e6e6}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#9a0315;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #e6e6e6}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#333!important;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl2-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#0d0d0d!important;font-weight:700}']}),t})();var D=e("Hvvo");const j=["o"];let T=(()=>{class t{constructor(t){this.data=t,t.lastTap2=null}getLevel(){return this.data.currentLevel=+this.outlet.activatedRouteData.level,this.outlet.activatedRouteData.level}}return t.\u0275fac=function(n){return new(n||t)(d.Rb(r.a))},t.\u0275cmp=d.Lb({type:t,selectors:[["order-intake-wrapper"]],viewQuery:function(t,n){if(1&t&&d.Gc(j,!0),2&t){let t;d.wc(t=d.fc())&&(n.outlet=t.first)}},hostVars:1,hostBindings:function(t,n){2&t&&d.Jc("@routerTransition",n.getLevel())},decls:2,vars:0,consts:[["o","outlet"]],template:function(t,n){1&t&&d.Sb(0,"router-outlet",null,0)},directives:[h.h],styles:["[_nghost-%COMP%]{position:relative;background-color:rgba(32,32,32,.4)}[_nghost-%COMP%], [_nghost-%COMP%] > *[_ngcontent-%COMP%]{display:block}  order-intake-main,   order-intake-sub-lvl2,   order-intake-sub-lvl3{position:fixed;top:0;bottom:0;height:calc(100% - 32px);padding-top:70px;box-sizing:border-box;width:100%;left:0;overflow-y:auto;transform:translateZ(0);touch-action:pan-y!important}  .mat-form-field-appearance-legacy .mat-form-field-infix{padding:0}  .mat-form-field-appearance-legacy .mat-form-field-underline{display:none}  .mat-select-value-text{color:#c8c8c8}  .mat-select-arrow{color:#c8c8c8!important;opacity:.7}  .mat-select-content{background-color:rgba(49,41,49,.6)}  .mat-option:not(.mat-selected){color:#c8c8c8}  .mat-option.mat-selected{color:#f2142c!important}"],data:{animation:[D.a]}}),t})();function B(t,n){if(1&t&&(d.Xb(0,"div",10),d.Xb(1,"span",14),d.jc(2,"translate"),d.Mc(3),d.jc(4,"translate"),d.Wb(),d.Wb()),2&t){const t=d.ic(2);d.Fb(1),d.qc("matTooltip",d.kc(2,3,"return.second")),d.Fb(2),d.Pc("",d.kc(4,5,"region")," - ",t.subRows[0][t.config.config.reports.trucks.columns.orderIntake.region[t.config.config.language]],"")}}function K(t,n){if(1&t&&(d.Xb(0,"div",10),d.Xb(1,"span",14),d.jc(2,"translate"),d.Mc(3),d.jc(4,"translate"),d.Wb(),d.Wb()),2&t){const t=d.ic(2);d.Fb(1),d.qc("matTooltip",d.kc(2,3,"return.second")),d.Fb(2),d.Pc("",d.kc(4,5,"company")," - ",t.subRows[0][t.config.config.reports.trucks.columns.orderIntake.product[t.config.config.language]],"")}}function A(t,n){if(1&t){const t=d.Yb();d.Vb(0),d.Xb(1,"div",9),d.Xb(2,"div",10),d.Mc(3,"TOTAL"),d.Wb(),d.Xb(4,"div",11),d.Mc(5),d.jc(6,"toNumber"),d.Wb(),d.Xb(7,"div",12),d.Mc(8),d.jc(9,"toNumber"),d.Wb(),d.Wb(),d.Xb(10,"div",13),d.ec("click",function(){return d.Bc(t),d.ic().returnToMain()}),d.Xb(11,"div",10),d.Xb(12,"span",14),d.jc(13,"translate"),d.Mc(14),d.Wb(),d.Wb(),d.Xb(15,"div",11),d.Mc(16),d.jc(17,"toNumber"),d.Wb(),d.Xb(18,"div",12),d.Mc(19),d.jc(20,"toNumber"),d.Wb(),d.Wb(),d.Xb(21,"div",15),d.ec("click",function(){return d.Bc(t),d.ic().return()}),d.Kc(22,B,5,7,"div",16),d.Kc(23,K,5,7,"div",16),d.Xb(24,"div",11),d.Mc(25),d.jc(26,"toNumber"),d.Wb(),d.Xb(27,"div",12),d.Mc(28),d.jc(29,"toNumber"),d.Wb(),d.Wb(),d.Ub()}if(2&t){const t=d.ic();d.Fb(5),d.Nc(d.kc(6,10,t.groupInfo.totalActual)),d.Fb(3),d.Nc(d.kc(9,12,t.groupInfo.totalPrevious)),d.Fb(4),d.qc("matTooltip",d.kc(13,14,"return.main")),d.Fb(2),d.Nc(t.groupInfo.zoneRows[0][t.config.config.reports.trucks.columns.orderIntake.groupName[t.config.config.language]]),d.Fb(2),d.Nc(d.kc(17,16,t.groupInfo.zoneActual)),d.Fb(3),d.Nc(d.kc(20,18,t.groupInfo.zonePrevious)),d.Fb(3),d.pc("ngIf",null!=t.RegionID),d.Fb(1),d.pc("ngIf",null==t.RegionID),d.Fb(2),d.Nc(d.kc(26,20,t.data.sumByIndex(t.subRows,t.config.config.reports.trucks.columns.orderIntake.actual))),d.Fb(3),d.Nc(d.kc(29,22,t.data.sumByIndex(t.subRows,t.config.config.reports.trucks.columns.orderIntake.previous)))}}function Z(t,n){if(1&t&&(d.Xb(0,"div",10),d.Xb(1,"span",14),d.jc(2,"translate"),d.Mc(3),d.jc(4,"translate"),d.Wb(),d.Wb()),2&t){const t=d.ic(2);d.Fb(1),d.qc("matTooltip",d.kc(2,3,"return.second")),d.Fb(2),d.Pc("",d.kc(4,5,"region")," - ",t.subRows[0][t.config.config.reports.trucks.columns.orderIntake.region[t.config.config.language]],"")}}function U(t,n){if(1&t&&(d.Xb(0,"div",10),d.Xb(1,"span",14),d.jc(2,"translate"),d.Mc(3),d.jc(4,"translate"),d.Wb(),d.Wb()),2&t){const t=d.ic(2);d.Fb(1),d.qc("matTooltip",d.kc(2,3,"return.second")),d.Fb(2),d.Pc("",d.kc(4,5,"company")," - ",t.subRows[0][t.config.config.reports.trucks.columns.orderIntake.product[t.config.config.language]],"")}}function V(t,n){if(1&t){const t=d.Yb();d.Vb(0),d.Xb(1,"div",9),d.Xb(2,"div",10),d.Mc(3),d.Wb(),d.Xb(4,"div",11),d.Mc(5),d.jc(6,"toNumber"),d.Wb(),d.Xb(7,"div",12),d.Mc(8),d.jc(9,"toNumber"),d.Wb(),d.Wb(),d.Xb(10,"div",13),d.ec("click",function(){return d.Bc(t),d.ic().returnToMain()}),d.Xb(11,"div",10),d.Xb(12,"span",14),d.jc(13,"translate"),d.Mc(14),d.Wb(),d.Wb(),d.Xb(15,"div",11),d.Mc(16),d.jc(17,"toNumber"),d.Wb(),d.Xb(18,"div",12),d.Mc(19),d.jc(20,"toNumber"),d.Wb(),d.Wb(),d.Xb(21,"div",15),d.ec("click",function(){return d.Bc(t),d.ic().return()}),d.Kc(22,Z,5,7,"div",16),d.Kc(23,U,5,7,"div",16),d.Xb(24,"div",11),d.Mc(25),d.jc(26,"toNumber"),d.Wb(),d.Xb(27,"div",12),d.Mc(28),d.jc(29,"toNumber"),d.Wb(),d.Wb(),d.Ub()}if(2&t){const t=d.ic();d.Fb(3),d.Nc(t.groupInfo.zoneRows[0][t.config.config.reports.trucks.columns.orderIntake.groupName[t.config.config.language]]),d.Fb(2),d.Nc(d.kc(6,11,t.groupInfo.zoneActual)),d.Fb(3),d.Nc(d.kc(9,13,t.groupInfo.zonePrevious)),d.Fb(4),d.qc("matTooltip",d.kc(13,15,"return.main")),d.Fb(2),d.Nc(t.groupInfo.plantRows[0][t.config.config.reports.trucks.columns.orderIntake.plantName[t.config.config.language]]),d.Fb(2),d.Nc(d.kc(17,17,t.groupInfo.plantActual)),d.Fb(3),d.Nc(d.kc(20,19,t.groupInfo.plantPrevious)),d.Fb(3),d.pc("ngIf",null!=t.RegionID),d.Fb(1),d.pc("ngIf",null==t.RegionID),d.Fb(2),d.Nc(d.kc(26,21,t.data.sumByIndex(t.subRows,t.config.config.reports.trucks.columns.orderIntake.actual))),d.Fb(3),d.Nc(d.kc(29,23,t.data.sumByIndex(t.subRows,t.config.config.reports.trucks.columns.orderIntake.previous)))}}function $(t,n){if(1&t&&d.Sb(0,"dip-circular-meters",17),2&t){const t=d.ic();d.pc("actualValue",t.groupInfo.thisActual)("previousValue",t.groupInfo.thisPrevious)("actual",t.groupInfo.progress1||0)("previous",t.groupInfo.progress2||0)}}const G=function(t){return[t]};function S(t,n){if(1&t&&(d.Xb(0,"div",10),d.Mc(1),d.Wb()),2&t){const t=d.ic().$implicit,n=d.ic();d.Fb(1),d.Nc(n.groupInfo.sub3rows[t][0][d.tc(1,G,n.config.config.reports.trucks.columns.orderIntake.product[n.config.config.language])])}}function Y(t,n){if(1&t&&(d.Xb(0,"div",10),d.Mc(1),d.Wb()),2&t){const t=d.ic().$implicit,n=d.ic();d.Fb(1),d.Nc(n.groupInfo.sub3rows[t][0][d.tc(1,G,n.config.config.reports.trucks.columns.orderIntake.region[n.config.config.language])])}}function L(t,n){if(1&t){const t=d.Yb();d.Xb(0,"div",18),d.ec("click",function(){d.Bc(t);const e=n.$implicit;return d.ic().goAnother(e)}),d.Kc(1,S,2,3,"div",16),d.Kc(2,Y,2,3,"div",16),d.Xb(3,"div",19),d.Mc(4),d.jc(5,"toNumber"),d.Wb(),d.Xb(6,"div",20),d.Mc(7),d.jc(8,"toNumber"),d.Wb(),d.Wb()}if(2&t){const t=n.$implicit,e=d.ic();d.Fb(1),d.pc("ngIf",null!=e.RegionID),d.Fb(1),d.pc("ngIf",null==e.RegionID),d.Fb(2),d.Nc(d.kc(5,4,e.data.sumByIndex(e.groupInfo.sub3rows[t],12))),d.Fb(3),d.Nc(d.kc(8,6,e.data.sumByIndex(e.groupInfo.sub3rows[t],13)))}}let q=(()=>{class t{constructor(t,n,e,o,r,i,c){this.activatedRoute=t,this.data=n,this.api=e,this.config=o,this.router=r,this.translate=i,this.title=c,this.ZoneID=null,this.PlantID=null,this.RegionID=null,this.ProductID=null,this.plandate="",this.ready=!1,this.main_route="activity",this.general_route="zone",this.sub_route_a="city",this.sub_route_b="company",this.groupKeys=[],c.setTitle(this.config.config.appTitle+" - "+this.translate.instant("menu.order_intake")),this.activatedRoute.paramMap.subscribe(t=>{t.get("type")==this.general_route?(this.ZoneID=t.get("id"),this.PlantID=null):(this.PlantID=t.get("id"),this.ZoneID=null);try{t.get("type2")==this.sub_route_a?(this.RegionID=decodeURI(t.get("region_id")),this.ProductID=null):(this.ProductID=decodeURI(t.get("region_id")),this.RegionID=null)}catch(n){this.router.navigate([this.main_route],{replaceUrl:!0})}if(0===this.data.orderIntakeData.length)this.api.getSavedReportData(s.b.OrderIntake).subscribe(t=>{this.plandate=Object(l.g)(t[0][11],g,!0),this.data.orderIntakeData=t;try{this.rollupData()}catch(n){this.router.navigate([this.main_route],{replaceUrl:!0})}});else{this.plandate=Object(l.g)(this.data.orderIntakeData[0][11],g,!0);try{this.rollupData()}catch(n){this.router.navigate([this.main_route],{replaceUrl:!0})}}})}goAnother(t){this.router.navigate(null!=this.RegionID?["../../",this.sub_route_b,encodeURI(t)]:["../../",this.sub_route_a,encodeURI(t)],{relativeTo:this.activatedRoute,replaceUrl:!0})}rollupData(){let t;t=null!=this.ZoneID?this.data.classifyByIndex(this.data.orderIntakeData,0)[this.ZoneID]:this.data.classifyByIndex(this.data.orderIntakeData,1)[this.PlantID];let n=this.data.orderIntakeData.reduce((t,n)=>(t[n[this.config.config.reports.trucks.columns.orderIntake.groupKey]]=t[n[this.config.config.reports.trucks.columns.orderIntake.groupKey]]||[],t[n[this.config.config.reports.trucks.columns.orderIntake.groupKey]].push(n),t),{})[t[0][this.config.config.reports.trucks.columns.orderIntake.groupKey]],e=this.data.orderIntakeData.reduce((t,n)=>(t[n[this.config.config.reports.trucks.columns.orderIntake.plantKey]]=t[n[this.config.config.reports.trucks.columns.orderIntake.plantKey]]||[],t[n[this.config.config.reports.trucks.columns.orderIntake.plantKey]].push(n),t),{})[t[0][this.config.config.reports.trucks.columns.orderIntake.plantKey]];this.groupInfo={zone:null!=this.ZoneID,zoneRows:n,plantRows:e,rowsPlain:t,zoneID:t[0][this.config.config.reports.trucks.columns.orderIntake.groupKey],plantID:t[0][this.config.config.reports.trucks.columns.orderIntake.plantKey],totalActual:this.data.sumByIndex(this.data.orderIntakeData,12),totalPrevious:this.data.sumByIndex(this.data.orderIntakeData,13),zoneTitle:t[0][this.config.config.reports.trucks.columns.orderIntake.groupName[this.config.config.language]],plantTitle:t[0][this.config.config.reports.trucks.columns.orderIntake.plantName[this.config.config.language]],zoneActual:this.data.sumByIndex(n,this.config.config.reports.trucks.columns.orderIntake.actual),zonePrevious:this.data.sumByIndex(n,this.config.config.reports.trucks.columns.orderIntake.previous),plantActual:this.data.sumByIndex(e,this.config.config.reports.trucks.columns.orderIntake.actual),plantPrevious:this.data.sumByIndex(e,this.config.config.reports.trucks.columns.orderIntake.previous)},this.subRows=null!=this.RegionID?this.data.classifyByIndex(t,this.config.config.reports.trucks.columns.orderIntake.region[this.config.config.language])[this.RegionID]:this.data.classifyByIndex(t,this.config.config.reports.trucks.columns.orderIntake.product[this.config.config.language])[this.ProductID],this.title.setTitle(this.config.config.appTitle+" - "+this.translate.instant("menu.order_intake")+" - "+(null!=this.ZoneID?this.groupInfo.zoneTitle:this.groupInfo.plantTitle)+" - "+(null!=this.RegionID?this.subRows[0][this.config.config.reports.trucks.columns.orderIntake.region[this.config.config.language]]:this.subRows[0][this.config.config.reports.trucks.columns.orderIntake.product[this.config.config.language]])),this.groupInfo.thisActual=this.data.sumByIndex(this.subRows,this.config.config.reports.trucks.columns.orderIntake.actual),this.groupInfo.thisPrevious=this.data.sumByIndex(this.subRows,this.config.config.reports.trucks.columns.orderIntake.previous),this.groupInfo.progress1=this.percent(this.groupInfo.thisActual,this.data.sumByIndex(t,this.config.config.reports.trucks.columns.orderIntake.actual)),this.groupInfo.progress2=this.percent(this.groupInfo.thisPrevious,this.data.sumByIndex(t,this.config.config.reports.trucks.columns.orderIntake.previous)),this.groupInfo.sub3rows=this.data.classifyByIndex(this.subRows,null!=this.RegionID?this.config.config.reports.trucks.columns.orderIntake.product[this.config.config.language]:this.config.config.reports.trucks.columns.orderIntake.region[this.config.config.language]),this.groupKeys=Object.keys(this.groupInfo.sub3rows),this.groupInfo=Object.assign({},this.groupInfo),setTimeout(()=>this.ready=!0)}percent(t,n){return parseInt((100*t/n).toFixed(0),10)}returnToMain(){this.router.navigate(["/"],{relativeTo:this.activatedRoute,replaceUrl:!0})}return(){this.router.navigate(["../../"],{relativeTo:this.activatedRoute,replaceUrl:!0})}}return t.\u0275fac=function(n){return new(n||t)(d.Rb(h.a),d.Rb(r.a),d.Rb(i.a),d.Rb(c.a),d.Rb(h.d),d.Rb(u.d),d.Rb(p.f))},t.\u0275cmp=d.Lb({type:t,selectors:[["order-intake-sub-lvl3"]],hostBindings:function(t,n){1&t&&d.ec("swiperight",function(t){return n.data.goFrom("order_intake",t)})("swipeleft",function(t){return n.data.goFrom("order_intake",t)})},decls:12,vars:5,consts:[[1,"overview"],[1,"data-header"],[1,"empty"],[1,"report-date"],[1,"glyph"],[1,"total-headers"],[4,"ngIf"],[3,"actualValue","previousValue","actual","previous",4,"ngIf"],["class","lvl3-row",3,"click",4,"ngFor","ngForOf"],[1,"header-row","total"],[1,"title"],[1,"actual"],[1,"previous"],[1,"header-row","arrow","sub2",3,"click"],["matTooltipClass","after","matTooltipPosition","after",3,"matTooltip"],[1,"header-row","arrow","sub3",3,"click"],["class","title",4,"ngIf"],[3,"actualValue","previousValue","actual","previous"],[1,"lvl3-row",3,"click"],[1,"actual","cyan"],[1,"previous","orange"]],template:function(t,n){1&t&&(d.Xb(0,"div",0),d.Xb(1,"div",1),d.Sb(2,"div",2),d.Xb(3,"div",3),d.Mc(4),d.Wb(),d.Xb(5,"div",4),d.Mc(6,"\xd8"),d.Wb(),d.Wb(),d.Xb(7,"div",5),d.Kc(8,A,30,24,"ng-container",6),d.Kc(9,V,30,25,"ng-container",6),d.Wb(),d.Kc(10,$,1,4,"dip-circular-meters",7),d.Kc(11,L,9,8,"div",8),d.Wb()),2&t&&(d.Fb(4),d.Nc(n.plandate),d.Fb(4),d.pc("ngIf",null!=n.ZoneID&&n.groupInfo),d.Fb(1),d.pc("ngIf",null!=n.PlantID&&n.groupInfo),d.Fb(1),d.pc("ngIf",n.ready&&n.groupInfo),d.Fb(1),d.pc("ngForOf",n.groupKeys))},directives:[o.m,o.l,C.a,y.a],pipes:[b.a,u.c],styles:['[_nghost-%COMP%]{display:block;width:100%;left:0;touch-action:pan-y!important}.overview[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;width:100%}.overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]{display:flex;flex:1 100%;height:30px;line-height:30px;position:relative;padding:0 30px 0 15px;box-sizing:border-box;background-color:rgba(40,32,41,.4)}@media (min-width:800px){.overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]{margin-top:20px;padding-right:40px}}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]{background-color:#021624}.overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{flex:1 70%;padding-left:5px;position:relative}.overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]   .report-date[_ngcontent-%COMP%]{flex:1 15%;text-align:right;font-size:15px;letter-spacing:1px}.overview[_ngcontent-%COMP%]   .total-headers[_ngcontent-%COMP%]{flex:1 100%}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{display:flex;flex:1 100%;padding:12px 40px}@media (max-width:800px){.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}.overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]{background-color:rgba(69,52,66,.5)}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{background-color:#04243c;border-bottom:2px solid #021624}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 70%;position:relative}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]:last-of-type{background-color:#000e1a!important}.overview[_ngcontent-%COMP%]   .header-row.arrow[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:after{transition:left .2s ease-in-out;content:"";position:absolute;height:12px;width:12px;top:0;bottom:0;left:-2px;transform:rotate(180deg);margin:auto;display:block;background-image:url(assets/arrow.svg);background-size:contain;background-repeat:no-repeat}.overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]{cursor:pointer}.overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]{background-color:rgba(32,24,31,.6)}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]{background-color:initial}.overview[_ngcontent-%COMP%]   .header-row.sub2[_ngcontent-%COMP%]{background-color:rgba(40,32,41,.4)}.overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row.sub2[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row.sub3[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]{cursor:pointer}.overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row.sub2[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row.sub3[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row.zone[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-left:25px}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{flex:1 15%;text-align:right;font-size:15px;font-weight:700}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#28e8ff}.overview[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#f2142c}.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{flex:1 100%;padding:12px 40px;display:flex;background-color:rgba(69,52,66,.5)}@media (max-width:800px){.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 100%}@media (min-width:800px){.overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{letter-spacing:1px}}.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]{flex:1 100%;padding:12px 40px;display:flex;cursor:pointer}@media (max-width:800px){.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]{padding:12px 20px 12px 15px}}.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:nth-child(2n){background-color:rgba(40,32,41,.4)}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:nth-child(2n){background-color:#021624}.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:nth-child(2n):hover{background-color:hsla(0,0%,100%,.02)}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:nth-child(2n):hover{background-color:#031b2e!important}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:nth-child(2n):hover{background-color:rgba(0,0,0,.05)!important}.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:nth-child(odd){background-color:rgba(32,24,31,.6)}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:nth-child(odd){background-color:#000e1a}.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:nth-child(odd):hover{background-color:hsla(0,0%,100%,.02)}body[theme=new-dark]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:nth-child(odd):hover{background-color:#001324!important}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]:nth-child(odd):hover{background-color:rgba(0,0,0,.05)!important}.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex:1 70%;padding-left:0;position:relative;transition:padding-left .15s ease-in-out}.overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{flex:1 15%;text-align:right}body[theme=light]   [_nghost-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .data-header[_ngcontent-%COMP%]{background-color:#fff}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.sub2[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.sub3[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]{background-color:#e6e6e6;border-bottom:2px solid #fff}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.sub2[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.sub3[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#333;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.sub2[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.sub3[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#141651}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.sub2[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.sub3[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.total[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#f2142c}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]{background-color:#e6e6e6}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#333;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%]{color:#141651}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .header-row.plant[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#f2142c}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]{background-color:#e6e6e6}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .title-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#9a0315;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid #e6e6e6}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#333!important;font-weight:700}body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]   .actual[_ngcontent-%COMP%], body[theme=light]   [_nghost-%COMP%]   .overview[_ngcontent-%COMP%]   .lvl3-row[_ngcontent-%COMP%]   .previous[_ngcontent-%COMP%]{color:#0d0d0d!important;font-weight:700}']}),t})();var H=e("FpXt");const J=[{path:"",component:T,children:[{path:"",component:x,data:{level:1}},{path:":type/:id",component:R,data:{level:2}},{path:":type/:id/:type2/:region_id",component:q,data:{level:3}}]}];let Q=(()=>{class t{}return t.\u0275mod=d.Pb({type:t}),t.\u0275inj=d.Ob({factory:function(n){return new(n||t)},imports:[[o.c,h.g.forChild(J),H.a]]}),t})()}}]);